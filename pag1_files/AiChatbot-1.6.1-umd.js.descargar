(function(e,t){typeof exports=="object"&&typeof module<"u"?module.exports=t(require("react/jsx-runtime"),require("react"),require("@tanstack/react-query"),require("react/jsx-dev-runtime")):typeof define=="function"&&define.amd?define(["react/jsx-runtime","react","@tanstack/react-query","react/jsx-dev-runtime"],t):(e=typeof globalThis<"u"?globalThis:e||self,e.cxComponentExports=e.cxComponentExports||{},e.cxComponentExports.AiChatbot=t(e.cxComponentDeps["react/jsx-runtime"],e.cxComponentDeps.react,e.cxComponentDeps["@tanstack/react-query"],e.cxComponentDeps["react/jsx-dev-runtime"]))})(this,function(JsxRuntime,React,ReactQuery,JsxDevRuntime){"use strict";var Pe=Object.defineProperty;var Ae=(e,t,r)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Se=(e,t,r)=>(Ae(e,typeof t!="symbol"?t+"":t,r),r);function _interopNamespaceDefault(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const ReactQuery__namespace=_interopNamespaceDefault(ReactQuery),styles$c="";/*! js-cookie v3.0.5 | MIT */function assign(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var defaultConverter={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(e,t){function r(i,a,s){if(!(typeof document>"u")){s=assign({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,s[l]!==!0&&(o+="="+s[l].split(";")[0]));return document.cookie=i+"="+e.write(a,i)+o}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],s={},o=0;o<a.length;o++){var l=a[o].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(s[c]=e.read(u,c),i===c)break}catch{}}return i?s[i]:s}}return Object.create({set:r,get:n,remove:function(i,a){r(i,"",assign({},a,{expires:-1}))},withAttributes:function(i){return init(this.converter,assign({},this.attributes,i))},withConverter:function(i){return init(assign({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var api=init(defaultConverter,{path:"/"});const JSON_MIME="application/json",CONTENT_TYPE_HEADER="Content-Type",FETCH_ERROR=Symbol(),CATCHER_FALLBACK=Symbol();function extractContentType(e={}){var t;const r=e instanceof Array?Object.fromEntries(e):e;return(t=Object.entries(r).find(([n])=>n.toLowerCase()===CONTENT_TYPE_HEADER.toLowerCase()))===null||t===void 0?void 0:t[1]}function isLikelyJsonMime(e){return/^application\/.*json.*/.test(e)}const mix=function(e,t,r=!1){return Object.entries(t).reduce((n,[i,a])=>{const s=e[i];return Array.isArray(s)&&Array.isArray(a)?n[i]=r?[...s,...a]:a:typeof s=="object"&&typeof a=="object"?n[i]=mix(s,a,r):n[i]=a,n},{...e})},config={options:{},errorType:"text",polyfills:{},polyfill(e,t=!0,r=!1,...n){const i=this.polyfills[e]||(typeof self<"u"?self[e]:null)||(typeof global<"u"?global[e]:null);if(t&&!i)throw new Error(e+" is not defined");return r&&i?new i(...n):i}};function setOptions(e,t=!1){config.options=t?e:mix(config.options,e)}function setPolyfills(e,t=!1){config.polyfills=t?e:mix(config.polyfills,e)}function setErrorType(e){config.errorType=e}const middlewareHelper=e=>t=>e.reduceRight((r,n)=>n(r),t)||t;class WretchError extends Error{}const resolver$1=e=>{const t=Object.create(null);e=e._addons.reduce((g,k)=>k.beforeRequest&&k.beforeRequest(g,e._options,t)||g,e);const{_url:r,_options:n,_config:i,_catchers:a,_resolvers:s,_middlewares:o,_addons:l}=e,u=new Map(a),c=mix(i.options,n);let f=r;const p=middlewareHelper(o)((g,k)=>(f=g,i.polyfill("fetch")(g,k)))(r,c),m=new Error,d=p.catch(g=>{throw{[FETCH_ERROR]:g}}).then(g=>{var k;if(!g.ok){const _=new WretchError;if(_.cause=m,_.stack=_.stack+`
CAUSE: `+m.stack,_.response=g,_.status=g.status,_.url=f,g.type==="opaque")throw _;const E=i.errorType==="json"||((k=g.headers.get("Content-Type"))===null||k===void 0?void 0:k.split(";")[0])==="application/json";return(i.errorType?E?g.text():g[i.errorType]():Promise.resolve(g.body)).then(F=>{throw _.message=typeof F=="string"?F:g.statusText,F&&(E&&typeof F=="string"?(_.text=F,_.json=JSON.parse(F)):_[i.errorType]=F),_})}return g}),b=g=>g.catch(k=>{const _=Object.prototype.hasOwnProperty.call(k,FETCH_ERROR),E=_?k[FETCH_ERROR]:k,I=(E==null?void 0:E.status)&&u.get(E.status)||u.get(E==null?void 0:E.name)||_&&u.has(FETCH_ERROR)&&u.get(FETCH_ERROR);if(I)return I(E,e);const F=u.get(CATCHER_FALLBACK);if(F)return F(E,e);throw E}),C=g=>k=>b(g?d.then(_=>_&&_[g]()).then(_=>k?k(_):_):d.then(_=>k?k(_):_)),y={_wretchReq:e,_fetchReq:p,_sharedState:t,res:C(null),json:C("json"),blob:C("blob"),formData:C("formData"),arrayBuffer:C("arrayBuffer"),text:C("text"),error(g,k){return u.set(g,k),this},badRequest(g){return this.error(400,g)},unauthorized(g){return this.error(401,g)},forbidden(g){return this.error(403,g)},notFound(g){return this.error(404,g)},timeout(g){return this.error(408,g)},internalError(g){return this.error(500,g)},fetchError(g){return this.error(FETCH_ERROR,g)}},x=l.reduce((g,k)=>({...g,...typeof k.resolver=="function"?k.resolver(g):k.resolver}),y);return s.reduce((g,k)=>k(g,e),x)},core={_url:"",_options:{},_config:config,_catchers:new Map,_resolvers:[],_deferred:[],_middlewares:[],_addons:[],addon(e){return{...this,_addons:[...this._addons,e],...e.wretch}},errorType(e){return{...this,_config:{...this._config,errorType:e}}},polyfills(e,t=!1){return{...this,_config:{...this._config,polyfills:t?e:mix(this._config.polyfills,e)}}},url(e,t=!1){if(t)return{...this,_url:e};const r=this._url.split("?");return{...this,_url:r.length>1?r[0]+e+"?"+r[1]:this._url+e}},options(e,t=!1){return{...this,_options:t?e:mix(this._options,e)}},headers(e){const t=e?Array.isArray(e)?Object.fromEntries(e):"entries"in e?Object.fromEntries(e.entries()):e:{};return{...this,_options:mix(this._options,{headers:t})}},accept(e){return this.headers({Accept:e})},content(e){return this.headers({[CONTENT_TYPE_HEADER]:e})},auth(e){return this.headers({Authorization:e})},catcher(e,t){const r=new Map(this._catchers);return r.set(e,t),{...this,_catchers:r}},catcherFallback(e){return this.catcher(CATCHER_FALLBACK,e)},resolve(e,t=!1){return{...this,_resolvers:t?[e]:[...this._resolvers,e]}},defer(e,t=!1){return{...this,_deferred:t?[e]:[...this._deferred,e]}},middlewares(e,t=!1){return{...this,_middlewares:t?e:[...this._middlewares,...e]}},fetch(e=this._options.method,t="",r=null){let n=this.url(t).options({method:e});const i=extractContentType(n._options.headers),a=this._config.polyfill("FormData",!1),s=typeof r=="object"&&!(a&&r instanceof a)&&(!n._options.headers||!i||isLikelyJsonMime(i));return n=r?s?n.json(r,i):n.body(r):n,resolver$1(n._deferred.reduce((o,l)=>l(o,o._url,o._options),n))},get(e=""){return this.fetch("GET",e)},delete(e=""){return this.fetch("DELETE",e)},put(e,t=""){return this.fetch("PUT",t,e)},post(e,t=""){return this.fetch("POST",t,e)},patch(e,t=""){return this.fetch("PATCH",t,e)},head(e=""){return this.fetch("HEAD",e)},opts(e=""){return this.fetch("OPTIONS",e)},body(e){return{...this,_options:{...this._options,body:e}}},json(e,t){const r=extractContentType(this._options.headers);return this.content(t||isLikelyJsonMime(r)&&r||JSON_MIME).body(JSON.stringify(e))}};function factory(e="",t={}){return{...core,_url:e,_options:t}}factory.default=factory,factory.options=setOptions,factory.errorType=setErrorType,factory.polyfills=setPolyfills,factory.WretchError=WretchError;class ApiError extends Error{constructor(r,n,i,a,s){super(r);Se(this,"statusCode");Se(this,"endpoint");Se(this,"args");Se(this,"response");this.name="ApiError",this.statusCode=n,this.endpoint=i,this.args=a,this.response=s}}class Api4xxError extends ApiError{constructor(t,r,n,i){super(`Client error ${t} occurred while fetching ${r}`,t,r,n,i),this.name="Api4xxError"}}class Api404Error extends Api4xxError{constructor(t,r,n){super(404,t,r,n),this.name="Api404Error"}}class Api400Error extends Api4xxError{constructor(t,r,n){super(400,t,r,n),this.name="Api400Error"}}class ApiErrorHandler{constructor(t={}){Se(this,"logger");Se(this,"notFoundLogLevel");Se(this,"badRequestLogLevel");Se(this,"other4xxLogLevel");this.logger=t.logger,this.notFoundLogLevel=t.notFoundLogLevel||"info",this.badRequestLogLevel=t.badRequestLogLevel||"warn",this.other4xxLogLevel=t.other4xxLogLevel||"warn"}log(t,r,n){this.logger&&this.logger[t](r,n)}async handleApiError(t,r,n){if(!(t instanceof Response))throw t;const{status:i}=t;if(i===404){const a=new Api404Error(r,n,t);return this.log(this.notFoundLogLevel,a.message,{args:n,endpoint:r,statusCode:i}),null}if(i===400){const a=new Api400Error(r,n,t);return this.log(this.badRequestLogLevel,a.message,{args:n,endpoint:r,statusCode:i}),null}if(i>=400&&i<500){const a=new Api4xxError(i,r,n,t);return this.log(this.other4xxLogLevel,a.message,{args:n,endpoint:r,statusCode:i}),null}throw t}}const configureErrorCatchers=(e,t)=>{const r=new ApiErrorHandler(t);return e.catcher(404,async n=>(await r.handleApiError(n.response,n.url),null)).catcher(400,async n=>(await r.handleApiError(n.response,n.url),null)).catcher(401,async n=>(await r.handleApiError(n.response,n.url),null)).catcher(403,async n=>(await r.handleApiError(n.response,n.url),null)).catcherFallback(async n=>{if(n.status>=400&&n.status<500)return await r.handleApiError(n.response,n.url),null;throw n})},fetchNewSession=async(e,t,r)=>{const{agent:n,user:i}=t,a=`${e}/apps/${n}/users/${i}/sessions`,s={accept:"application/json","content-type":"application/json","x-userid":r||""},o={page:typeof window<"u"?window.location.href:"/"},l=JSON.stringify({fp:r,state:o});return configureErrorCatchers(factory(a.toString(),{headers:s})).body(l).post().json().catch(()=>{throw new Error("session_error")})};async function*chatStream(e,t,r,n,i,a=!1,s){const o=`${e}/run_sse`;async function*l(d){var y;const b=d.pipeThrough(new TextDecoderStream).getReader();let C="";for(;;){const{done:x,value:g}=await b.read();if(x)break;C+=g;const k=C.split(`

`);C=k.pop()??"";for(const _ of k){const E=_.split(`
`).filter(I=>I.startsWith("data:")||I.startsWith("error:")).map(I=>I.replace(/^data:|^error:\s*/,"")).join(`
`);try{if(!((y=JSON.parse(E))!=null&&y.content))continue;yield JSON.parse(E)}catch{throw new Error("unknown_error")}}}}const u=JSON.stringify({appName:n,fp:s,newMessage:{parts:[{text:t}],role:"user"},sessionId:r,state:{bookmaker:api.get("ws-bc"),favTeam:api.get("ft"),oddsFormat:api.get("ws-of"),page:typeof window<"u"?window.location.href:"/",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},streaming:a,userId:i}),c={accept:"text/event-stream","content-type":"application/json","x-userid":s||""},p=await factory(o.toString(),{headers:c}).post(u).notFound(d=>d.json).res(d=>d).catch(async d=>{var C,y,x;if((d.status??((C=d.response)==null?void 0:C.status))===401){const g=(x=(y=d.response)==null?void 0:y.headers)==null?void 0:x.get("X-Tokens-Remaining");throw new Error("unauthorised",{cause:{tokensRemaining:g}})}throw new Error("unknown_error")}),m=p.headers.get("X-Tokens-Remaining");if(!p.body)throw new Error("No response body");for await(const d of l(p.body))yield{delta:d,tokensRemaining:m}}const fetchSpecificSessionHistory=async(e,t,r)=>{const{agent:n,sessionId:i,user:a}=t,s=`${e}/apps/${n}/users/${a}/sessions/${i}`,o={accept:"application/json","content-type":"application/json","x-userid":r||""};return configureErrorCatchers(factory(s.toString(),{headers:o})).get().notFound(()=>{throw new Error("session_not_found")}).json()},postChatFeedback=async(e,t,r,n,i)=>{const{agent:a,sessionId:s,user:o}=r,{feedback:l,id:u,type:c}=t,f=`${e}/apps/${a}/users/${o}/sessions/${s}/feedback`,p={accept:"application/json","content-type":"application/json","x-userid":n||""},m=configureErrorCatchers(factory(f.toString(),{headers:p}),i),b=JSON.stringify({event_id:u,feedback:(()=>{if(l){if(typeof l=="string")return{[l]:""};const[[C,y]]=Object.entries(l);return{[C]:y}}})(),feedback_type:c,fp:n});return m.post(b).notFound(()=>null).res(C=>C.ok)},fetchFollowupQuestions=async(e,t,r)=>{const{agent:n,pagePath:i,sessionId:a,user:s}=t;if(!a)throw new Error("session_error");const o=`${e}/apps/${n}/users/${s}/sessions/${a}/followup`,l=configureErrorCatchers(factory(o.toString(),{headers:{Accept:"text/event-stream","Content-Type":"application/json","x-userid":r||""}})),u=JSON.stringify({fp:r,isfirstquestion:null,last_response:"",page:i});return l.post(u).notFound(()=>null).text(c=>JSON.parse(c))},getAiChatbotsCurrentSessionCacheKey=e=>["ai-chatbot-current-session",e],getAiChatbotSessionsCacheKey=e=>["ai-chatbot-sessions",e],getAiChatbotFollowupCacheKey=e=>["ai-chatbot-followup-questions",e],getLocalisations=e=>t=>e&&t&&e[t]?e[t]:t;function trackEvent(e,t={},r){const i=r||(()=>{if(typeof window<"u")return window.dataLayer=window.dataLayer||[],window.dataLayer})();i&&i.push({event:e,...t})}const LOADING_KEY="TM_loading",STATUS_MSG_KEY="TM_status_msg",LOADING_TIMESTAMP="TM_loading_timestamp",LOADING_TAB_KEY="TM_loading_tab",CHAT_INTERRUPTED_KEY="TM_interrupted",TAB_ID="TM_tabId",chatLoadingStorage={get:()=>localStorage.getItem(LOADING_KEY),getLoadingTabId:localStorage.getItem(LOADING_TAB_KEY),getLoadingTimestamp:()=>localStorage.getItem(LOADING_TIMESTAMP),interruptedKey:CHAT_INTERRUPTED_KEY,key:LOADING_KEY,loadingTabKey:LOADING_TAB_KEY,loadingTimestampKey:LOADING_TIMESTAMP,removeInterrupted:()=>localStorage.removeItem(CHAT_INTERRUPTED_KEY),removeLoadingTabId:()=>localStorage.removeItem(LOADING_TAB_KEY),removeLoadingTimestamp:()=>localStorage.removeItem(LOADING_TIMESTAMP),set:e=>{e?localStorage.setItem(LOADING_KEY,"1"):localStorage.removeItem(LOADING_KEY)},setInterrupted:()=>localStorage.setItem(CHAT_INTERRUPTED_KEY,"1"),setLoadingTabId:()=>localStorage.setItem(LOADING_TAB_KEY,sessionStorage.getItem(TAB_ID)||""),setLoadingTimestamp:()=>{localStorage.setItem(LOADING_TIMESTAMP,Date.now().toString())},setStatus:e=>{e?localStorage.setItem(STATUS_MSG_KEY,e):localStorage.removeItem(STATUS_MSG_KEY)},statusMsgKey:STATUS_MSG_KEY},REMAINING_TOKEN_KEY="TM_tokens";function useChatStream(e,t,r,n,i,a,s,o){const l={role:"model",text:getLocalisations(i)("greeting_message"),timestamp:Date.now()},[u,c]=React.useState([l]),[f,p]=React.useState(),[m,d]=React.useState(!1),[b,C]=React.useState(null),[y,x]=React.useState(),g=getLocalisations(i)("unknown_error_msg"),k=I=>{c(F=>[...F,{role:"model",text:I,timestamp:Date.now()}])},_=()=>{c([l])},E=I=>{if(c(F=>[...F,{role:"user",text:I,timestamp:Date.now()}]),!t||!I){c(F=>[...F,{role:"model",text:g,timestamp:Date.now()}]);return}(async()=>{var F,z,O,N,V,H;try{d(!0),chatLoadingStorage.set(!0),chatLoadingStorage.setLoadingTabId(),chatLoadingStorage.removeInterrupted();for await(const G of chatStream(e,I,t,r,n,o==null?void 0:o.streaming,a)){const{delta:B,tokensRemaining:T}=G,R=(V=(N=(O=(z=(F=B==null?void 0:B.content)==null?void 0:F.parts)==null?void 0:z[0])==null?void 0:O.functionResponse)==null?void 0:N.response)==null?void 0:V.result;if((R==null?void 0:R.render)==="bet_builder"&&c(D=>{var j;return[...D,{data:(j=R==null?void 0:R.data)==null?void 0:j.bet_builder_render,name:R.render,role:"model",timestamp:Date.now()}]}),B!=null&&B.detail){c(D=>[...D,{role:"model",text:g,timestamp:Date.now()}]);return}if(B!=null&&B.error){__NODE_ENV__==="development"&&console.error(B.error),c(D=>[...D,{role:"model",text:g,timestamp:Date.now()}]);return}typeof T=="string"?(C(+T),localStorage.setItem(REMAINING_TOKEN_KEY,T)):typeof T>"u"&&(C(null),localStorage.removeItem(REMAINING_TOKEN_KEY));const S=(H=B.content)==null?void 0:H.parts;if(!S||(B==null?void 0:B.author)==="football_agent"&&S.length===1)continue;const A=B.author==="football_agent"&&S.length>1;S==null||S.forEach(D=>{var W,Y;const j=D.text,L=((W=D.functionCall)==null?void 0:W.name)||((Y=D.functionResponse)==null?void 0:Y.name);j&&c(q=>{if(!(o!=null&&o.streaming)&&j)return[...q,{id:A?void 0:B.id,role:"model",text:j,timestamp:Date.now()}];if(q.length===0||q[q.length-1].role!=="model")return[...q,{id:B.id,role:"model",text:j,timestamp:Date.now()}];const Z=[...q],Q=Z[Z.length-1];return Z[Z.length-1]={...Q,id:Q.id,text:(Q==null?void 0:Q.text)+j,timestamp:Date.now()},Z}),L&&(chatLoadingStorage.setStatus(null),x(L),chatLoadingStorage.setStatus(L))})}}catch(G){p(G.message),G.message==="unauthorised"&&C(+G.cause.tokensRemaining||0),c(B=>[...B,{role:"model",text:g,timestamp:Date.now()}])}finally{d(!1),x(void 0),chatLoadingStorage.set(!1),chatLoadingStorage.setStatus(null)}})()};return React.useEffect(()=>{s&&(()=>{const F=(s==null?void 0:s.reduce((z,O,N)=>{var V,H;return O!=null&&O.content&&((H=(V=O==null?void 0:O.content)==null?void 0:V.parts)==null||H.forEach(G=>{var T,R,S,P;if(G!=null&&G.text){if(O.author!=="output_agent"&&O.content.role!=="user")return z;z.push({role:(T=O.content)==null?void 0:T.role,text:G==null?void 0:G.text,timestamp:Date.now()+N})}const B=(S=(R=G==null?void 0:G.functionResponse)==null?void 0:R.response)==null?void 0:S.result;(B==null?void 0:B.render)==="bet_builder"&&z.push({data:(P=B==null?void 0:B.data)==null?void 0:P.bet_builder_render,name:B.render,role:"model",timestamp:Date.now()})})),z},[]))||[];F.length>0&&c([l,...F])})()},[s]),React.useEffect(()=>{d(!!localStorage.getItem(chatLoadingStorage.key));const I=F=>{switch(F.key){case chatLoadingStorage.key:d(!!localStorage.getItem(chatLoadingStorage.key));break;case REMAINING_TOKEN_KEY:F.newValue&&C(+F.newValue);break;case chatLoadingStorage.statusMsgKey:F.newValue?x(F.newValue):x(void 0);break}};return window.addEventListener("storage",I),()=>window.removeEventListener("storage",I)},[]),{chat:E,clearChatHistory:_,error:f,insertModelMessage:k,loading:m,messages:u,streamStatus:y,tokensRemaining:b}}const useFetchFollowupQuestions=e=>{const{agentBaseUrl:t,enabled:r,fingerPrint:n,followupProps:i,modelMessageCount:a}=e,{data:s,error:o,isLoading:l,isRefetching:u,refetch:c}=ReactQuery.useQuery({enabled:r,queryFn:()=>fetchFollowupQuestions(t,i,n),queryKey:getAiChatbotFollowupCacheKey((i==null?void 0:i.sessionId)+`msgCount-${a}`),retry:!1});return{data:s,error:o,isLoading:l,isRefetching:u,refetch:c}},USER_SESSION_KEY="TM_userS",ANON_SESSION_KEY="TM_anonS",TAB_ID_LIST_KEY="TM_tabList",TAB_ID_KEY="TM_tabId",TOKEN_KEY="TM_tokens",UID_KEY="ui";function useSessionManager(){const e=()=>api.get(UID_KEY),t=()=>!!e(),r=()=>t()?localStorage.getItem(USER_SESSION_KEY):localStorage.getItem(ANON_SESSION_KEY),[n,i]=React.useState(r),a=React.useRef(!1),s={reset:()=>{localStorage.removeItem(TAB_ID_LIST_KEY),localStorage.removeItem(USER_SESSION_KEY),localStorage.removeItem(ANON_SESSION_KEY),localStorage.removeItem(TOKEN_KEY)},store:o=>{e()?localStorage.setItem(USER_SESSION_KEY,o):localStorage.setItem(ANON_SESSION_KEY,o),i(o)}};return React.useEffect(()=>{const o=()=>{if(e()){localStorage.removeItem(ANON_SESSION_KEY),sessionStorage.removeItem(ANON_SESSION_KEY);const p=sessionStorage.getItem(USER_SESSION_KEY),m=localStorage.getItem(USER_SESSION_KEY)||p;m&&(localStorage.setItem(USER_SESSION_KEY,m),i(m))}else{localStorage.removeItem(USER_SESSION_KEY),sessionStorage.removeItem(USER_SESSION_KEY);const p=sessionStorage.getItem(ANON_SESSION_KEY),m=localStorage.getItem(ANON_SESSION_KEY)||p;m&&(localStorage.setItem(ANON_SESSION_KEY,m),i(m))}},l=f=>{f.key===USER_SESSION_KEY&&i(localStorage.getItem(USER_SESSION_KEY)),f.key===ANON_SESSION_KEY&&i(localStorage.getItem(ANON_SESSION_KEY))},u={register:()=>{let f=sessionStorage.getItem(TAB_ID_KEY);f||(f=crypto.randomUUID(),sessionStorage.setItem(TAB_ID_KEY,f));const p=JSON.parse(localStorage.getItem(TAB_ID_LIST_KEY)||"[]");!a.current&&f&&!p.includes(f)&&(p.push(f),localStorage.setItem(TAB_ID_LIST_KEY,JSON.stringify(p)),a.current=!0)},remove:()=>{const f=sessionStorage.getItem(TAB_ID_KEY),p=JSON.parse(localStorage.getItem(TAB_ID_LIST_KEY)||"[]");if(f){const m=p.filter(b=>b!==f);localStorage.setItem(TAB_ID_LIST_KEY,JSON.stringify(m)),localStorage.getItem(chatLoadingStorage.key)&&(chatLoadingStorage.setInterrupted(),chatLoadingStorage.set(!1),chatLoadingStorage.setStatus(null)),m.length===0&&(sessionStorage.setItem(e()?USER_SESSION_KEY:ANON_SESSION_KEY,localStorage.getItem(USER_SESSION_KEY)||localStorage.getItem(ANON_SESSION_KEY)||""),s.reset(),chatLoadingStorage.removeInterrupted(),chatLoadingStorage.removeLoadingTabId(),chatLoadingStorage.removeLoadingTabId(),chatLoadingStorage.set(!1))}}};o();const c=setTimeout(u.register,300);return window.addEventListener("beforeunload",u.remove),window.addEventListener("storage",l),()=>{clearTimeout(c),window.removeEventListener("beforeunload",u.remove),window.removeEventListener("storage",l)}},[]),{activeSession:n,resetActiveSession:s.reset,storeActiveSession:s.store}}const useFetchNewSession=e=>{const{agentBaseUrl:t,enabled:r,fingerPrint:n,params:i}=e,{activeSession:a,storeActiveSession:s}=useSessionManager(),{data:o,error:l,isLoading:u,refetch:c}=ReactQuery.useQuery({enabled:!!(r&&!a),queryFn:()=>fetchNewSession(t,i,n),queryKey:getAiChatbotsCurrentSessionCacheKey(i.user),retry:!1});return React.useEffect(()=>{!a&&r&&c()},[a,r]),React.useEffect(()=>{o!=null&&o.id&&s(o.id)},[o]),{error:l,isLoading:u,refetch:c,sessionId:a}},useFetchSpecificSessionHistory=e=>{const{agentBaseUrl:t,enabled:r,fingerPrint:n,params:i}=e,{data:a,error:s,isLoading:o,refetch:l}=ReactQuery.useQuery({enabled:r,queryFn:()=>fetchSpecificSessionHistory(t,i,n),queryKey:getAiChatbotSessionsCacheKey(i),retry:!1});return React.useEffect(()=>{const u=c=>{c.key===chatLoadingStorage.key&&l()};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}},[]),{data:a==null?void 0:a.events,error:s,isLoading:o}};var __assign=function(){return __assign=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},__assign.apply(this,arguments)};function __awaiter(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function __generator(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function __spreadArray(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var version="4.6.2";function wait(e,t){return new Promise(function(r){return setTimeout(r,e,t)})}function releaseEventLoop(){return new Promise(function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})}function requestIdleCallbackIfAvailable(e,t){t===void 0&&(t=1/0);var r=window.requestIdleCallback;return r?new Promise(function(n){return r.call(window,function(){return n()},{timeout:t})}):wait(Math.min(e,t))}function isPromise(e){return!!e&&typeof e.then=="function"}function awaitIfAsync(e,t){try{var r=e();isPromise(r)?r.then(function(n){return t(!0,n)},function(n){return t(!1,n)}):t(!0,r)}catch(n){t(!1,n)}}function mapWithBreaks(e,t,r){return r===void 0&&(r=16),__awaiter(this,void 0,void 0,function(){var n,i,a,s;return __generator(this,function(o){switch(o.label){case 0:n=Array(e.length),i=Date.now(),a=0,o.label=1;case 1:return a<e.length?(n[a]=t(e[a],a),s=Date.now(),s>=i+r?(i=s,[4,releaseEventLoop()]):[3,3]):[3,4];case 2:o.sent(),o.label=3;case 3:return++a,[3,1];case 4:return[2,n]}})})}function suppressUnhandledRejectionWarning(e){return e.then(void 0,function(){}),e}function includes(e,t){for(var r=0,n=e.length;r<n;++r)if(e[r]===t)return!0;return!1}function excludes(e,t){return!includes(e,t)}function toInt(e){return parseInt(e)}function toFloat(e){return parseFloat(e)}function replaceNaN(e,t){return typeof e=="number"&&isNaN(e)?t:e}function countTruthy(e){return e.reduce(function(t,r){return t+(r?1:0)},0)}function round(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var r=1/t;return Math.round(e*r)/r}function parseSimpleCssSelector(e){for(var t,r,n="Unexpected syntax '".concat(e,"'"),i=/^\s*([a-z-]*)(.*)$/i.exec(e),a=i[1]||void 0,s={},o=/([.:#][\w-]+|\[.+?\])/gi,l=function(p,m){s[p]=s[p]||[],s[p].push(m)};;){var u=o.exec(i[2]);if(!u)break;var c=u[0];switch(c[0]){case".":l("class",c.slice(1));break;case"#":l("id",c.slice(1));break;case"[":{var f=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(c);if(f)l(f[1],(r=(t=f[4])!==null&&t!==void 0?t:f[5])!==null&&r!==void 0?r:"");else throw new Error(n);break}default:throw new Error(n)}}return[a,s]}function getUTF8Bytes(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n>127)return new TextEncoder().encode(e);t[r]=n}return t}function x64Add(e,t){var r=e[0]>>>16,n=e[0]&65535,i=e[1]>>>16,a=e[1]&65535,s=t[0]>>>16,o=t[0]&65535,l=t[1]>>>16,u=t[1]&65535,c=0,f=0,p=0,m=0;m+=a+u,p+=m>>>16,m&=65535,p+=i+l,f+=p>>>16,p&=65535,f+=n+o,c+=f>>>16,f&=65535,c+=r+s,c&=65535,e[0]=c<<16|f,e[1]=p<<16|m}function x64Multiply(e,t){var r=e[0]>>>16,n=e[0]&65535,i=e[1]>>>16,a=e[1]&65535,s=t[0]>>>16,o=t[0]&65535,l=t[1]>>>16,u=t[1]&65535,c=0,f=0,p=0,m=0;m+=a*u,p+=m>>>16,m&=65535,p+=i*u,f+=p>>>16,p&=65535,p+=a*l,f+=p>>>16,p&=65535,f+=n*u,c+=f>>>16,f&=65535,f+=i*l,c+=f>>>16,f&=65535,f+=a*o,c+=f>>>16,f&=65535,c+=r*u+n*l+i*o+a*s,c&=65535,e[0]=c<<16|f,e[1]=p<<16|m}function x64Rotl(e,t){var r=e[0];t%=64,t===32?(e[0]=e[1],e[1]=r):t<32?(e[0]=r<<t|e[1]>>>32-t,e[1]=e[1]<<t|r>>>32-t):(t-=32,e[0]=e[1]<<t|r>>>32-t,e[1]=r<<t|e[1]>>>32-t)}function x64LeftShift(e,t){t%=64,t!==0&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function x64Xor(e,t){e[0]^=t[0],e[1]^=t[1]}var F1=[4283543511,3981806797],F2=[3301882366,444984403];function x64Fmix(e){var t=[0,e[0]>>>1];x64Xor(e,t),x64Multiply(e,F1),t[1]=e[0]>>>1,x64Xor(e,t),x64Multiply(e,F2),t[1]=e[0]>>>1,x64Xor(e,t)}var C1=[2277735313,289559509],C2=[1291169091,658871167],M$1=[0,5],N1=[0,1390208809],N2=[0,944331445];function x64hash128(e,t){var r=getUTF8Bytes(e);t=t||0;var n=[0,r.length],i=n[1]%16,a=n[1]-i,s=[0,t],o=[0,t],l=[0,0],u=[0,0],c;for(c=0;c<a;c=c+16)l[0]=r[c+4]|r[c+5]<<8|r[c+6]<<16|r[c+7]<<24,l[1]=r[c]|r[c+1]<<8|r[c+2]<<16|r[c+3]<<24,u[0]=r[c+12]|r[c+13]<<8|r[c+14]<<16|r[c+15]<<24,u[1]=r[c+8]|r[c+9]<<8|r[c+10]<<16|r[c+11]<<24,x64Multiply(l,C1),x64Rotl(l,31),x64Multiply(l,C2),x64Xor(s,l),x64Rotl(s,27),x64Add(s,o),x64Multiply(s,M$1),x64Add(s,N1),x64Multiply(u,C2),x64Rotl(u,33),x64Multiply(u,C1),x64Xor(o,u),x64Rotl(o,31),x64Add(o,s),x64Multiply(o,M$1),x64Add(o,N2);l[0]=0,l[1]=0,u[0]=0,u[1]=0;var f=[0,0];switch(i){case 15:f[1]=r[c+14],x64LeftShift(f,48),x64Xor(u,f);case 14:f[1]=r[c+13],x64LeftShift(f,40),x64Xor(u,f);case 13:f[1]=r[c+12],x64LeftShift(f,32),x64Xor(u,f);case 12:f[1]=r[c+11],x64LeftShift(f,24),x64Xor(u,f);case 11:f[1]=r[c+10],x64LeftShift(f,16),x64Xor(u,f);case 10:f[1]=r[c+9],x64LeftShift(f,8),x64Xor(u,f);case 9:f[1]=r[c+8],x64Xor(u,f),x64Multiply(u,C2),x64Rotl(u,33),x64Multiply(u,C1),x64Xor(o,u);case 8:f[1]=r[c+7],x64LeftShift(f,56),x64Xor(l,f);case 7:f[1]=r[c+6],x64LeftShift(f,48),x64Xor(l,f);case 6:f[1]=r[c+5],x64LeftShift(f,40),x64Xor(l,f);case 5:f[1]=r[c+4],x64LeftShift(f,32),x64Xor(l,f);case 4:f[1]=r[c+3],x64LeftShift(f,24),x64Xor(l,f);case 3:f[1]=r[c+2],x64LeftShift(f,16),x64Xor(l,f);case 2:f[1]=r[c+1],x64LeftShift(f,8),x64Xor(l,f);case 1:f[1]=r[c],x64Xor(l,f),x64Multiply(l,C1),x64Rotl(l,31),x64Multiply(l,C2),x64Xor(s,l)}return x64Xor(s,n),x64Xor(o,n),x64Add(s,o),x64Add(o,s),x64Fmix(s),x64Fmix(o),x64Add(s,o),x64Add(o,s),("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}function errorToObject(e){var t;return __assign({name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split(`
`)},e)}function isFunctionNative(e){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))}function isFinalResultLoaded(e){return typeof e!="function"}function loadSource(e,t){var r=suppressUnhandledRejectionWarning(new Promise(function(n){var i=Date.now();awaitIfAsync(e.bind(null,t),function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var o=Date.now()-i;if(!a[0])return n(function(){return{error:a[1],duration:o}});var l=a[1];if(isFinalResultLoaded(l))return n(function(){return{value:l,duration:o}});n(function(){return new Promise(function(u){var c=Date.now();awaitIfAsync(l,function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var m=o+Date.now()-c;if(!f[0])return u({error:f[1],duration:m});u({value:f[1],duration:m})})})})})}));return function(){return r.then(function(i){return i()})}}function loadSources(e,t,r,n){var i=Object.keys(e).filter(function(s){return excludes(r,s)}),a=suppressUnhandledRejectionWarning(mapWithBreaks(i,function(s){return loadSource(e[s],t)},n));return function(){return __awaiter(this,void 0,void 0,function(){var o,l,u,c,f;return __generator(this,function(p){switch(p.label){case 0:return[4,a];case 1:return o=p.sent(),[4,mapWithBreaks(o,function(m){return suppressUnhandledRejectionWarning(m())},n)];case 2:return l=p.sent(),[4,Promise.all(l)];case 3:for(u=p.sent(),c={},f=0;f<i.length;++f)c[i[f]]=u[f];return[2,c]}})})}}function isTrident(){var e=window,t=navigator;return countTruthy(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function isEdgeHTML(){var e=window,t=navigator;return countTruthy(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!isTrident()}function isChromium(){var e=window,t=navigator;return countTruthy(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,(t.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function isWebKit(){var e=window,t=navigator;return countTruthy(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"RGBColor"in e,"WebKitMediaKeys"in e])>=4}function isDesktopWebKit(){var e=window,t=e.HTMLElement,r=e.Document;return countTruthy(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),r&&"pointerLockElement"in r.prototype])>=4}function isSafariWebKit(){var e=window;return isFunctionNative(e.print)&&String(e.browser)==="[object WebPageNamespace]"}function isGecko(){var e,t,r=window;return countTruthy(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in r,"mozInnerScreenX"in r,"CSSMozDocumentRule"in r,"CanvasCaptureMediaStream"in r])>=4}function isChromium86OrNewer(){var e=window;return countTruthy([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function isChromium122OrNewer(){var e=window,t=e.URLPattern;return countTruthy(["union"in Set.prototype,"Iterator"in e,t&&"hasRegExpGroups"in t.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function isWebKit606OrNewer(){var e=window;return countTruthy(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function isWebKit616OrNewer(){var e=window,t=navigator,r=e.CSS,n=e.HTMLButtonElement;return countTruthy([!("getStorageUpdates"in t),n&&"popover"in n.prototype,"CSSCounterStyleRule"in e,r.supports("font-size-adjust: ex-height 0.5"),r.supports("text-transform: full-width")])>=4}function isIPad(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return countTruthy(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function getFullscreenElement(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function exitFullscreen(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function isAndroid(){var e=isChromium(),t=isGecko(),r=window,n=navigator,i="connection";return e?countTruthy([!("SharedWorker"in r),n[i]&&"ontypechange"in n[i],!("sinkId"in new Audio)])>=2:t?countTruthy(["onorientationchange"in r,"orientation"in r,/android/i.test(n.appVersion)])>=2:!1}function isSamsungInternet(){var e=navigator,t=window,r=Audio.prototype,n=t.visualViewport;return countTruthy(["srLatency"in r,"srChannelCount"in r,"devicePosture"in e,n&&"segments"in n,"getTextInformation"in Image.prototype])>=3}function getAudioFingerprint(){return doesBrowserPerformAntifingerprinting$1()?-4:getUnstableAudioFingerprint()}function getUnstableAudioFingerprint(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(doesBrowserSuspendAudioContext())return-1;var r=4500,n=5e3,i=new t(1,n,44100),a=i.createOscillator();a.type="triangle",a.frequency.value=1e4;var s=i.createDynamicsCompressor();s.threshold.value=-50,s.knee.value=40,s.ratio.value=12,s.attack.value=0,s.release.value=.25,a.connect(s),s.connect(i.destination),a.start(0);var o=startRenderingAudio(i),l=o[0],u=o[1],c=suppressUnhandledRejectionWarning(l.then(function(f){return getHash(f.getChannelData(0).subarray(r))},function(f){if(f.name==="timeout"||f.name==="suspended")return-3;throw f}));return function(){return u(),c}}function doesBrowserSuspendAudioContext(){return isWebKit()&&!isDesktopWebKit()&&!isWebKit606OrNewer()}function doesBrowserPerformAntifingerprinting$1(){return isWebKit()&&isWebKit616OrNewer()&&isSafariWebKit()||isChromium()&&isSamsungInternet()&&isChromium122OrNewer()}function startRenderingAudio(e){var t=3,r=500,n=500,i=5e3,a=function(){},s=new Promise(function(o,l){var u=!1,c=0,f=0;e.oncomplete=function(d){return o(d.renderedBuffer)};var p=function(){setTimeout(function(){return l(makeInnerError("timeout"))},Math.min(n,f+i-Date.now()))},m=function(){try{var d=e.startRendering();switch(isPromise(d)&&suppressUnhandledRejectionWarning(d),e.state){case"running":f=Date.now(),u&&p();break;case"suspended":document.hidden||c++,u&&c>=t?l(makeInnerError("suspended")):setTimeout(m,r);break}}catch(b){l(b)}};m(),a=function(){u||(u=!0,f>0&&p())}});return[s,a]}function getHash(e){for(var t=0,r=0;r<e.length;++r)t+=Math.abs(e[r]);return t}function makeInnerError(e){var t=new Error(e);return t.name=e,t}function withIframe(e,t,r){var n,i,a;return r===void 0&&(r=50),__awaiter(this,void 0,void 0,function(){var s,o;return __generator(this,function(l){switch(l.label){case 0:s=document,l.label=1;case 1:return s.body?[3,3]:[4,wait(r)];case 2:return l.sent(),[3,1];case 3:o=s.createElement("iframe"),l.label=4;case 4:return l.trys.push([4,,10,11]),[4,new Promise(function(u,c){var f=!1,p=function(){f=!0,u()},m=function(C){f=!0,c(C)};o.onload=p,o.onerror=m;var d=o.style;d.setProperty("display","block","important"),d.position="absolute",d.top="0",d.left="0",d.visibility="hidden",t&&"srcdoc"in o?o.srcdoc=t:o.src="about:blank",s.body.appendChild(o);var b=function(){var C,y;f||(((y=(C=o.contentWindow)===null||C===void 0?void 0:C.document)===null||y===void 0?void 0:y.readyState)==="complete"?p():setTimeout(b,10))};b()})];case 5:l.sent(),l.label=6;case 6:return!((i=(n=o.contentWindow)===null||n===void 0?void 0:n.document)===null||i===void 0)&&i.body?[3,8]:[4,wait(r)];case 7:return l.sent(),[3,6];case 8:return[4,e(o,o.contentWindow)];case 9:return[2,l.sent()];case 10:return(a=o.parentNode)===null||a===void 0||a.removeChild(o),[7];case 11:return[2]}})})}function selectorToElement(e){for(var t=parseSimpleCssSelector(e),r=t[0],n=t[1],i=document.createElement(r??"div"),a=0,s=Object.keys(n);a<s.length;a++){var o=s[a],l=n[o].join(" ");o==="style"?addStyleString(i.style,l):i.setAttribute(o,l)}return i}function addStyleString(e,t){for(var r=0,n=t.split(";");r<n.length;r++){var i=n[r],a=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(i);if(a){var s=a[1],o=a[2],l=a[4];e.setProperty(s,o,l||"")}}}function isAnyParentCrossOrigin(){for(var e=window;;){var t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(r){if(r instanceof Error&&r.name==="SecurityError")return!0;throw r}e=t}}var testString="mmMwWLliI0O&1",textSize="48px",baseFonts=["monospace","sans-serif","serif"],fontList=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function getFonts(){var e=this;return withIframe(function(t,r){var n=r.document;return __awaiter(e,void 0,void 0,function(){var i,a,s,o,l,u,c,f,p,m,d,b;return __generator(this,function(C){for(i=n.body,i.style.fontSize=textSize,a=n.createElement("div"),a.style.setProperty("visibility","hidden","important"),s={},o={},l=function(y){var x=n.createElement("span"),g=x.style;return g.position="absolute",g.top="0",g.left="0",g.fontFamily=y,x.textContent=testString,a.appendChild(x),x},u=function(y,x){return l("'".concat(y,"',").concat(x))},c=function(){return baseFonts.map(l)},f=function(){for(var y={},x=function(E){y[E]=baseFonts.map(function(I){return u(E,I)})},g=0,k=fontList;g<k.length;g++){var _=k[g];x(_)}return y},p=function(y){return baseFonts.some(function(x,g){return y[g].offsetWidth!==s[x]||y[g].offsetHeight!==o[x]})},m=c(),d=f(),i.appendChild(a),b=0;b<baseFonts.length;b++)s[baseFonts[b]]=m[b].offsetWidth,o[baseFonts[b]]=m[b].offsetHeight;return[2,fontList.filter(function(y){return p(d[y])})]})})})}function getPlugins(){var e=navigator.plugins;if(e){for(var t=[],r=0;r<e.length;++r){var n=e[r];if(n){for(var i=[],a=0;a<n.length;++a){var s=n[a];i.push({type:s.type,suffixes:s.suffixes})}t.push({name:n.name,description:n.description,mimeTypes:i})}}return t}}function getCanvasFingerprint(){return getUnstableCanvasFingerprint(doesBrowserPerformAntifingerprinting())}function getUnstableCanvasFingerprint(e){var t,r=!1,n,i,a=makeCanvasContext(),s=a[0],o=a[1];return isSupported(s,o)?(r=doesSupportWinding(o),e?n=i="skipped":(t=renderImages(s,o),n=t[0],i=t[1])):n=i="unsupported",{winding:r,geometry:n,text:i}}function makeCanvasContext(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function isSupported(e,t){return!!(t&&e.toDataURL)}function doesSupportWinding(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function renderImages(e,t){renderTextImage(e,t);var r=canvasToString(e),n=canvasToString(e);if(r!==n)return["unstable","unstable"];renderGeometryImage(e,t);var i=canvasToString(e);return[i,r]}function renderTextImage(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var r="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(r,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(r,4,45)}function renderGeometryImage(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var r=0,n=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];r<n.length;r++){var i=n[r],a=i[0],s=i[1],o=i[2];t.fillStyle=a,t.beginPath(),t.arc(s,o,40,0,Math.PI*2,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function canvasToString(e){return e.toDataURL()}function doesBrowserPerformAntifingerprinting(){return isWebKit()&&isWebKit616OrNewer()&&isSafariWebKit()}function getTouchSupport(){var e=navigator,t=0,r;e.maxTouchPoints!==void 0?t=toInt(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),r=!0}catch{r=!1}var n="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:r,touchStart:n}}function getOsCpu(){return navigator.oscpu}function getLanguages(){var e=navigator,t=[],r=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(r!==void 0&&t.push([r]),Array.isArray(e.languages))isChromium()&&isChromium86OrNewer()||t.push(e.languages);else if(typeof e.languages=="string"){var n=e.languages;n&&t.push(n.split(","))}return t}function getColorDepth(){return window.screen.colorDepth}function getDeviceMemory(){return replaceNaN(toFloat(navigator.deviceMemory),void 0)}function getScreenResolution(){if(!(isWebKit()&&isWebKit616OrNewer()&&isSafariWebKit()))return getUnstableScreenResolution()}function getUnstableScreenResolution(){var e=screen,t=function(n){return replaceNaN(toInt(n),null)},r=[t(e.width),t(e.height)];return r.sort().reverse(),r}var screenFrameCheckInterval=2500,roundingPrecision=10,screenFrameBackup,screenFrameSizeTimeoutId;function watchScreenFrame(){if(screenFrameSizeTimeoutId===void 0){var e=function(){var t=getCurrentScreenFrame();isFrameSizeNull(t)?screenFrameSizeTimeoutId=setTimeout(e,screenFrameCheckInterval):(screenFrameBackup=t,screenFrameSizeTimeoutId=void 0)};e()}}function getUnstableScreenFrame(){var e=this;return watchScreenFrame(),function(){return __awaiter(e,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return t=getCurrentScreenFrame(),isFrameSizeNull(t)?screenFrameBackup?[2,__spreadArray([],screenFrameBackup,!0)]:getFullscreenElement()?[4,exitFullscreen()]:[3,2]:[3,2];case 1:r.sent(),t=getCurrentScreenFrame(),r.label=2;case 2:return isFrameSizeNull(t)||(screenFrameBackup=t),[2,t]}})})}}function getScreenFrame(){var e=this;if(isWebKit()&&isWebKit616OrNewer()&&isSafariWebKit())return function(){return Promise.resolve(void 0)};var t=getUnstableScreenFrame();return function(){return __awaiter(e,void 0,void 0,function(){var r,n;return __generator(this,function(i){switch(i.label){case 0:return[4,t()];case 1:return r=i.sent(),n=function(a){return a===null?null:round(a,roundingPrecision)},[2,[n(r[0]),n(r[1]),n(r[2]),n(r[3])]]}})})}}function getCurrentScreenFrame(){var e=screen;return[replaceNaN(toFloat(e.availTop),null),replaceNaN(toFloat(e.width)-toFloat(e.availWidth)-replaceNaN(toFloat(e.availLeft),0),null),replaceNaN(toFloat(e.height)-toFloat(e.availHeight)-replaceNaN(toFloat(e.availTop),0),null),replaceNaN(toFloat(e.availLeft),null)]}function isFrameSizeNull(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function getHardwareConcurrency(){return replaceNaN(toInt(navigator.hardwareConcurrency),void 0)}function getTimezone(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var r=new t().resolvedOptions().timeZone;if(r)return r}var n=-getTimezoneOffset();return"UTC".concat(n>=0?"+":"").concat(n)}function getTimezoneOffset(){var e=new Date().getFullYear();return Math.max(toFloat(new Date(e,0,1).getTimezoneOffset()),toFloat(new Date(e,6,1).getTimezoneOffset()))}function getSessionStorage(){try{return!!window.sessionStorage}catch{return!0}}function getLocalStorage(){try{return!!window.localStorage}catch{return!0}}function getIndexedDB(){if(!(isTrident()||isEdgeHTML()))try{return!!window.indexedDB}catch{return!0}}function getOpenDatabase(){return!!window.openDatabase}function getCpuClass(){return navigator.cpuClass}function getPlatform(){var e=navigator.platform;return e==="MacIntel"&&isWebKit()&&!isDesktopWebKit()?isIPad()?"iPad":"iPhone":e}function getVendor(){return navigator.vendor||""}function getVendorFlavors(){for(var e=[],t=0,r=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<r.length;t++){var n=r[t],i=window[n];i&&typeof i=="object"&&e.push(n)}return e.sort()}function areCookiesEnabled(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function getFilters(){var e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',e("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",e("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2NhbXBhaWduLWJhbm5lcg=="),e("I0FkLUNvbnRlbnQ=")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",e("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),e("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",e("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",e("LndpZGdldF9wb19hZHNfd2lkZ2V0"),e("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",e("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",e("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",e("LnNwb25zb3JsaW5rZ3J1ZW4="),e("I3dlcmJ1bmdza3k="),e("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),e("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function getDomBlockers(e){var t=e===void 0?{}:e,r=t.debug;return __awaiter(this,void 0,void 0,function(){var n,i,a,s,o,l;return __generator(this,function(u){switch(u.label){case 0:return isApplicable()?(n=getFilters(),i=Object.keys(n),a=(l=[]).concat.apply(l,i.map(function(c){return n[c]})),[4,getBlockedSelectors(a)]):[2,void 0];case 1:return s=u.sent(),r&&printDebug(n,s),o=i.filter(function(c){var f=n[c],p=countTruthy(f.map(function(m){return s[m]}));return p>f.length*.6}),o.sort(),[2,o]}})})}function isApplicable(){return isWebKit()||isAndroid()}function getBlockedSelectors(e){var t;return __awaiter(this,void 0,void 0,function(){var r,n,i,a,l,s,o,l;return __generator(this,function(u){switch(u.label){case 0:for(r=document,n=r.createElement("div"),i=new Array(e.length),a={},forceShow(n),l=0;l<e.length;++l)s=selectorToElement(e[l]),s.tagName==="DIALOG"&&s.show(),o=r.createElement("div"),forceShow(o),o.appendChild(s),n.appendChild(o),i[l]=s;u.label=1;case 1:return r.body?[3,3]:[4,wait(50)];case 2:return u.sent(),[3,1];case 3:r.body.appendChild(n);try{for(l=0;l<e.length;++l)i[l].offsetParent||(a[e[l]]=!0)}finally{(t=n.parentNode)===null||t===void 0||t.removeChild(n)}return[2,a]}})})}function forceShow(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function printDebug(e,t){for(var r="DOM blockers debug:\n```",n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];r+=`
`.concat(a,":");for(var s=0,o=e[a];s<o.length;s++){var l=o[s];r+=`
  `.concat(t[l]?"🚫":"➡️"," ").concat(l)}}console.log("".concat(r,"\n```"))}function getColorGamut(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var r=t[e];if(matchMedia("(color-gamut: ".concat(r,")")).matches)return r}}function areColorsInverted(){if(doesMatch$5("inverted"))return!0;if(doesMatch$5("none"))return!1}function doesMatch$5(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function areColorsForced(){if(doesMatch$4("active"))return!0;if(doesMatch$4("none"))return!1}function doesMatch$4(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var maxValueToCheck=100;function getMonochromeDepth(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=maxValueToCheck;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function getContrastPreference(){if(doesMatch$3("no-preference"))return 0;if(doesMatch$3("high")||doesMatch$3("more"))return 1;if(doesMatch$3("low")||doesMatch$3("less"))return-1;if(doesMatch$3("forced"))return 10}function doesMatch$3(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function isMotionReduced(){if(doesMatch$2("reduce"))return!0;if(doesMatch$2("no-preference"))return!1}function doesMatch$2(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function isTransparencyReduced(){if(doesMatch$1("reduce"))return!0;if(doesMatch$1("no-preference"))return!1}function doesMatch$1(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function isHDR(){if(doesMatch("high"))return!0;if(doesMatch("standard"))return!1}function doesMatch(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var M=Math,fallbackFn=function(){return 0};function getMathFingerprint(){var e=M.acos||fallbackFn,t=M.acosh||fallbackFn,r=M.asin||fallbackFn,n=M.asinh||fallbackFn,i=M.atanh||fallbackFn,a=M.atan||fallbackFn,s=M.sin||fallbackFn,o=M.sinh||fallbackFn,l=M.cos||fallbackFn,u=M.cosh||fallbackFn,c=M.tan||fallbackFn,f=M.tanh||fallbackFn,p=M.exp||fallbackFn,m=M.expm1||fallbackFn,d=M.log1p||fallbackFn,b=function(F){return M.pow(M.PI,F)},C=function(F){return M.log(F+M.sqrt(F*F-1))},y=function(F){return M.log(F+M.sqrt(F*F+1))},x=function(F){return M.log((1+F)/(1-F))/2},g=function(F){return M.exp(F)-1/M.exp(F)/2},k=function(F){return(M.exp(F)+1/M.exp(F))/2},_=function(F){return M.exp(F)-1},E=function(F){return(M.exp(2*F)-1)/(M.exp(2*F)+1)},I=function(F){return M.log(1+F)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:C(1e154),asin:r(.12312423423423424),asinh:n(1),asinhPf:y(1),atanh:i(.5),atanhPf:x(.5),atan:a(.5),sin:s(-1e300),sinh:o(1),sinhPf:g(1),cos:l(10.000000000123),cosh:u(1),coshPf:k(1),tan:c(-1e300),tanh:f(1),tanhPf:E(1),exp:p(1),expm1:m(1),expm1Pf:_(1),log1p:d(10),log1pPf:I(10),powPI:b(-100)}}var defaultText="mmMwWLliI0fiflO&1",presets={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function getFontPreferences(){return withNaturalFonts(function(e,t){for(var r={},n={},i=0,a=Object.keys(presets);i<a.length;i++){var s=a[i],o=presets[s],l=o[0],u=l===void 0?{}:l,c=o[1],f=c===void 0?defaultText:c,p=e.createElement("span");p.textContent=f,p.style.whiteSpace="nowrap";for(var m=0,d=Object.keys(u);m<d.length;m++){var b=d[m],C=u[b];C!==void 0&&(p.style[b]=C)}r[s]=p,t.append(e.createElement("br"),p)}for(var y=0,x=Object.keys(presets);y<x.length;y++){var s=x[y];n[s]=r[s].getBoundingClientRect().width}return n})}function withNaturalFonts(e,t){return t===void 0&&(t=4e3),withIframe(function(r,n){var i=n.document,a=i.body,s=a.style;s.width="".concat(t,"px"),s.webkitTextSizeAdjust=s.textSizeAdjust="none",isChromium()?a.style.zoom="".concat(1/n.devicePixelRatio):isWebKit()&&(a.style.zoom="reset");var o=i.createElement("div");return o.textContent=__spreadArray([],Array(t/20<<0),!0).map(function(){return"word"}).join(" "),a.appendChild(o),e(i,a)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function isPdfViewerEnabled(){return navigator.pdfViewerEnabled}function getArchitecture(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}function getApplePayState(){var e=window.ApplePaySession;if(typeof(e==null?void 0:e.canMakePayments)!="function")return-1;if(willPrintConsoleError())return-3;try{return e.canMakePayments()?1:0}catch(t){return getStateFromError(t)}}var willPrintConsoleError=isAnyParentCrossOrigin;function getStateFromError(e){if(e instanceof Error&&e.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}function getPrivateClickMeasurement(){var e,t=document.createElement("a"),r=(e=t.attributionSourceId)!==null&&e!==void 0?e:t.attributionsourceid;return r===void 0?void 0:String(r)}var STATUS_NO_GL_CONTEXT=-1,STATUS_GET_PARAMETER_NOT_A_FUNCTION=-2,validContextParameters=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),validExtensionParams=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),shaderTypes=["FRAGMENT_SHADER","VERTEX_SHADER"],precisionTypes=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],rendererInfoExtensionName="WEBGL_debug_renderer_info",polygonModeExtensionName="WEBGL_polygon_mode";function getWebGlBasics(e){var t,r,n,i,a,s,o=e.cache,l=getWebGLContext(o);if(!l)return STATUS_NO_GL_CONTEXT;if(!isValidParameterGetter(l))return STATUS_GET_PARAMETER_NOT_A_FUNCTION;var u=shouldAvoidDebugRendererInfo()?null:l.getExtension(rendererInfoExtensionName);return{version:((t=l.getParameter(l.VERSION))===null||t===void 0?void 0:t.toString())||"",vendor:((r=l.getParameter(l.VENDOR))===null||r===void 0?void 0:r.toString())||"",vendorUnmasked:u?(n=l.getParameter(u.UNMASKED_VENDOR_WEBGL))===null||n===void 0?void 0:n.toString():"",renderer:((i=l.getParameter(l.RENDERER))===null||i===void 0?void 0:i.toString())||"",rendererUnmasked:u?(a=l.getParameter(u.UNMASKED_RENDERER_WEBGL))===null||a===void 0?void 0:a.toString():"",shadingLanguageVersion:((s=l.getParameter(l.SHADING_LANGUAGE_VERSION))===null||s===void 0?void 0:s.toString())||""}}function getWebGlExtensions(e){var t=e.cache,r=getWebGLContext(t);if(!r)return STATUS_NO_GL_CONTEXT;if(!isValidParameterGetter(r))return STATUS_GET_PARAMETER_NOT_A_FUNCTION;var n=r.getSupportedExtensions(),i=r.getContextAttributes(),a=[],s=[],o=[],l=[],u=[];if(i)for(var c=0,f=Object.keys(i);c<f.length;c++){var p=f[c];s.push("".concat(p,"=").concat(i[p]))}for(var m=getConstantsFromPrototype(r),d=0,b=m;d<b.length;d++){var C=b[d],y=r[C];o.push("".concat(C,"=").concat(y).concat(validContextParameters.has(y)?"=".concat(r.getParameter(y)):""))}if(n)for(var x=0,g=n;x<g.length;x++){var k=g[x];if(!(k===rendererInfoExtensionName&&shouldAvoidDebugRendererInfo()||k===polygonModeExtensionName&&shouldAvoidPolygonModeExtensions())){var _=r.getExtension(k);if(!_){a.push(k);continue}for(var E=0,I=getConstantsFromPrototype(_);E<I.length;E++){var C=I[E],y=_[C];l.push("".concat(C,"=").concat(y).concat(validExtensionParams.has(y)?"=".concat(r.getParameter(y)):""))}}}for(var F=0,z=shaderTypes;F<z.length;F++)for(var O=z[F],N=0,V=precisionTypes;N<V.length;N++){var H=V[N],G=getShaderPrecision(r,O,H);u.push("".concat(O,".").concat(H,"=").concat(G.join(",")))}return l.sort(),o.sort(),{contextAttributes:s,parameters:o,shaderPrecisions:u,extensions:n,extensionParameters:l,unsupportedExtensions:a}}function getWebGLContext(e){if(e.webgl)return e.webgl.context;var t=document.createElement("canvas"),r;t.addEventListener("webglCreateContextError",function(){return r=void 0});for(var n=0,i=["webgl","experimental-webgl"];n<i.length;n++){var a=i[n];try{r=t.getContext(a)}catch{}if(r)break}return e.webgl={context:r},r}function getShaderPrecision(e,t,r){var n=e.getShaderPrecisionFormat(e[t],e[r]);return n?[n.rangeMin,n.rangeMax,n.precision]:[]}function getConstantsFromPrototype(e){var t=Object.keys(e.__proto__);return t.filter(isConstantLike)}function isConstantLike(e){return typeof e=="string"&&!e.match(/[^A-Z0-9_x]/)}function shouldAvoidDebugRendererInfo(){return isGecko()}function shouldAvoidPolygonModeExtensions(){return isChromium()||isWebKit()}function isValidParameterGetter(e){return typeof e.getParameter=="function"}function getAudioContextBaseLatency(){var e=isAndroid()||isWebKit();if(!e)return-2;if(!window.AudioContext)return-1;var t=new AudioContext().baseLatency;return t==null?-1:isFinite(t)?t:-3}function getDateTimeLocale(){if(!window.Intl)return-1;var e=window.Intl.DateTimeFormat;if(!e)return-2;var t=e().resolvedOptions().locale;return!t&&t!==""?-3:t}var sources={fonts:getFonts,domBlockers:getDomBlockers,fontPreferences:getFontPreferences,audio:getAudioFingerprint,screenFrame:getScreenFrame,canvas:getCanvasFingerprint,osCpu:getOsCpu,languages:getLanguages,colorDepth:getColorDepth,deviceMemory:getDeviceMemory,screenResolution:getScreenResolution,hardwareConcurrency:getHardwareConcurrency,timezone:getTimezone,sessionStorage:getSessionStorage,localStorage:getLocalStorage,indexedDB:getIndexedDB,openDatabase:getOpenDatabase,cpuClass:getCpuClass,platform:getPlatform,plugins:getPlugins,touchSupport:getTouchSupport,vendor:getVendor,vendorFlavors:getVendorFlavors,cookiesEnabled:areCookiesEnabled,colorGamut:getColorGamut,invertedColors:areColorsInverted,forcedColors:areColorsForced,monochrome:getMonochromeDepth,contrast:getContrastPreference,reducedMotion:isMotionReduced,reducedTransparency:isTransparencyReduced,hdr:isHDR,math:getMathFingerprint,pdfViewerEnabled:isPdfViewerEnabled,architecture:getArchitecture,applePay:getApplePayState,privateClickMeasurement:getPrivateClickMeasurement,audioBaseLatency:getAudioContextBaseLatency,dateTimeLocale:getDateTimeLocale,webGlBasics:getWebGlBasics,webGlExtensions:getWebGlExtensions};function loadBuiltinSources(e){return loadSources(sources,e,[])}var commentTemplate="$ if upgrade to Pro: https://fpjs.dev/pro";function getConfidence(e){var t=getOpenConfidenceScore(e),r=deriveProConfidenceScore(t);return{score:t,comment:commentTemplate.replace(/\$/g,"".concat(r))}}function getOpenConfidenceScore(e){if(isAndroid())return .4;if(isWebKit())return isDesktopWebKit()&&!(isWebKit616OrNewer()&&isSafariWebKit())?.5:.3;var t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function deriveProConfidenceScore(e){return round(.99+.01*e,1e-4)}function componentsToCanonicalString(e){for(var t="",r=0,n=Object.keys(e).sort();r<n.length;r++){var i=n[r],a=e[i],s="error"in a?"error":JSON.stringify(a.value);t+="".concat(t?"|":"").concat(i.replace(/([:|\\])/g,"\\$1"),":").concat(s)}return t}function componentsToDebugString(e){return JSON.stringify(e,function(t,r){return r instanceof Error?errorToObject(r):r},2)}function hashComponents(e){return x64hash128(componentsToCanonicalString(e))}function makeLazyGetResult(e){var t,r=getConfidence(e);return{get visitorId(){return t===void 0&&(t=hashComponents(this.components)),t},set visitorId(n){t=n},confidence:r,components:e,version}}function prepareForSources(e){return e===void 0&&(e=50),requestIdleCallbackIfAvailable(e,e*2)}function makeAgent(e,t){var r=Date.now();return{get:function(n){return __awaiter(this,void 0,void 0,function(){var i,a,s;return __generator(this,function(o){switch(o.label){case 0:return i=Date.now(),[4,e()];case 1:return a=o.sent(),s=makeLazyGetResult(a),(t||n!=null&&n.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(s.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(i-r,`
visitorId: `).concat(s.visitorId,`
components: `).concat(componentsToDebugString(a),"\n```")),[2,s]}})})}}}function monitor(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(version,"/npm-monitoring"),!0),e.send()}catch(t){console.error(t)}}function load(e){var t;return e===void 0&&(e={}),__awaiter(this,void 0,void 0,function(){var r,n,i;return __generator(this,function(a){switch(a.label){case 0:return(!((t=e.monitoring)!==null&&t!==void 0)||t)&&monitor(),r=e.delayFallback,n=e.debug,[4,prepareForSources(r)];case 1:return a.sent(),i=loadBuiltinSources({cache:{},debug:n}),[2,makeAgent(i,n)]}})})}var index$1={load,hashComponents,componentsToDebugString};const useFingerPrint=()=>{const[e,t]=React.useState(null),[r,n]=React.useState();return React.useEffect(()=>{(async()=>{try{const o=(await(await index$1.load()).get()).visitorId;n(o)}catch{t("Failed to track usage.")}})()},[]),{error:e,fingerPrint:r}},useUsageTracker=(e,t,r)=>{const[n,i]=React.useState(!0),[a,s]=React.useState(!0);return React.useEffect(()=>{typeof e=="number"&&(s(!1),e<1&&i(!1),(()=>{if(e>-1&&t){localStorage.setItem(t,e.toString());return}})())},[t,r,e]),{canSendMessage:n,isLoggedIn:a}},AiChatbotContext=React.createContext({}),AiChatbotContextProvider=({children:e,...t})=>{var q;const[r,n]=React.useState(!1),[i,a]=React.useState(!1),{affIds:s,agent:o,agentBaseUrl:l,apiKey:u,clickoutServiceUrl:c,dataApiEndpoint:f,geolocation:p,localisations:m,maxPromptLength:d=300,oddsFormat:b,repub:C,user:y}=t;React.useEffect(()=>{t||console.error("Missing teammate config")},[]);const x=React.useMemo(()=>({affIds:s,apiKey:u,clickoutServiceUrl:c,dataApiEndpoint:f,geolocation:p,oddsFormat:b,repub:C}),[t]),{fingerPrint:g}=useFingerPrint(),{error:k,isLoading:_,refetch:E,sessionId:I}=useFetchNewSession({agentBaseUrl:l,enabled:!!(g&&r),fingerPrint:g,params:{agent:o,user:y}}),{data:F,error:z,isLoading:O}=useFetchSpecificSessionHistory({agentBaseUrl:l,enabled:!!(I&&r&&g),fingerPrint:g,params:{agent:o,sessionId:I,user:y}});React.useEffect(()=>{z&&E()},[z]);const{chat:N,clearChatHistory:V,error:H,insertModelMessage:G,loading:B,messages:T,streamStatus:R,tokensRemaining:S}=useChatStream(l,I,o,y,m,g,F,{streaming:!1}),{canSendMessage:P,isLoggedIn:A}=useUsageTracker(S,g,H),{data:D=[],error:j,isLoading:L,refetch:W}=useFetchFollowupQuestions({agentBaseUrl:l,enabled:!!(I&&r&&!O&&!z&&!B),fingerPrint:g,followupProps:{agent:o,pagePath:typeof window<"u"?(q=window==null?void 0:window.location)==null?void 0:q.pathname:"",sessionId:I,user:y},modelMessageCount:T.filter(Z=>Z.role==="model"&&Z.id).length});React.useEffect(()=>{const Z=Q=>{(Q.key==="TM_userS"||Q.key==="TM_anonS")&&(n(!1),V())};return window.addEventListener("storage",Z),()=>{window.removeEventListener("storage",Z)}},[]);const Y=React.useMemo(()=>({agent:o,agentBaseUrl:l,betbuilderProps:x,canSendMessage:P,chat:N,chatError:H,expandChatWindow:i,fingerPrint:g,followupError:j,followupQuestions:D,insertModelMessage:G,isFollowupLoading:L,isLoggedIn:A,isSessionHistoryLoading:O,loading:B,localisations:m,maxPromptLength:d,messages:T,newSessionError:k,newSessionLoading:_,refetchFollowupQuestions:W,sessionId:I,setExpandChatWindow:a,setShowChatWindow:n,showChatWindow:r,streamStatus:R,tokensRemaining:S,user:y}),[o,l,x,P,H,i,g,j,D,D,L,L,A,T,I,O,r,R,S,B,y]);return JsxRuntime.jsx(AiChatbotContext.Provider,{value:Y,children:e})},alert="_alert_1aerx_1",error="_error_1aerx_12",info="_info_1aerx_17",styles$b={alert,error,info},Alert=({message:e,type:t})=>{if(!e)return null;const r=()=>{switch(t){case"error":return styles$b.error;default:return styles$b.info}};return JsxRuntime.jsx("div",{className:`${styles$b.alert} ${r()}`,children:e})},CloseIcon=()=>JsxRuntime.jsxs("svg",{"aria-label":"close-chatbot",fill:"none",height:"18",role:"img",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg",children:[JsxRuntime.jsx("path",{d:"M3 3L15 15",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),JsxRuntime.jsx("path",{d:"M3 15L15 3",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),JsxRuntime.jsx("path",{d:"M15 15.75C14.808 15.75 14.6162 15.6767 14.4697 15.5303L2.46971 3.53025C2.17676 3.2373 2.17676 2.7627 2.46971 2.46968C2.76266 2.17665 3.23726 2.17673 3.53029 2.46968L15.5303 14.4697C15.8232 14.7626 15.8232 15.2372 15.5303 15.5303C15.3838 15.6767 15.1918 15.75 15 15.75Z",fill:"#FFF"}),JsxRuntime.jsx("path",{d:"M2.99996 15.75C2.80804 15.75 2.61619 15.6767 2.46971 15.5303C2.17676 15.2373 2.17676 14.7627 2.46971 14.4697L14.4697 2.46977C14.7627 2.17682 15.2373 2.17682 15.5303 2.46977C15.8233 2.76272 15.8232 3.23732 15.5303 3.53035L3.53021 15.5303C3.38374 15.6767 3.19181 15.75 2.99996 15.75Z",fill:"#FFF"})]}),ExpandIcon=()=>JsxRuntime.jsx("svg",{"aria-label":"expand-chatbot",fill:"none",height:"18",role:"img",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg",children:JsxRuntime.jsx("path",{d:"M2.25 15.75V9.75H3.75V13.2L13.2 3.75H9.75V2.25H15.75V8.25H14.25V4.8L4.8 14.25H8.25V15.75H2.25Z",fill:"#FFF"})}),TeammateLogo=e=>JsxRuntime.jsxs("span",{style:{fontFamily:"Lato",fontStyle:"italic",fontWeight:900,paddingTop:4},children:[JsxRuntime.jsx("span",{style:{color:"#57DC1C",fontSize:e.fontSize},children:"TEAM"}),JsxRuntime.jsx("span",{style:{color:"#FFF",fontSize:e.fontSize},children:"MATE"})]}),WhoScoredLogo=()=>JsxRuntime.jsxs("svg",{"aria-label":"ws-logo","data-name":"Layer 1",id:"a",role:"img",viewBox:"0 0 148 101",xmlns:"http://www.w3.org/2000/svg",children:[JsxRuntime.jsx("defs",{}),JsxRuntime.jsx("path",{d:"m131.72,14.41C115.22,4.21,94.72.21,75.72,0c-20.2-.2-42.1,3.9-59.6,14.9-7.5,4.7-21.3,15.8-14.1,25.6,8.4,11.5,26.9,9.9,38.9,6.7,6.1-1.6,23.3-6.1,22.8-14-.5-7.4-14.6-7-20.1-6.5-8.7.7-13.6-4.9-6.3-9.7,12.1-8.1,66.6-14.6,60.9,9.1-1.9,8-16.7,11.8-23.3,15.5-6.4,3.6-14.7,8.9-15.9,16-.6,3.3.9,7.3,3.6,10.1,1.9,1.9,4.3,3.3,7.2,3.4,6.6.3,11.5-5.4,14.8-9.7,8.8-11.4,22-10.8,36.1-12.4,8.6-1,21.5-2.6,25.7-10.3,5.3-9.6-6.6-19.3-14.7-24.3Z",style:{fill:"#57dc1c",strokeWidth:0}}),JsxRuntime.jsx("path",{d:"m77.82,92.61c0,4.8-3.9,8.7-8.7,8.7s-8.7-3.9-8.7-8.7,3.9-8.7,8.7-8.7,8.7,3.9,8.7,8.7Z",style:{fill:"#57dc1c",strokeWidth:0}})]}),useAutoScroll=(e,t,r)=>{React.useEffect(()=>{t&&(()=>{const i=e.current;i&&i.scrollIntoView({behavior:r!=null&&r.smoothScroll?"smooth":"auto",block:r.position})})()},[t,r])},chatFeedbackForm="_chatFeedbackForm_ekpqv_1",radioGroup="_radioGroup_ekpqv_9",radioRow="_radioRow_ekpqv_9",radio="_radio_ekpqv_9",otherInput="_otherInput_ekpqv_21",submitButton="_submitButton_ekpqv_39",submitButton_disabled="_submitButton_disabled_ekpqv_39",styles$a={chatFeedbackForm,radioGroup,radioRow,radio,otherInput,submitButton,submitButton_disabled},ChatFeedbackForm=e=>{const[t,r]=React.useState(),[n,i]=React.useState(),a=c=>{if(c.preventDefault(),t)return e.onSubmit({Other:t});if(n)return e.onSubmit(n)},s=React.useRef(null),o=React.useCallback(c=>{i(c.target.value),r(void 0)},[]),l=React.useRef(null);useAutoScroll(l,e.options,{position:"end",smoothScroll:!1});const u=()=>{var f,p;const c=n===((p=e.options[((f=e.options)==null?void 0:f.length)-1])==null?void 0:p.value);return!!(!n||c&&!t)};return JsxRuntime.jsx("div",{className:styles$a.chatFeedbackForm,ref:l,children:JsxRuntime.jsxs("form",{className:styles$a.formContainer,onSubmit:a,children:[JsxRuntime.jsx("div",{className:styles$a.radioGroup,role:"radiogroup",children:e.options.map((c,f)=>{var p;return JsxRuntime.jsxs("div",{className:styles$a.radioRow,children:[JsxRuntime.jsx("input",{checked:n===((p=e.options[f])==null?void 0:p.value),className:styles$a.radio,id:c.value,name:"feedback",onChange:o,type:"radio",value:c.label}),JsxRuntime.jsx("label",{htmlFor:c.value,children:c.label}),n=="Other"&&f===e.options.length-1&&JsxRuntime.jsx("textarea",{autoFocus:!0,className:styles$a.otherInput,id:"other",onChange:m=>r(m.currentTarget.value),placeholder:"Please specify",ref:s,required:!0})]},c.label)})}),JsxRuntime.jsx("button",{className:n?styles$a.submitButton:styles$a.submitButton_disabled,disabled:u(),type:"submit",children:e.submitText})]})})},ThumbsDown=()=>JsxRuntime.jsx("svg",{fill:"none",height:"16",viewBox:"0 0 14 14",width:"16",xmlns:"http://www.w3.org/2000/svg",children:JsxRuntime.jsx("path",{d:"M9.00116 8.8585C9.47249 10.7736 9.73149 14 7.71958 14C6.63399 14 6.34874 13.027 6.06699 12.0581C4.91724 8.09842 2.96716 7.77525 1.16699 7.54133V1.75C3.21041 1.75 4.42433 1.32475 5.93224 0.675501C6.66549 0.359918 7.71316 0 9.04491 0C10.5254 0 11.5503 0.581584 11.9668 2.15017C12.2585 3.24508 12.8337 6.37933 12.8337 6.96267C12.8337 7.92458 12.1523 8.3895 11.3205 8.42508C10.6147 8.45483 9.64633 8.58667 9.00116 8.8585ZM11.17 6.33792L10.3568 6.2405C10.3568 6.2405 10.0016 5.59358 10.4391 5.59008C10.4391 5.59008 10.5563 5.58425 11.0627 5.60583C11.6938 5.63267 11.6757 4.74892 11.065 4.69408L10.0377 4.63633C9.60958 4.5815 9.65508 3.93458 10.12 3.95267C10.12 3.95267 10.5202 3.96258 10.7867 3.97658C11.4097 4.00925 11.3794 3.143 10.8101 3.07183C10.5627 3.04092 9.79216 3.00475 9.79216 3.00475C9.31908 2.96275 9.38033 2.28433 9.85574 2.33917L10.3055 2.35725C10.785 2.40042 10.8906 1.876 10.1352 1.38833C9.22108 0.874416 7.40224 1.31192 6.39249 1.7465C5.08699 2.30942 3.80424 2.87467 2.33366 2.91667V6.41667C4.23708 6.85358 6.02558 7.7315 7.18758 11.7326C7.71141 13.5362 8.16699 12.859 8.16699 11.3978C8.16699 10.1897 7.88116 9.18925 7.62974 8.17017C8.24866 7.85342 9.59616 7.35233 11.1997 7.2625C11.8152 7.22808 11.7977 6.41375 11.17 6.33792Z",fill:"currentColor"})}),ThumbsUp=()=>JsxRuntime.jsx("svg",{height:"16",viewBox:"0 0 14 14",width:"16",xmlns:"http://www.w3.org/2000/svg",children:JsxRuntime.jsx("path",{d:"M8.00116 5.1415C8.47249 3.22642 8.73149 0 6.71958 0C5.63399 0 5.34874 0.973 5.06699 1.94192C3.91724 5.90158 1.96716 6.22475 0.166992 6.45867V12.25C2.21041 12.25 3.42433 12.6752 4.93224 13.3245C5.66549 13.6401 6.71316 14 8.04491 14C9.52541 14 10.5503 13.4184 10.9668 11.8498C11.2585 10.7549 11.8337 7.62067 11.8337 7.03733C11.8337 6.07542 11.1523 5.6105 10.3205 5.57492C9.61466 5.54517 8.64633 5.41333 8.00116 5.1415ZM10.17 7.66208L9.35683 7.7595C9.35683 7.7595 9.00158 8.40642 9.43908 8.40992C9.43908 8.40992 9.55633 8.41575 10.0627 8.39417C10.6938 8.36733 10.6757 9.25108 10.065 9.30592L9.03774 9.36367C8.60958 9.4185 8.65508 10.0654 9.11999 10.0473C9.11999 10.0473 9.52016 10.0374 9.78674 10.0234C10.4097 9.99075 10.3794 10.857 9.81008 10.9282C9.56274 10.9591 8.79216 10.9952 8.79216 10.9952C8.31908 11.0373 8.38033 11.7157 8.85574 11.6608L9.30549 11.6427C9.78499 11.5996 9.89058 12.124 9.13516 12.6117C8.22108 13.1256 6.40224 12.6881 5.39249 12.2535C4.08699 11.6906 2.80424 11.1253 1.33366 11.0833V7.58333C3.23708 7.14642 5.02558 6.2685 6.18758 2.26742C6.71141 0.46375 7.16699 1.141 7.16699 2.60225C7.16699 3.81033 6.88116 4.81075 6.62974 5.82983C7.24866 6.14658 8.59616 6.64767 10.1997 6.7375C10.8152 6.77192 10.7977 7.58625 10.17 7.66208Z",fill:"currentColor"})}),chatFeedback="_chatFeedback_urika_1",controls="_controls_urika_1",thumbsUp="_thumbsUp_urika_6",thumbsDown_selected="_thumbsDown_selected_urika_6",thumbsUp_selected="_thumbsUp_selected_urika_6",thumbsDown="_thumbsDown_urika_6",refresh="_refresh_urika_26",feedback="_feedback_urika_31",styles$9={chatFeedback,controls,thumbsUp,thumbsDown_selected,thumbsUp_selected,thumbsDown,refresh,feedback},ChatFeedbackControls=e=>{const{agent:t,agentBaseUrl:r,fingerPrint:n,localisations:i,sessionId:a,user:s}=React.useContext(AiChatbotContext),[o,l]=React.useState(),[u,c]=React.useState(),[f,p]=React.useState(),m=async b=>{t&&a&&s&&e.messageId&&(b.type==="POSITIVE"&&(p("up"),c(void 0),await postChatFeedback(r,b,{agent:t,sessionId:a,user:s},n)&&l(getLocalisations(i)("feedback_submitted_message"))),b.type==="NEGATIVE"&&(p("down"),await postChatFeedback(r,b,{agent:t,sessionId:a,user:s},n)&&l(getLocalisations(i)("feedback_submitted_message")),c(void 0)))},d=()=>{c([{label:"Inaccurate response",value:getLocalisations(i)("inaccurate_response")},{label:"Slow response",value:getLocalisations(i)("slow_response")},{label:"Other",value:getLocalisations(i)("specify_other_feedback")}])};return JsxRuntime.jsxs("div",{className:styles$9.chatFeedback,children:[o?JsxRuntime.jsx("div",{className:styles$9.feedback,children:o}):JsxRuntime.jsxs("div",{className:styles$9.controls,children:[JsxRuntime.jsx("div",{className:f==="up"?styles$9.thumbsUp_selected:styles$9.thumbsUp,onClick:()=>m({id:e.messageId,type:"POSITIVE"}),children:JsxRuntime.jsx(ThumbsUp,{})}),JsxRuntime.jsx("div",{className:f==="down"?styles$9.thumbsDown_selected:styles$9.thumbsDown,onClick:()=>d(),children:JsxRuntime.jsx(ThumbsDown,{})}),JsxRuntime.jsx("div",{className:styles$9.feedback,children:o})]}),u&&JsxRuntime.jsx(ChatFeedbackForm,{onSubmit:b=>m({feedback:b,id:e.messageId,type:"NEGATIVE"}),options:u,submitText:getLocalisations(i)("submit")})]})},chips="_chips_jiiad_1",chip="_chip_jiiad_1",styles$8={chips,chip},Chips=e=>{const t=r=>{e.onClick(r),trackEvent("chatbot_questions_prompts",{})};return JsxRuntime.jsx("div",{className:styles$8.chips,children:e.prompts.map(r=>JsxRuntime.jsx("div",{className:styles$8.chip,onClick:()=>t(r),children:r},r))})};function ok$1(){}function unreachable(){}function stringify$1(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$3={};function name(e,t){return((t||emptyOptions$3).jsx?nameReJsx:nameRe).test(e)}const re=/[ \t\n\f\r]/g;function whitespace(e){return typeof e=="object"?e.type==="text"?empty$1(e.value):!1:empty$1(e)}function empty$1(e){return e.replace(re,"")===""}class Schema{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Schema.prototype.normal={},Schema.prototype.property={},Schema.prototype.space=void 0;function merge(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Schema(r,n,t)}function normalize$1(e){return e.toLowerCase()}class Info{constructor(t,r){this.attribute=r,this.property=t}}Info.prototype.attribute="",Info.prototype.booleanish=!1,Info.prototype.boolean=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.commaSeparated=!1,Info.prototype.defined=!1,Info.prototype.mustUseProperty=!1,Info.prototype.number=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.property="",Info.prototype.spaceSeparated=!1,Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(t,r,n,i){let a=-1;if(super(t,r),mark(this,"space",i),typeof n=="number")for(;++a<checks.length;){const s=checks[a];mark(this,checks[a],(n&types[s])===types[s])}}}DefinedInfo.prototype.defined=!0;function mark(e,t,r){r&&(e[t]=r)}function create(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new DefinedInfo(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[normalize$1(n)]=n,r[normalize$1(a.attribute)]=n}return new Schema(t,r,e.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function caseSensitiveTransform(e,t){return t in e?e[t]:t}function caseInsensitiveTransform(e,t){return caseSensitiveTransform(e,t.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(e,t){const r=normalize$1(t);let n=t,i=Info;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&valid.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(dash,camelcase$1);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!dash.test(a)){let s=a.replace(cap$1,kebab);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=DefinedInfo}return new i(n,t)}function kebab(e){return"-"+e.toLowerCase()}function camelcase$1(e){return e.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function stringify(e){return e.join(" ").trim()}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cjs$1={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration",inlineStyleParser=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(d){var b=d.match(NEWLINE_REGEX);b&&(r+=b.length);var C=d.lastIndexOf(NEWLINE);n=~C?d.length-C:n+d.length}function a(){var d={line:r,column:n};return function(b){return b.position=new s(d),u(),b}}function s(d){this.start=d,this.end={line:r,column:n},this.source=t.source}s.prototype.content=e;function o(d){var b=new Error(t.source+":"+r+":"+n+": "+d);if(b.reason=d,b.filename=t.source,b.line=r,b.column=n,b.source=e,!t.silent)throw b}function l(d){var b=d.exec(e);if(b){var C=b[0];return i(C),e=e.slice(C.length),b}}function u(){l(WHITESPACE_REGEX)}function c(d){var b;for(d=d||[];b=f();)b!==!1&&d.push(b);return d}function f(){var d=a();if(!(FORWARD_SLASH!=e.charAt(0)||ASTERISK!=e.charAt(1))){for(var b=2;EMPTY_STRING!=e.charAt(b)&&(ASTERISK!=e.charAt(b)||FORWARD_SLASH!=e.charAt(b+1));)++b;if(b+=2,EMPTY_STRING===e.charAt(b-1))return o("End of comment missing");var C=e.slice(2,b-2);return n+=2,i(C),e=e.slice(b),n+=2,d({type:TYPE_COMMENT,comment:C})}}function p(){var d=a(),b=l(PROPERTY_REGEX);if(b){if(f(),!l(COLON_REGEX))return o("property missing ':'");var C=l(VALUE_REGEX),y=d({type:TYPE_DECLARATION,property:trim(b[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:C?trim(C[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return l(SEMICOLON_REGEX),y}}function m(){var d=[];c(d);for(var b;b=p();)b!==!1&&(d.push(b),c(d));return d}return u(),m()};function trim(e){return e?e.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$1,"__esModule",{value:!0}),cjs$1.default=StyleToObject;var inline_style_parser_1=__importDefault$1(inlineStyleParser);function StyleToObject(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,inline_style_parser_1.default)(e),i=typeof t=="function";return n.forEach(function(a){if(a.type==="declaration"){var s=a.property,o=a.value;i?t(s,o,a):o&&(r=r||{},r[s]=o)}}),r}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(e){return!e||NO_HYPHEN_REGEX.test(e)||CUSTOM_PROPERTY_REGEX.test(e)},capitalize$1=function(e,t){return t.toUpperCase()},trimHyphen=function(e,t){return"".concat(t,"-")},camelCase$1=function(e,t){return t===void 0&&(t={}),skipCamelCase(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):e=e.replace(VENDOR_PREFIX_REGEX,trimHyphen),e.replace(HYPHEN_REGEX,capitalize$1))};utilities.camelCase=camelCase$1;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},style_to_object_1=__importDefault(cjs$1),utilities_1=utilities;function StyleToJS(e,t){var r={};return!e||typeof e!="string"||(0,style_to_object_1.default)(e,function(n,i){n&&i&&(r[(0,utilities_1.camelCase)(n,t)]=i)}),r}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function position$1(e){const t=pointStart(e),r=pointEnd(e);if(t&&r)return{start:t,end:r}}function stringifyPosition(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?position(e.position):"start"in e||"end"in e?position(e):"line"in e||"column"in e?point$1(e):""}function point$1(e){return index(e&&e.line)+":"+index(e&&e.column)}function position(e){return point$1(e&&e.start)+"-"+point$1(e&&e.end)}function index(e){return e&&typeof e=="number"?e:1}class VFileMessage extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},s=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=stringifyPosition(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.column=void 0,VFileMessage.prototype.line=void 0,VFileMessage.prototype.ancestors=void 0,VFileMessage.prototype.cause=void 0,VFileMessage.prototype.fatal=void 0,VFileMessage.prototype.place=void 0,VFileMessage.prototype.ruleId=void 0,VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=developmentCreate(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=productionCreate(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?svg:html$2,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=one$1(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function one$1(e,t,r){if(t.type==="element")return element$1(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return mdxExpression(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mdxJsxElement(e,t,r);if(t.type==="mdxjsEsm")return mdxEsm(e,t);if(t.type==="root")return root$4(e,t,r);if(t.type==="text")return text$5(e,t)}function element$1(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=svg,e.schema=i),e.ancestors.push(t);const a=findComponentFromName(e,t.tagName,!1),s=createElementProps(e,t);let o=createChildren(e,t);return tableElements.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!whitespace(l):!0})),addNode(e,s,a,t),addChildren(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function mdxExpression(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}crashEstree(e,t.position)}function mdxEsm(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);crashEstree(e,t.position)}function mdxJsxElement(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=svg,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:findComponentFromName(e,t.name,!0),s=createJsxElementProps(e,t),o=createChildren(e,t);return addNode(e,s,a,t),addChildren(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function root$4(e,t,r){const n={};return addChildren(n,createChildren(e,t)),e.create(t,e.Fragment,n,r)}function text$5(e,t){return t.value}function addNode(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function addChildren(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function productionCreate(e,t,r){return n;function n(i,a,s,o){const u=Array.isArray(s.children)?r:t;return o?u(a,s,o):u(a,s)}}function developmentCreate(e,t){return r;function r(n,i,a,s){const o=Array.isArray(a.children),l=pointStart(n);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function createElementProps(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&own$3.call(t.properties,i)){const a=createProperty(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&tableCellElement.has(t.tagName)?n=o:r[s]=o}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function createJsxElementProps(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else crashEstree(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else crashEstree(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function createChildren(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:emptyMap;for(;++n<t.children.length;){const a=t.children[n];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=one$1(e,a,s);o!==void 0&&r.push(o)}return r}function createProperty(e,t,r){const n=find(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?stringify$1(r):stringify(r)),n.property==="style"){let i=typeof r=="object"?r:parseStyle(e,String(r));return e.stylePropertyNameCase==="css"&&(i=transformStylesToCssCasing(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?hastToReact[n.property]||n.property:n.attribute,r]}}function parseStyle(e,t){try{return styleToJs(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=docs+"#cannot-parse-style-attribute",i}}function findComponentFromName(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=name(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}n=s}else n=name(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return own$3.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);crashEstree(e)}function crashEstree(e,t){const r=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",r}function transformStylesToCssCasing(e){const t={};let r;for(r in e)own$3.call(e,r)&&(t[transformStyleToCssCasing(r)]=e[r]);return t}function transformStyleToCssCasing(e){let t=e.replace(cap,toDash);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function toDash(e){return"-"+e.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$2={};function toString$3(e,t){const r=t||emptyOptions$2,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return one(e,n,i)}function one(e,t,r){if(node(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return all(e.children,t,r)}return Array.isArray(e)?all(e,t,r):""}function all(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=one(e[i],t,r);return n.join("")}function node(e){return!!(e&&typeof e=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(e){const t="&"+e+";";element.innerHTML=t;const r=element.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function splice(e,t,r,n){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);a<n.length;)s=n.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function push(e,t){return e.length>0?(splice(e,e.length,0,t),e):t}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(e){const t={};let r=-1;for(;++r<e.length;)syntaxExtension(t,e[r]);return t}function syntaxExtension(e,t){let r;for(r in t){const i=(hasOwnProperty.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let s;if(a)for(s in a){hasOwnProperty.call(i,s)||(i[s]=[]);const o=a[s];constructs(i[s],Array.isArray(o)?o:o?[o]:[])}}}function constructs(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);splice(e,0,0,n)}function decodeNumericCharacterReference(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function normalizeIdentifier(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(e){return e!==null&&(e<32||e===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(e){return e!==null&&e<-2}function markdownLineEndingOrSpace(e){return e!==null&&(e<0||e===32)}function markdownSpace(e){return e===-2||e===-1||e===32}const unicodePunctuation=regexCheck(/\p{P}|\p{S}/u),unicodeWhitespace=regexCheck(/\s/);function regexCheck(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function normalizeUri(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let s="";if(a===37&&asciiAlphanumeric(e.charCodeAt(r+1))&&asciiAlphanumeric(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(r+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s="�"}else s=String.fromCharCode(a);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function factorySpace(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return markdownSpace(l)?(e.enter(r),o(l)):t(l)}function o(l){return markdownSpace(l)&&a++<i?(e.consume(l),o):(e.exit(r),t(l))}}const content$1={tokenize:initializeContent};function initializeContent(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),factorySpace(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return markdownLineEnding(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(e){const t=this,r=[];let n=0,i,a,s;return o;function o(g){if(n<r.length){const k=r[n];return t.containerState=k[1],e.attempt(k[0].continuation,l,u)(g)}return u(g)}function l(g){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const k=t.events.length;let _=k,E;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){E=t.events[_][1].end;break}y(n);let I=k;for(;I<t.events.length;)t.events[I][1].end={...E},I++;return splice(t.events,_+1,0,t.events.slice(k)),t.events.length=I,u(g)}return o(g)}function u(g){if(n===r.length){if(!i)return p(g);if(i.currentConstruct&&i.currentConstruct.concrete)return d(g);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(containerConstruct,c,f)(g)}function c(g){return i&&x(),y(n),p(g)}function f(g){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,d(g)}function p(g){return t.containerState={},e.attempt(containerConstruct,m,d)(g)}function m(g){return n++,r.push([t.currentConstruct,t.containerState]),p(g)}function d(g){if(g===null){i&&x(),y(0),e.consume(g);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),b(g)}function b(g){if(g===null){C(e.exit("chunkFlow"),!0),y(0),e.consume(g);return}return markdownLineEnding(g)?(e.consume(g),C(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(g),b)}function C(g,k){const _=t.sliceStream(g);if(k&&_.push(null),g.previous=a,a&&(a.next=g),a=g,i.defineSkip(g.start),i.write(_),t.parser.lazy[g.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<s&&(!i.events[E][1].end||i.events[E][1].end.offset>s))return;const I=t.events.length;let F=I,z,O;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){if(z){O=t.events[F][1].end;break}z=!0}for(y(n),E=I;E<t.events.length;)t.events[E][1].end={...O},E++;splice(t.events,F+1,0,t.events.slice(I)),t.events.length=E}}function y(g){let k=r.length;for(;k-- >g;){const _=r[k];t.containerState=_[1],_[0].exit.call(t,e)}r.length=g}function x(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function tokenizeContainer(e,t,r){return factorySpace(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(e){if(e===null||markdownLineEndingOrSpace(e)||unicodeWhitespace(e))return 1;if(unicodePunctuation(e))return 2}function resolveAll(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(e,t){let r=-1,n,i,a,s,o,l,u,c;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},p={...e[r][1].start};movePoint(f,-l),movePoint(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=push(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=push(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=push(u,resolveAll(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=push(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(c=2,u=push(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):c=0,splice(e,n-1,r-n+3,u),r=n+u.length-c-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function tokenizeAttention(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=classifyCharacter(n);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),c=classifyCharacter(l),f=!c||c===2&&i||r.includes(l),p=!i||i===2&&c||r.includes(n);return u._open=!!(a===42?f:f&&(i||!p)),u._close=!!(a===42?p:p&&(c||!f)),t(l)}}function movePoint(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(e,t,r){let n=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return asciiAlpha(m)?(e.consume(m),s):m===64?r(m):u(m)}function s(m){return m===43||m===45||m===46||asciiAlphanumeric(m)?(n=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),n=0,l):(m===43||m===45||m===46||asciiAlphanumeric(m))&&n++<32?(e.consume(m),o):(n=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||asciiControl(m)?r(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),c):asciiAtext(m)?(e.consume(m),u):r(m)}function c(m){return asciiAlphanumeric(m)?f(m):r(m)}function f(m){return m===46?(e.consume(m),n=0,c):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||asciiAlphanumeric(m))&&n++<63){const d=m===45?p:f;return e.consume(m),d}return r(m)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(e,t,r){return n;function n(a){return markdownSpace(a)?factorySpace(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||markdownLineEnding(a)?t(a):r(a)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(e,t,r){const n=this;return i;function i(s){if(s===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return r(s)}function a(s){return markdownSpace(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function tokenizeBlockQuoteContinuation(e,t,r){const n=this;return i;function i(s){return markdownSpace(s)?factorySpace(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(blockQuote,t,r)(s)}}function exit$1(e){e.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return asciiPunctuation(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(e,t,r){const n=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=asciiAlphanumeric,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=asciiHexDigit,c):(e.enter("characterReferenceValue"),a=7,s=asciiDigit,c(f))}function c(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return s===asciiAlphanumeric&&!decodeNamedCharacterReference(n.sliceSerialize(p))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),c):r(f)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(e,t,r){const n=this,i={partial:!0,tokenize:_};let a=0,s=0,o;return l;function l(E){return u(E)}function u(E){const I=n.events[n.events.length-1];return a=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,o=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(E)}function c(E){return E===o?(s++,e.consume(E),c):s<3?r(E):(e.exit("codeFencedFenceSequence"),markdownSpace(E)?factorySpace(e,f,"whitespace")(E):f(E))}function f(E){return E===null||markdownLineEnding(E)?(e.exit("codeFencedFence"),n.interrupt?t(E):e.check(nonLazyContinuation,b,k)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(E))}function p(E){return E===null||markdownLineEnding(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(E)):markdownSpace(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),factorySpace(e,m,"whitespace")(E)):E===96&&E===o?r(E):(e.consume(E),p)}function m(E){return E===null||markdownLineEnding(E)?f(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(E))}function d(E){return E===null||markdownLineEnding(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(E)):E===96&&E===o?r(E):(e.consume(E),d)}function b(E){return e.attempt(i,k,C)(E)}function C(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),y}function y(E){return a>0&&markdownSpace(E)?factorySpace(e,x,"linePrefix",a+1)(E):x(E)}function x(E){return E===null||markdownLineEnding(E)?e.check(nonLazyContinuation,b,k)(E):(e.enter("codeFlowValue"),g(E))}function g(E){return E===null||markdownLineEnding(E)?(e.exit("codeFlowValue"),x(E)):(e.consume(E),g)}function k(E){return e.exit("codeFenced"),t(E)}function _(E,I,F){let z=0;return O;function O(B){return E.enter("lineEnding"),E.consume(B),E.exit("lineEnding"),N}function N(B){return E.enter("codeFencedFence"),markdownSpace(B)?factorySpace(E,V,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):V(B)}function V(B){return B===o?(E.enter("codeFencedFenceSequence"),H(B)):F(B)}function H(B){return B===o?(z++,E.consume(B),H):z>=s?(E.exit("codeFencedFenceSequence"),markdownSpace(B)?factorySpace(E,G,"whitespace")(B):G(B)):F(B)}function G(B){return B===null||markdownLineEnding(B)?(E.exit("codeFencedFence"),I(B)):F(B)}}}function tokenizeNonLazyContinuation(e,t,r){const n=this;return i;function i(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(e,t,r){const n=this;return i;function i(u){return e.enter("codeIndented"),factorySpace(e,a,"linePrefix",4+1)(u)}function a(u){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):r(u)}function s(u){return u===null?l(u):markdownLineEnding(u)?e.attempt(furtherStart,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||markdownLineEnding(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function tokenizeFurtherStart(e,t,r){const n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):markdownLineEnding(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):factorySpace(e,a,"linePrefix",4+1)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):markdownLineEnding(s)?i(s):r(s)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function previous$1(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(e,t,r){let n=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),n++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,c(f)):markdownLineEnding(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||markdownLineEnding(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class SpliceBuffer{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&chunkedPush(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),chunkedPush(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);chunkedPush(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);chunkedPush(this.left,r.reverse())}}}function chunkedPush(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function subtokenize(e){const t={};let r=-1,n,i,a,s,o,l,u;const c=new SpliceBuffer(e);for(;++r<c.length;){for(;r in t;)r=t[r];if(n=c.get(r),r&&n[1].type==="chunkFlow"&&c.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,subcontent(c,r)),r=t[r],u=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(s=c.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(n[1].end={...c.get(i)[1].start},o=c.slice(i,r),o.unshift(n),c.splice(i,r-i+1,o))}}return splice(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function subcontent(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let c,f,p=-1,m=r,d=0,b=0;const C=[b];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(c=n.sliceStream(m),m.next||c.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=r;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(b=p+1,C.push(b),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):C.pop(),p=C.length;p--;){const y=o.slice(C[p],C[p+1]),x=a.pop();l.push([x,x+y.length-1]),e.splice(x,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[d+l[p][0]]=d+l[p][1],d+=l[p][1]-l[p][0]-1;return u}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(e){return subtokenize(e),e}function tokenizeContent(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):markdownLineEnding(o)?e.check(continuationConstruct,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function tokenizeContinuation(e,t,r){const n=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),factorySpace(e,a,"linePrefix")}function a(s){if(s===null||markdownLineEnding(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function factoryDestination(e,t,r,n,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(y){return y===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(y),e.exit(a),p):y===null||y===32||y===41||asciiControl(y)?r(y):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),b(y))}function p(y){return y===62?(e.enter(a),e.consume(y),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(o),p(y)):y===null||y===60||markdownLineEnding(y)?r(y):(e.consume(y),y===92?d:m)}function d(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function b(y){return!c&&(y===null||y===41||markdownLineEndingOrSpace(y))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(y)):c<u&&y===40?(e.consume(y),c++,b):y===41?(e.consume(y),c--,b):y===null||y===32||y===40||asciiControl(y)?r(y):(e.consume(y),y===92?C:b)}function C(y){return y===40||y===41||y===92?(e.consume(y),b):b(y)}}function factoryLabel(e,t,r,n,i,a){const s=this;let o=0,l;return u;function u(m){return e.enter(n),e.enter(i),e.consume(m),e.exit(i),e.enter(a),c}function c(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(n),t):markdownLineEnding(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||markdownLineEnding(m)||o++>999?(e.exit("chunkString"),c(m)):(e.consume(m),l||(l=!markdownSpace(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function factoryTitle(e,t,r,n,i,a){let s;return o;function o(p){return p===34||p===39||p===40?(e.enter(n),e.enter(i),e.consume(p),e.exit(i),s=p===40?41:p,l):r(p)}function l(p){return p===s?(e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):(e.enter(a),u(p))}function u(p){return p===s?(e.exit(a),l(s)):p===null?r(p):markdownLineEnding(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),factorySpace(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===s||p===null||markdownLineEnding(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:c)}function f(p){return p===s||p===92?(e.consume(p),c):c(p)}}function factoryWhitespace(e,t){let r;return n;function n(i){return markdownLineEnding(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):markdownSpace(i)?factorySpace(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(e,t,r){const n=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return factoryLabel.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=normalizeIdentifier(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):r(m)}function l(m){return markdownLineEndingOrSpace(m)?factoryWhitespace(e,u)(m):u(m)}function u(m){return factoryDestination(e,c,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return e.attempt(titleBefore,f,f)(m)}function f(m){return markdownSpace(m)?factorySpace(e,p,"whitespace")(m):p(m)}function p(m){return m===null||markdownLineEnding(m)?(e.exit("definition"),n.parser.defined.push(i),t(m)):r(m)}}function tokenizeTitleBefore(e,t,r){return n;function n(o){return markdownLineEndingOrSpace(o)?factoryWhitespace(e,i)(o):r(o)}function i(o){return factoryTitle(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return markdownSpace(o)?factorySpace(e,s,"whitespace")(o):s(o)}function s(o){return o===null||markdownLineEnding(o)?t(o):r(o)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return markdownLineEnding(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},splice(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function tokenizeHeadingAtx(e,t,r){let n=0;return i;function i(c){return e.enter("atxHeading"),a(c)}function a(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&n++<6?(e.consume(c),s):c===null||markdownLineEndingOrSpace(c)?(e.exit("atxHeadingSequence"),o(c)):r(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||markdownLineEnding(c)?(e.exit("atxHeading"),t(c)):markdownSpace(c)?factorySpace(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||markdownLineEndingOrSpace(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function tokenizeHtmlFlow(e,t,r){const n=this;let i,a,s,o,l;return u;function u(L){return c(L)}function c(L){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(L),f}function f(L){return L===33?(e.consume(L),p):L===47?(e.consume(L),a=!0,b):L===63?(e.consume(L),i=3,n.interrupt?t:A):asciiAlpha(L)?(e.consume(L),s=String.fromCharCode(L),C):r(L)}function p(L){return L===45?(e.consume(L),i=2,m):L===91?(e.consume(L),i=5,o=0,d):asciiAlpha(L)?(e.consume(L),i=4,n.interrupt?t:A):r(L)}function m(L){return L===45?(e.consume(L),n.interrupt?t:A):r(L)}function d(L){const W="CDATA[";return L===W.charCodeAt(o++)?(e.consume(L),o===W.length?n.interrupt?t:V:d):r(L)}function b(L){return asciiAlpha(L)?(e.consume(L),s=String.fromCharCode(L),C):r(L)}function C(L){if(L===null||L===47||L===62||markdownLineEndingOrSpace(L)){const W=L===47,Y=s.toLowerCase();return!W&&!a&&htmlRawNames.includes(Y)?(i=1,n.interrupt?t(L):V(L)):htmlBlockNames.includes(s.toLowerCase())?(i=6,W?(e.consume(L),y):n.interrupt?t(L):V(L)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(L):a?x(L):g(L))}return L===45||asciiAlphanumeric(L)?(e.consume(L),s+=String.fromCharCode(L),C):r(L)}function y(L){return L===62?(e.consume(L),n.interrupt?t:V):r(L)}function x(L){return markdownSpace(L)?(e.consume(L),x):O(L)}function g(L){return L===47?(e.consume(L),O):L===58||L===95||asciiAlpha(L)?(e.consume(L),k):markdownSpace(L)?(e.consume(L),g):O(L)}function k(L){return L===45||L===46||L===58||L===95||asciiAlphanumeric(L)?(e.consume(L),k):_(L)}function _(L){return L===61?(e.consume(L),E):markdownSpace(L)?(e.consume(L),_):g(L)}function E(L){return L===null||L===60||L===61||L===62||L===96?r(L):L===34||L===39?(e.consume(L),l=L,I):markdownSpace(L)?(e.consume(L),E):F(L)}function I(L){return L===l?(e.consume(L),l=null,z):L===null||markdownLineEnding(L)?r(L):(e.consume(L),I)}function F(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||markdownLineEndingOrSpace(L)?_(L):(e.consume(L),F)}function z(L){return L===47||L===62||markdownSpace(L)?g(L):r(L)}function O(L){return L===62?(e.consume(L),N):r(L)}function N(L){return L===null||markdownLineEnding(L)?V(L):markdownSpace(L)?(e.consume(L),N):r(L)}function V(L){return L===45&&i===2?(e.consume(L),T):L===60&&i===1?(e.consume(L),R):L===62&&i===4?(e.consume(L),D):L===63&&i===3?(e.consume(L),A):L===93&&i===5?(e.consume(L),P):markdownLineEnding(L)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(blankLineBefore,j,H)(L)):L===null||markdownLineEnding(L)?(e.exit("htmlFlowData"),H(L)):(e.consume(L),V)}function H(L){return e.check(nonLazyContinuationStart,G,j)(L)}function G(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),B}function B(L){return L===null||markdownLineEnding(L)?H(L):(e.enter("htmlFlowData"),V(L))}function T(L){return L===45?(e.consume(L),A):V(L)}function R(L){return L===47?(e.consume(L),s="",S):V(L)}function S(L){if(L===62){const W=s.toLowerCase();return htmlRawNames.includes(W)?(e.consume(L),D):V(L)}return asciiAlpha(L)&&s.length<8?(e.consume(L),s+=String.fromCharCode(L),S):V(L)}function P(L){return L===93?(e.consume(L),A):V(L)}function A(L){return L===62?(e.consume(L),D):L===45&&i===2?(e.consume(L),A):V(L)}function D(L){return L===null||markdownLineEnding(L)?(e.exit("htmlFlowData"),j(L)):(e.consume(L),D)}function j(L){return e.exit("htmlFlow"),t(L)}}function tokenizeNonLazyContinuationStart(e,t,r){const n=this;return i;function i(s){return markdownLineEnding(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):r(s)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function tokenizeBlankLineBefore(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(blankLine,t,r)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(e,t,r){const n=this;let i,a,s;return o;function o(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),l}function l(A){return A===33?(e.consume(A),u):A===47?(e.consume(A),_):A===63?(e.consume(A),g):asciiAlpha(A)?(e.consume(A),F):r(A)}function u(A){return A===45?(e.consume(A),c):A===91?(e.consume(A),a=0,d):asciiAlpha(A)?(e.consume(A),x):r(A)}function c(A){return A===45?(e.consume(A),m):r(A)}function f(A){return A===null?r(A):A===45?(e.consume(A),p):markdownLineEnding(A)?(s=f,R(A)):(e.consume(A),f)}function p(A){return A===45?(e.consume(A),m):f(A)}function m(A){return A===62?T(A):A===45?p(A):f(A)}function d(A){const D="CDATA[";return A===D.charCodeAt(a++)?(e.consume(A),a===D.length?b:d):r(A)}function b(A){return A===null?r(A):A===93?(e.consume(A),C):markdownLineEnding(A)?(s=b,R(A)):(e.consume(A),b)}function C(A){return A===93?(e.consume(A),y):b(A)}function y(A){return A===62?T(A):A===93?(e.consume(A),y):b(A)}function x(A){return A===null||A===62?T(A):markdownLineEnding(A)?(s=x,R(A)):(e.consume(A),x)}function g(A){return A===null?r(A):A===63?(e.consume(A),k):markdownLineEnding(A)?(s=g,R(A)):(e.consume(A),g)}function k(A){return A===62?T(A):g(A)}function _(A){return asciiAlpha(A)?(e.consume(A),E):r(A)}function E(A){return A===45||asciiAlphanumeric(A)?(e.consume(A),E):I(A)}function I(A){return markdownLineEnding(A)?(s=I,R(A)):markdownSpace(A)?(e.consume(A),I):T(A)}function F(A){return A===45||asciiAlphanumeric(A)?(e.consume(A),F):A===47||A===62||markdownLineEndingOrSpace(A)?z(A):r(A)}function z(A){return A===47?(e.consume(A),T):A===58||A===95||asciiAlpha(A)?(e.consume(A),O):markdownLineEnding(A)?(s=z,R(A)):markdownSpace(A)?(e.consume(A),z):T(A)}function O(A){return A===45||A===46||A===58||A===95||asciiAlphanumeric(A)?(e.consume(A),O):N(A)}function N(A){return A===61?(e.consume(A),V):markdownLineEnding(A)?(s=N,R(A)):markdownSpace(A)?(e.consume(A),N):z(A)}function V(A){return A===null||A===60||A===61||A===62||A===96?r(A):A===34||A===39?(e.consume(A),i=A,H):markdownLineEnding(A)?(s=V,R(A)):markdownSpace(A)?(e.consume(A),V):(e.consume(A),G)}function H(A){return A===i?(e.consume(A),i=void 0,B):A===null?r(A):markdownLineEnding(A)?(s=H,R(A)):(e.consume(A),H)}function G(A){return A===null||A===34||A===39||A===60||A===61||A===96?r(A):A===47||A===62||markdownLineEndingOrSpace(A)?z(A):(e.consume(A),G)}function B(A){return A===47||A===62||markdownLineEndingOrSpace(A)?z(A):r(A)}function T(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):r(A)}function R(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),S}function S(A){return markdownSpace(A)?factorySpace(e,P,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):P(A)}function P(A){return e.enter("htmlTextData"),s(A)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&splice(e,0,e.length,r),e}function resolveToLabelEnd(e,t){let r=e.length,n=0,i,a,s,o;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=push(o,e.slice(a+1,a+n+3)),o=push(o,[["enter",c,t]]),o=push(o,resolveAll(t.parser.constructs.insideSpan.null,e.slice(a+n+4,s-3),t)),o=push(o,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),o=push(o,e.slice(s+1)),o=push(o,[["exit",l,t]]),splice(e,a,e.length,o),e}function tokenizeLabelEnd(e,t,r){const n=this;let i=n.events.length,a,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return o;function o(p){return a?a._inactive?f(p):(s=n.parser.defined.includes(normalizeIdentifier(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):r(p)}function l(p){return p===40?e.attempt(resourceConstruct,c,s?c:f)(p):p===91?e.attempt(referenceFullConstruct,c,s?u:f)(p):s?c(p):f(p)}function u(p){return e.attempt(referenceCollapsedConstruct,c,f)(p)}function c(p){return t(p)}function f(p){return a._balanced=!0,r(p)}}function tokenizeResource(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return markdownLineEndingOrSpace(f)?factoryWhitespace(e,a)(f):a(f)}function a(f){return f===41?c(f):factoryDestination(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return markdownLineEndingOrSpace(f)?factoryWhitespace(e,l)(f):c(f)}function o(f){return r(f)}function l(f){return f===34||f===39||f===40?factoryTitle(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return markdownLineEndingOrSpace(f)?factoryWhitespace(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}function tokenizeReferenceFull(e,t,r){const n=this;return i;function i(o){return factoryLabel.call(n,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(normalizeIdentifier(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function s(o){return r(o)}}function tokenizeReferenceCollapsed(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(e,t,r){const n=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),factorySpace(e,t,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(e,t,r){let n=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):n>=3&&(u===null||markdownLineEnding(u))?(e.exit("thematicBreak"),t(u)):r(u)}function l(u){return u===i?(e.consume(u),n++,l):(e.exit("thematicBreakSequence"),markdownSpace(u)?factorySpace(e,o,"whitespace")(u):o(u))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const d=n.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(d==="listUnordered"?!n.containerState.marker||m===n.containerState.marker:asciiDigit(m)){if(n.containerState.type||(n.containerState.type=d,e.enter(d,{_container:!0})),d==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(thematicBreak$2,r,u)(m):u(m);if(!n.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return r(m)}function l(m){return asciiDigit(m)&&++s<10?(e.consume(m),l):(!n.interrupt||s<2)&&(n.containerState.marker?m===n.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):r(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||m,e.check(blankLine,n.interrupt?r:c,e.attempt(listItemPrefixWhitespaceConstruct,p,f))}function c(m){return n.containerState.initialBlankLine=!0,a++,p(m)}function f(m){return markdownSpace(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):r(m)}function p(m){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function tokenizeListContinuation(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(blankLine,i,a);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,factorySpace(e,t,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!markdownSpace(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(indentConstruct,t,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,factorySpace(e,e.attempt(list$2,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function tokenizeIndent$1(e,t,r){const n=this;return factorySpace(e,i,"listItemIndent",n.containerState.size+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(a):r(a)}}function tokenizeListEnd(e){e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(e,t,r){const n=this;return factorySpace(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const s=n.events[n.events.length-1];return!markdownSpace(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function tokenizeSetextUnderline(e,t,r){const n=this;let i;return a;function a(u){let c=n.events.length,f;for(;c--;)if(n.events[c][1].type!=="lineEnding"&&n.events[c][1].type!=="linePrefix"&&n.events[c][1].type!=="content"){f=n.events[c][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):r(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),markdownSpace(u)?factorySpace(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||markdownLineEnding(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const flow$1={tokenize:initializeFlow};function initializeFlow(e){const t=this,r=e.attempt(blankLine,n,e.attempt(this.parser.constructs.flowInitial,i,factorySpace(e,e.attempt(this.parser.constructs.flow,i,e.attempt(content,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(e){return{resolveAll:createResolver(e==="text"?resolveAllLineSuffixes:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){r.consume(c);return}return r.enter("data"),r.consume(c),l}function l(c){return u(c)?(r.exit("data"),a(c)):(r.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(n,n.previous))return!0}return!1}}}function createResolver(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function resolveAllLineSuffixes(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$3},Symbol.toStringTag,{value:"Module"}));function createTokenizer(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:I(_),check:I(E),consume:x,enter:g,exit:k,interrupt:I(E,{interrupt:!0})},u={code:null,containerState:{},defineSkip:b,events:[],now:d,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function f(N){return s=push(s,N),C(),s[s.length-1]!==null?[]:(F(t,0),u.events=resolveAll(a,u.events,u),u.events)}function p(N,V){return serializeChunks(m(N),V)}function m(N){return sliceChunks(s,N)}function d(){const{_bufferIndex:N,_index:V,line:H,column:G,offset:B}=n;return{_bufferIndex:N,_index:V,line:H,column:G,offset:B}}function b(N){i[N.line]=N.column,O()}function C(){let N;for(;n._index<s.length;){const V=s[n._index];if(typeof V=="string")for(N=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===N&&n._bufferIndex<V.length;)y(V.charCodeAt(n._bufferIndex));else y(V)}}function y(N){c=c(N)}function x(N){markdownLineEnding(N)?(n.line++,n.column=1,n.offset+=N===-3?2:1,O()):N!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=N}function g(N,V){const H=V||{};return H.type=N,H.start=d(),u.events.push(["enter",H,u]),o.push(H),H}function k(N){const V=o.pop();return V.end=d(),u.events.push(["exit",V,u]),V}function _(N,V){F(N,V.from)}function E(N,V){V.restore()}function I(N,V){return H;function H(G,B,T){let R,S,P,A;return Array.isArray(G)?j(G):"tokenize"in G?j([G]):D(G);function D(q){return Z;function Z(Q){const ae=Q!==null&&q[Q],ie=Q!==null&&q.null,ne=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return j(ne)(Q)}}function j(q){return R=q,S=0,q.length===0?T:L(q[S])}function L(q){return Z;function Z(Q){return A=z(),P=q,q.partial||(u.currentConstruct=q),q.name&&u.parser.constructs.disable.null.includes(q.name)?Y():q.tokenize.call(V?Object.assign(Object.create(u),V):u,l,W,Y)(Q)}}function W(q){return N(P,A),B}function Y(q){return A.restore(),++S<R.length?L(R[S]):T}}}function F(N,V){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&splice(u.events,V,u.events.length-V,N.resolve(u.events.slice(V),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function z(){const N=d(),V=u.previous,H=u.currentConstruct,G=u.events.length,B=Array.from(o);return{from:G,restore:T};function T(){n=N,u.previous=V,u.currentConstruct=H,u.events.length=G,o=B,O()}}function O(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function sliceChunks(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(r===i)s=[e[r].slice(n,a)];else{if(s=e.slice(r,i),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function serializeChunks(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,n.push(s)}return n.join("")}function parse(e){const n={constructs:combineExtensions([defaultConstructs,...(e||{}).extensions||[]]),content:i(content$1),defined:[],document:i(document$2),flow:i(flow$1),lazy:{},string:i(string$1),text:i(text$4)};return n;function i(a){return s;function s(o){return createTokenizer(n,a,o)}}}function postprocess(e){for(;!subtokenize(e););return e}const search=/[\0\t\n\r]/g;function preprocess(){let e=1,t="",r=!0,n;return i;function i(a,s,o){const l=[];let u,c,f,p,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",r&&(a.charCodeAt(0)===65279&&f++,r=void 0);f<a.length;){if(search.lastIndex=f,u=search.exec(a),p=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(p),!u){t=a.slice(f);break}if(m===10&&f===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),f<p&&(l.push(a.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}f=p+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(e){return e.replace(characterEscapeOrReference,decode)}function decode(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return decodeNumericCharacterReference(r.slice(a?2:1),a?16:10)}return decodeNamedCharacterReference(r)||e}const own$2={}.hasOwnProperty;function fromMarkdown(e,t,r){return typeof t!="string"&&(r=t,t=void 0),compiler(r)(postprocess(parse(r).document().write(preprocess()(e,t,!0))))}function compiler(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(pe),autolinkProtocol:z,autolinkEmail:z,atxHeading:a(ce),blockQuote:a(ie),characterEscape:z,characterReference:z,codeFenced:a(ne),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ne,s),codeText:a(oe,s),codeTextData:z,data:z,codeFlowValue:z,definition:a(te),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(J),hardBreakEscape:a(de),hardBreakTrailing:a(de),htmlFlow:a(he,s),htmlFlowData:z,htmlText:a(he,s),htmlTextData:z,image:a(fe),label:s,link:a(pe),listItem:a(se),listItemValue:p,listOrdered:a(me,f),listUnordered:a(me),paragraph:a(ye),reference:L,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ce),strong:a(ve),thematicBreak:a(be)},exit:{atxHeading:l(),atxHeadingSequence:_,autolink:l(),autolinkEmail:ae,autolinkProtocol:Q,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Y,characterReferenceMarkerNumeric:Y,characterReferenceValue:q,characterReference:Z,codeFenced:l(C),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:d,codeFlowValue:O,codeIndented:l(y),codeText:l(B),codeTextData:O,data:O,definition:l(),definitionDestinationString:k,definitionLabelString:x,definitionTitleString:g,emphasis:l(),hardBreakEscape:l(V),hardBreakTrailing:l(V),htmlFlow:l(H),htmlFlowData:O,htmlText:l(G),htmlTextData:O,image:l(R),label:P,labelText:S,lineEnding:N,link:l(T),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:W,resourceDestinationString:A,resourceTitleString:D,resource:j,setextHeading:l(F),setextHeadingLineSequence:I,setextHeadingText:E,strong:l(),thematicBreak:l()}};configure(t,(e||{}).mdastExtensions||[]);const r={};return n;function n($){let U={type:"root",children:[]};const K={stack:[U],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:c,data:r},X=[];let ee=-1;for(;++ee<$.length;)if($[ee][1].type==="listOrdered"||$[ee][1].type==="listUnordered")if($[ee][0]==="enter")X.push(ee);else{const ge=X.pop();ee=i($,ge,ee)}for(ee=-1;++ee<$.length;){const ge=t[$[ee][0]];own$2.call(ge,$[ee][1].type)&&ge[$[ee][1].type].call(Object.assign({sliceSerialize:$[ee][2].sliceSerialize},K),$[ee][1])}if(K.tokenStack.length>0){const ge=K.tokenStack[K.tokenStack.length-1];(ge[1]||defaultOnError).call(K,void 0,ge[0])}for(U.position={start:point($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:point($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},ee=-1;++ee<t.transforms.length;)U=t.transforms[ee](U)||U;return U}function i($,U,K){let X=U-1,ee=-1,ge=!1,Ee,xe,Ce,_e;for(;++X<=K;){const ue=$[X];switch(ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ue[0]==="enter"?ee++:ee--,_e=void 0;break}case"lineEndingBlank":{ue[0]==="enter"&&(Ee&&!_e&&!ee&&!Ce&&(Ce=X),_e=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_e=void 0}if(!ee&&ue[0]==="enter"&&ue[1].type==="listItemPrefix"||ee===-1&&ue[0]==="exit"&&(ue[1].type==="listUnordered"||ue[1].type==="listOrdered")){if(Ee){let we=X;for(xe=void 0;we--;){const ke=$[we];if(ke[1].type==="lineEnding"||ke[1].type==="lineEndingBlank"){if(ke[0]==="exit")continue;xe&&($[xe][1].type="lineEndingBlank",ge=!0),ke[1].type="lineEnding",xe=we}else if(!(ke[1].type==="linePrefix"||ke[1].type==="blockQuotePrefix"||ke[1].type==="blockQuotePrefixWhitespace"||ke[1].type==="blockQuoteMarker"||ke[1].type==="listItemIndent"))break}Ce&&(!xe||Ce<xe)&&(Ee._spread=!0),Ee.end=Object.assign({},xe?$[xe][1].start:ue[1].end),$.splice(xe||X,0,["exit",Ee,ue[2]]),X++,K++}if(ue[1].type==="listItemPrefix"){const we={type:"listItem",_spread:!1,start:Object.assign({},ue[1].start),end:void 0};Ee=we,$.splice(X,0,["enter",we,ue[2]]),X++,K++,Ce=void 0,_e=!0}}}return $[U][1]._spread=ge,K}function a($,U){return K;function K(X){o.call(this,$(X),X),U&&U.call(this,X)}}function s(){this.stack.push({type:"fragment",children:[]})}function o($,U,K){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([U,K||void 0]),$.position={start:point(U.start),end:void 0}}function l($){return U;function U(K){$&&$.call(this,K),u.call(this,K)}}function u($,U){const K=this.stack.pop(),X=this.tokenStack.pop();if(X)X[0].type!==$.type&&(U?U.call(this,$,X[0]):(X[1]||defaultOnError).call(this,$,X[0]));else throw new Error("Cannot close `"+$.type+"` ("+stringifyPosition({start:$.start,end:$.end})+"): it’s not open");K.position.end=point($.end)}function c(){return toString$3(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p($){if(this.data.expectingFirstListItemValue){const U=this.stack[this.stack.length-2];U.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function m(){const $=this.resume(),U=this.stack[this.stack.length-1];U.lang=$}function d(){const $=this.resume(),U=this.stack[this.stack.length-1];U.meta=$}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const $=this.resume(),U=this.stack[this.stack.length-1];U.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const $=this.resume(),U=this.stack[this.stack.length-1];U.value=$.replace(/(\r?\n|\r)$/g,"")}function x($){const U=this.resume(),K=this.stack[this.stack.length-1];K.label=U,K.identifier=normalizeIdentifier(this.sliceSerialize($)).toLowerCase()}function g(){const $=this.resume(),U=this.stack[this.stack.length-1];U.title=$}function k(){const $=this.resume(),U=this.stack[this.stack.length-1];U.url=$}function _($){const U=this.stack[this.stack.length-1];if(!U.depth){const K=this.sliceSerialize($).length;U.depth=K}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function I($){const U=this.stack[this.stack.length-1];U.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function z($){const K=this.stack[this.stack.length-1].children;let X=K[K.length-1];(!X||X.type!=="text")&&(X=le(),X.position={start:point($.start),end:void 0},K.push(X)),this.stack.push(X)}function O($){const U=this.stack.pop();U.value+=this.sliceSerialize($),U.position.end=point($.end)}function N($){const U=this.stack[this.stack.length-1];if(this.data.atHardBreak){const K=U.children[U.children.length-1];K.position.end=point($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(U.type)&&(z.call(this,$),O.call(this,$))}function V(){this.data.atHardBreak=!0}function H(){const $=this.resume(),U=this.stack[this.stack.length-1];U.value=$}function G(){const $=this.resume(),U=this.stack[this.stack.length-1];U.value=$}function B(){const $=this.resume(),U=this.stack[this.stack.length-1];U.value=$}function T(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=U,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function R(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=U,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function S($){const U=this.sliceSerialize($),K=this.stack[this.stack.length-2];K.label=decodeString(U),K.identifier=normalizeIdentifier(U).toLowerCase()}function P(){const $=this.stack[this.stack.length-1],U=this.resume(),K=this.stack[this.stack.length-1];if(this.data.inReference=!0,K.type==="link"){const X=$.children;K.children=X}else K.alt=U}function A(){const $=this.resume(),U=this.stack[this.stack.length-1];U.url=$}function D(){const $=this.resume(),U=this.stack[this.stack.length-1];U.title=$}function j(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function W($){const U=this.resume(),K=this.stack[this.stack.length-1];K.label=U,K.identifier=normalizeIdentifier(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function Y($){this.data.characterReferenceType=$.type}function q($){const U=this.sliceSerialize($),K=this.data.characterReferenceType;let X;K?(X=decodeNumericCharacterReference(U,K==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):X=decodeNamedCharacterReference(U);const ee=this.stack[this.stack.length-1];ee.value+=X}function Z($){const U=this.stack.pop();U.position.end=point($.end)}function Q($){O.call(this,$);const U=this.stack[this.stack.length-1];U.url=this.sliceSerialize($)}function ae($){O.call(this,$);const U=this.stack[this.stack.length-1];U.url="mailto:"+this.sliceSerialize($)}function ie(){return{type:"blockquote",children:[]}}function ne(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function J(){return{type:"emphasis",children:[]}}function ce(){return{type:"heading",depth:0,children:[]}}function de(){return{type:"break"}}function he(){return{type:"html",value:""}}function fe(){return{type:"image",title:null,url:"",alt:null}}function pe(){return{type:"link",title:null,url:"",children:[]}}function me($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function se($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function ye(){return{type:"paragraph",children:[]}}function ve(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function be(){return{type:"thematicBreak"}}}function point(e){return{line:e.line,column:e.column,offset:e.offset}}function configure(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?configure(e,n):extension(e,n)}}function extension(e,t){let r;for(r in t)if(own$2.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function defaultOnError(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+stringifyPosition({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+stringifyPosition({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+stringifyPosition({start:t.start,end:t.end})+") is still open")}function remarkParse(e){const t=this;t.parser=r;function r(n){return fromMarkdown(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function blockquote$1(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function hardBreak$1(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function code$2(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function strikethrough(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function emphasis$1(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function footnoteReference$1(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=normalizeUri(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let s,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function heading$1(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function html$1(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function revert(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=n:i.push({type:"text",value:n}),i}function imageReference$1(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return revert(e,t);const i={src:normalizeUri(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function image$1(e,t){const r={src:normalizeUri(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function inlineCode$1(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function linkReference$1(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return revert(e,t);const i={href:normalizeUri(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function link$1(e,t){const r={href:normalizeUri(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function listItem$1(e,t,r){const n=e.all(t),i=r?listLoose(r):listItemLoose(t),a={},s=[];if(typeof t.checked=="boolean"){const c=n[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const c=n[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function listLoose(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=listItemLoose(r[n])}return t}function listItemLoose(e){const t=e.spread;return t??e.children.length>1}function list$1(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function paragraph$1(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function root$3(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function strong$1(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function table$1(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),i.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=pointStart(t.children[1]),l=pointEnd(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function tableRow(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],p={},m=s?s[l]:void 0;m&&(p.align=m);let d={type:"element",tagName:a,properties:p,children:[]};f&&(d.children=e.all(f),e.patch(f,d),d=e.applyData(f,d)),u.push(d)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function tableCell(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const tab=9,space=32;function trimLines(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(trimLine(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(trimLine(t.slice(i),i>0,!1)),a.join("")}function trimLine(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===tab||a===space;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===tab||a===space;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function text$2(e,t){const r={type:"text",value:trimLines(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function thematicBreak$1(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$3,strong:strong$1,table:table$1,tableCell,tableRow,text:text$2,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case PRIMITIVE:case VOID:return r(s,i);case ARRAY:{const o=r([],i);for(const l of s)o.push(n(l));return o}case OBJECT:{const o=r({},i);for(const[l,u]of s)o[n(l)]=n(u);return o}case DATE:return r(new Date(s),i);case REGEXP:{const{source:o,flags:l}=s;return r(new RegExp(o,l),i)}case MAP:{const o=r(new Map,i);for(const[l,u]of s)o.set(n(l),n(u));return o}case SET:{const o=r(new Set,i);for(const l of s)o.add(n(l));return o}case ERROR:{const{name:o,message:l}=s;return r(new env[o](l),i)}case BIGINT:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new env[a](s),i)};return n},deserialize=e=>deserializer(new Map,e)(0),EMPTY="",{toString:toString$2}={},{keys}=Object,typeOf=e=>{const t=typeof e;if(t!=="object"||!e)return[PRIMITIVE,t];const r=toString$2.call(e).slice(8,-1);switch(r){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,r]}return r.includes("Array")?[ARRAY,r]:r.includes("Error")?[ERROR,r]:[OBJECT,r]},shouldSkip=([e,t])=>e===PRIMITIVE&&(t==="function"||t==="symbol"),serializer=(e,t,r,n)=>{const i=(s,o)=>{const l=n.push(s)-1;return r.set(o,l),l},a=s=>{if(r.has(s))return r.get(s);let[o,l]=typeOf(s);switch(o){case PRIMITIVE:{let c=s;switch(l){case"bigint":o=BIGINT,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([VOID],s)}return i([o,c],s)}case ARRAY:{if(l){let p=s;return l==="DataView"?p=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(s)),i([l,[...p]],s)}const c=[],f=i([o,c],s);for(const p of s)c.push(a(p));return f}case OBJECT:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const c=[],f=i([o,c],s);for(const p of keys(s))(e||!shouldSkip(typeOf(s[p])))&&c.push([a(p),a(s[p])]);return f}case DATE:return i([o,s.toISOString()],s);case REGEXP:{const{source:c,flags:f}=s;return i([o,{source:c,flags:f}],s)}case MAP:{const c=[],f=i([o,c],s);for(const[p,m]of s)(e||!(shouldSkip(typeOf(p))||shouldSkip(typeOf(m))))&&c.push([a(p),a(m)]);return f}case SET:{const c=[],f=i([o,c],s);for(const p of s)(e||!shouldSkip(typeOf(p)))&&c.push(a(p));return f}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},serialize$1=(e,{json:t,lossy:r}={})=>{const n=[];return serializer(!(t||r),!!t,new Map,n)(e),n},structuredClone$1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?deserialize(serialize$1(e,t)):structuredClone(e):(e,t)=>deserialize(serialize$1(e,t));function defaultFootnoteBackContent(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function defaultFootnoteBackLabel(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function footer(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||defaultFootnoteBackContent,n=e.options.footnoteBackLabel||defaultFootnoteBackLabel,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),p=normalizeUri(f.toLowerCase());let m=0;const d=[],b=e.footnoteCounts.get(f);for(;b!==void 0&&++m<=b;){d.length>0&&d.push({type:"text",value:" "});let x=typeof r=="string"?r:r(l,m);typeof x=="string"&&(x={type:"text",value:x}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const C=c[c.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const x=C.children[C.children.length-1];x&&x.type==="text"?x.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...d)}else c.push(...d);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(c,!0)};e.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...structuredClone$1(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const convert=function(e){if(e==null)return ok;if(typeof e=="function")return castFactory(e);if(typeof e=="object")return Array.isArray(e)?anyFactory(e):propsFactory(e);if(typeof e=="string")return typeFactory(e);throw new Error("Expected function, string, or object as test")};function anyFactory(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=convert(e[r]);return castFactory(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function propsFactory(e){const t=e;return castFactory(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function typeFactory(e){return castFactory(t);function t(r){return r&&r.type===e}}function castFactory(e){return t;function t(r,n,i){return!!(looksLikeANode(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function ok(){return!0}function looksLikeANode(e){return e!==null&&typeof e=="object"&&"type"in e}function color(e){return e}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=convert(i),s=n?-1:1;o(e,void 0,[])();function o(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=empty,d,b,C;if((!t||a(l,u,c[c.length-1]||void 0))&&(m=toResult(r(l,c)),m[0]===EXIT))return m;if("children"in l&&l.children){const y=l;if(y.children&&m[0]!==SKIP)for(b=(n?y.children.length:-1)+s,C=c.concat(y);b>-1&&b<y.children.length;){const x=y.children[b];if(d=o(x,b,C)(),d[0]===EXIT)return d;b=typeof d[1]=="number"?d[1]:b+s}}return m}}}function toResult(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE,e]:e==null?empty:[e]}function visit(e,t,r,n){let i,a,s;typeof t=="function"&&typeof r!="function"?(a=void 0,s=t,i=r):(a=t,s=r,i=n),visitParents(e,a,o,i);function o(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return s(l,f,c)}}const own$1={}.hasOwnProperty,emptyOptions$1={};function createState(e,t){const r=t||emptyOptions$1,n=new Map,i=new Map,a=new Map,s={...handlers,...r.handlers},o={all:u,applyData,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:r,patch,wrap:wrap$1};return visit(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?n:i,p=String(c.identifier).toUpperCase();f.has(p)||f.set(p,c)}}),o;function l(c,f){const p=c.type,m=o.handlers[p];if(own$1.call(o.handlers,p)&&m)return m(o,c,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in c){const{children:b,...C}=c,y=structuredClone$1(C);return y.children=o.all(c),y}return structuredClone$1(c)}return(o.options.unknownHandler||defaultUnknownHandler)(o,c,f)}function u(c){const f=[];if("children"in c){const p=c.children;let m=-1;for(;++m<p.length;){const d=o.one(p[m],c);if(d){if(m&&p[m-1].type==="break"&&(!Array.isArray(d)&&d.type==="text"&&(d.value=trimMarkdownSpaceStart(d.value)),!Array.isArray(d)&&d.type==="element")){const b=d.children[0];b&&b.type==="text"&&(b.value=trimMarkdownSpaceStart(b.value))}Array.isArray(d)?f.push(...d):f.push(d)}}}return f}}function patch(e,t){e.position&&(t.position=position$1(e))}function applyData(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&a&&Object.assign(r.properties,structuredClone$1(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function defaultUnknownHandler(e,t){const r=t.data||{},n="value"in t&&!(own$1.call(r,"hProperties")||own$1.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wrap$1(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function trimMarkdownSpaceStart(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function toHast(e,t){const r=createState(e,t),n=r.one(e,void 0),i=footer(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function remarkRehype(e,t){return e&&"run"in e?async function(r,n){const i=toHast(r,{file:n,...t});await e.run(i,n)}:function(r,n){return toHast(r,{file:n,...e||t})}}function bail(e){if(e)throw e}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(t){return typeof Array.isArray=="function"?Array.isArray(t):toStr.call(t)==="[object Array]"},isPlainObject$1=function(t){if(!t||toStr.call(t)!=="[object Object]")return!1;var r=hasOwn.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&hasOwn.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||hasOwn.call(t,i)},setProperty=function(t,r){defineProperty&&r.name==="__proto__"?defineProperty(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},getProperty=function(t,r){if(r==="__proto__")if(hasOwn.call(t,r)){if(gOPD)return gOPD(t,r).value}else return;return t[r]},extend=function e(){var t,r,n,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=getProperty(o,r),i=getProperty(t,r),o!==i&&(c&&i&&(isPlainObject$1(i)||(a=isArray(i)))?(a?(a=!1,s=n&&isArray(n)?n:[]):s=n&&isPlainObject$1(n)?n:{},setProperty(o,{name:r,newValue:e(c,s,i)})):typeof i<"u"&&setProperty(o,{name:r,newValue:i}));return o};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function trough(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?wrap(c,o)(...u):s(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function wrap(e,t){let r;return n;function n(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(o&&r)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){r||(r=!0,t(s,...o))}function a(s){i(null,s)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function dirname(e){if(assertPath$1(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function extname(e){assertPath$1(e);let t=e.length,r=-1,n=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function join(...e){let t=-1,r;for(;++t<e.length;)assertPath$1(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":normalize(r)}function normalize(e){assertPath$1(e);const t=e.codePointAt(0)===47;let r=normalizeString(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function normalizeString(e,t){let r="",n=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length>0){r="",n=0,i=s,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return r}function assertPath$1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const minproc={cwd};function cwd(){return"/"}function isUrl(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function urlToPath(e){if(typeof e=="string")e=new URL(e);else if(!isUrl(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return getPathFromURLPosix(e)}function getPathFromURLPosix(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(t){let r;t?isUrl(t)?r={path:t}:typeof t=="string"||isUint8Array$1(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<order.length;){const a=order[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)order.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(t){assertNonEmpty(t,"basename"),assertPart(t,"basename"),this.path=minpath.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(t){assertPath(this.basename,"dirname"),this.path=minpath.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(t){if(assertPart(t,"extname"),assertPath(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){isUrl(t)&&(t=urlToPath(t)),assertNonEmpty(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(t){assertNonEmpty(t,"stem"),assertPart(t,"stem"),this.path=minpath.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new VFileMessage(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function assertPart(e,t){if(e&&e.includes(minpath.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function assertPath(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function isUint8Array$1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CallableInstance=function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const t=new Processor;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(extend$1(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[t]=r,this):own.call(this.namespace,t)&&this.namespace[t]||void 0:t?(assertUnfrozen("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=vfile(t),n=this.parser||this.Parser;return assertParser("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,s){const o=vfile(t),l=n.parse(o);n.run(l,o,function(c,f,p){if(c||!f||!p)return u(c);const m=f,d=n.stringify(m,p);looksLikeAValue(d)?p.value=d:p.result=d,u(c,p)});function u(c,f){c||!f?s(c):a?a(f):r(void 0,f)}}}processSync(t){let r=!1,n;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(t,i),assertDone("processSync","process",r),n;function i(a,s){r=!0,bail(a),n=s}}run(t,r,n){assertNode(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const l=vfile(r);i.run(t,l,u);function u(c,f,p){const m=f||t;c?o(c):s?s(m):n(void 0,m,p)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),assertDone("runSync","run",n),i;function a(s,o){bail(s),i=o,n=!0}}stringify(t,r){this.freeze();const n=vfile(r),i=this.compiler||this.Compiler;return assertCompiler("stringify",i),assertNode(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(assertUnfrozen("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=extend$1(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,p=-1;for(;++f<n.length;)if(n[f][0]===u){p=f;break}if(p===-1)n.push([u,...c]);else if(c.length>0){let[m,...d]=c;const b=n[p][1];isPlainObject(b)&&isPlainObject(m)&&(m=extend$1(!0,b,m)),n[p]=[u,m,...d]}}}}const unified=new Processor().freeze();function assertParser(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function assertCompiler(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function assertUnfrozen(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(e){if(!isPlainObject(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function assertDone(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function vfile(e){return looksLikeAVFile(e)?e:new VFile(e)}function looksLikeAVFile(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function looksLikeAValue(e){return typeof e=="string"||isUint8Array(e)}function isUint8Array(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(e){const t=createProcessor(e),r=createFile(e);return post(t.runSync(t.parse(r),r),e)}function createProcessor(e){const t=e.rehypePlugins||emptyPlugins,r=e.remarkPlugins||emptyPlugins,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(r).use(remarkRehype,n).use(t)}function createFile(e){const t=e.children||"",r=new VFile;return typeof t=="string"&&(r.value=t),r}function post(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||defaultUrlTransform;for(const c of deprecations)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+changelog+c.id,void 0);return visit(e,u),toJsxRuntime(e,{Fragment:JsxRuntime.Fragment,components:i,ignoreInvalidStyle:!0,jsx:JsxRuntime.jsx,jsxs:JsxRuntime.jsxs,passKeys:!0,passNode:!0});function u(c,f,p){if(c.type==="raw"&&p&&typeof f=="number")return s?p.children.splice(f,1):p.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let m;for(m in urlAttributes)if(Object.hasOwn(urlAttributes,m)&&Object.hasOwn(c.properties,m)){const d=c.properties[m],b=urlAttributes[m];(b===null||b.includes(c.tagName))&&(c.properties[m]=l(String(d||""),m,c))}}if(c.type==="element"){let m=r?!r.includes(c.tagName):a?a.includes(c.tagName):!1;if(!m&&n&&typeof f=="number"&&(m=!n(c,f,p)),m&&p&&typeof f=="number")return o&&c.children?p.children.splice(f,1,...c.children):p.children.splice(f,1),f}}}function defaultUrlTransform(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||safeProtocol.test(e.slice(0,t))?e:""}function ccount(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function escapeStringRegexp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(e,t,r){const i=convert((r||{}).ignore||[]),a=toPairs(t);let s=-1;for(;++s<a.length;)visitParents(e,"text",o);function o(u,c){let f=-1,p;for(;++f<c.length;){const m=c[f],d=p?p.children:void 0;if(i(m,d?d.indexOf(m):void 0,p))return;p=m}if(p)return l(u,c)}function l(u,c){const f=c[c.length-1],p=a[s][0],m=a[s][1];let d=0;const C=f.children.indexOf(u);let y=!1,x=[];p.lastIndex=0;let g=p.exec(u.value);for(;g;){const k=g.index,_={index:g.index,input:g.input,stack:[...c,u]};let E=m(...g,_);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?p.lastIndex=k+1:(d!==k&&x.push({type:"text",value:u.value.slice(d,k)}),Array.isArray(E)?x.push(...E):E&&x.push(E),d=k+g[0].length,y=!0),!p.global)break;g=p.exec(u.value)}return y?(d<u.value.length&&x.push({type:"text",value:u.value.slice(d)}),f.children.splice(C,1,...x)):x=[u],C+x.length}}function toPairs(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([toExpression(i[0]),toFunction(i[1])])}return t}function toExpression(e){return typeof e=="string"?new RegExp(escapeStringRegexp(e),"g"):e}function toFunction(e){return typeof e=="function"?e:function(){return e}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function enterLiteralAutolinkValue(e){this.config.enter.autolinkProtocol.call(this,e)}function exitLiteralAutolinkHttp(e){this.config.exit.autolinkProtocol.call(this,e)}function exitLiteralAutolinkWww(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function exitLiteralAutolinkEmail(e){this.config.exit.autolinkEmail.call(this,e)}function exitLiteralAutolink(e){this.exit(e)}function transformGfmAutolinkLiterals(e){findAndReplace(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(e,t,r,n,i){let a="";if(!previous(i)||(/^w/i.test(t)&&(r=t+r,t="",a="http://"),!isCorrectDomain(r)))return!1;const s=splitUrl(r+n);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function findEmail(e,t,r,n){return!previous(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function isCorrectDomain(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function splitUrl(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=ccount(e,"(");let a=ccount(e,")");for(;n!==-1&&i>a;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),a++;return[e,r]}function previous(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||unicodeWhitespace(r)||unicodePunctuation(r))&&(!t||r!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function exitFootnoteCallString(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase(),r.label=t}function exitFootnoteCall(e){this.exit(e)}function exitFootnoteDefinitionLabelString(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase(),r.label=t}function exitFootnoteDefinition(e){this.exit(e)}function footnoteReferencePeek(){return"["}function footnoteReference(e,t,r,n){const i=r.createTracker(n);let a=i.move("[^");const s=r.enter("footnoteReference"),o=r.enter("reference");return a+=i.move(r.safe(r.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const u=a.enter("footnoteDefinition"),c=a.enter("label");return l+=o.move(a.safe(a.associationId(n),{before:l,after:"]"})),c(),l+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(n,o.current()),t?mapAll:mapExceptFirst))),u(),l}}function mapExceptFirst(e,t,r){return t===0?e:mapAll(e,t,r)}function mapAll(e,t,r){return(r?"":"    ")+e}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(e){this.enter({type:"delete",children:[]},e)}function exitStrikethrough(e){this.exit(e)}function handleDelete(e,t,r,n){const i=r.createTracker(n),a=r.enter("strikethrough");let s=i.move("~~");return s+=r.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function peekDelete(){return"~"}function defaultStringLength(e){return e.length}function markdownTable(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||defaultStringLength,a=[],s=[],o=[],l=[];let u=0,c=-1;for(;++c<e.length;){const b=[],C=[];let y=-1;for(e[c].length>u&&(u=e[c].length);++y<e[c].length;){const x=serialize(e[c][y]);if(r.alignDelimiters!==!1){const g=i(x);C[y]=g,(l[y]===void 0||g>l[y])&&(l[y]=g)}b.push(x)}s[c]=b,o[c]=C}let f=-1;if(typeof n=="object"&&"length"in n)for(;++f<u;)a[f]=toAlignment(n[f]);else{const b=toAlignment(n);for(;++f<u;)a[f]=b}f=-1;const p=[],m=[];for(;++f<u;){const b=a[f];let C="",y="";b===99?(C=":",y=":"):b===108?C=":":b===114&&(y=":");let x=r.alignDelimiters===!1?1:Math.max(1,l[f]-C.length-y.length);const g=C+"-".repeat(x)+y;r.alignDelimiters!==!1&&(x=C.length+x+y.length,x>l[f]&&(l[f]=x),m[f]=x),p[f]=g}s.splice(1,0,p),o.splice(1,0,m),c=-1;const d=[];for(;++c<s.length;){const b=s[c],C=o[c];f=-1;const y=[];for(;++f<u;){const x=b[f]||"";let g="",k="";if(r.alignDelimiters!==!1){const _=l[f]-(C[f]||0),E=a[f];E===114?g=" ".repeat(_):E===99?_%2?(g=" ".repeat(_/2+.5),k=" ".repeat(_/2-.5)):(g=" ".repeat(_/2),k=g):k=" ".repeat(_)}r.delimiterStart!==!1&&!f&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&x==="")&&(r.delimiterStart!==!1||f)&&y.push(" "),r.alignDelimiters!==!1&&y.push(g),y.push(x),r.alignDelimiters!==!1&&y.push(k),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||f!==u-1)&&y.push("|")}d.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return d.join(`
`)}function serialize(e){return e==null?"":String(e)}function toAlignment(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function blockquote(e,t,r,n){const i=r.enter("blockquote"),a=r.createTracker(n);a.move("> "),a.shift(2);const s=r.indentLines(r.containerFlow(e,a.current()),map$1);return i(),s}function map$1(e,t,r){return">"+(r?"":" ")+e}function patternInScope(e,t){return listInScope(e,t.inConstruct,!0)&&!listInScope(e,t.notInConstruct,!1)}function listInScope(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function hardBreak(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&patternInScope(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function longestStreak(e,t){const r=String(e);let n=r.indexOf(t),i=n,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>s&&(s=a):a=1,i=n+t.length,n=r.indexOf(t,i);return s}function formatCodeAsIndented(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function checkFence(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function code$1(e,t,r,n){const i=checkFence(r),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(e,r)){const f=r.enter("codeIndented"),p=r.indentLines(a,map);return f(),p}const o=r.createTracker(n),l=i.repeat(Math.max(longestStreak(a,i)+1,3)),u=r.enter("codeFenced");let c=o.move(l);if(e.lang){const f=r.enter(`codeFencedLang${s}`);c+=o.move(r.safe(e.lang,{before:c,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=r.enter(`codeFencedMeta${s}`);c+=o.move(" "),c+=o.move(r.safe(e.meta,{before:c,after:`
`,encode:["`"],...o.current()})),f()}return c+=o.move(`
`),a&&(c+=o.move(a+`
`)),c+=o.move(l),u(),c}function map(e,t,r){return(r?"":"    ")+e}function checkQuote(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function definition(e,t,r,n){const i=checkQuote(r),a=i==='"'?"Quote":"Apostrophe",s=r.enter("definition");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("[");return u+=l.move(r.safe(r.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=r.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(r.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),s(),u}function checkEmphasis(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function encodeCharacterReference(e){return"&#x"+e.toString(16).toUpperCase()+";"}function encodeInfo(e,t,r){const n=classifyCharacter(e),i=classifyCharacter(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(e,t,r,n){const i=checkEmphasis(r),a=r.enter("emphasis"),s=r.createTracker(n),o=s.move(i);let l=s.move(r.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),c=encodeInfo(n.before.charCodeAt(n.before.length-1),u,i);c.inside&&(l=encodeCharacterReference(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=encodeInfo(n.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+encodeCharacterReference(f));const m=s.move(i);return a(),r.attentionEncodeSurroundingInfo={after:p.outside,before:c.outside},o+l+m}function emphasisPeek(e,t,r){return r.options.emphasis||"*"}function formatHeadingAsSetext(e,t){let r=!1;return visit(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,EXIT}),!!((!e.depth||e.depth<3)&&toString$3(e)&&(t.options.setext||r))}function heading(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),a=r.createTracker(n);if(formatHeadingAsSetext(e,r)){const c=r.enter("headingSetext"),f=r.enter("phrasing"),p=r.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),c(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=r.enter("headingAtx"),l=r.enter("phrasing");a.move(s+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=encodeCharacterReference(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,r.options.closeAtx&&(u+=" "+s),l(),o(),u}html.peek=htmlPeek;function html(e){return e.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(e,t,r,n){const i=checkQuote(r),a=i==='"'?"Quote":"Apostrophe",s=r.enter("image");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("![");return u+=l.move(r.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=r.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(r.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),s(),u}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(e,t,r,n){const i=e.referenceType,a=r.enter("imageReference");let s=r.enter("label");const o=r.createTracker(n);let l=o.move("![");const u=r.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const c=r.stack;r.stack=[],s=r.enter("reference");const f=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return s(),r.stack=c,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(e,t,r){let n=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<r.unsafe.length;){const s=r.unsafe[a],o=r.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(n);){let u=l.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(l.index+1)}}return i+n+i}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(e,t){const r=toString$3(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}link.peek=linkPeek;function link(e,t,r,n){const i=checkQuote(r),a=i==='"'?"Quote":"Apostrophe",s=r.createTracker(n);let o,l;if(formatLinkAsAutolink(e,r)){const c=r.stack;r.stack=[],o=r.enter("autolink");let f=s.move("<");return f+=s.move(r.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),r.stack=c,f}o=r.enter("link"),l=r.enter("label");let u=s.move("[");return u+=s.move(r.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(r.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=r.enter("destinationRaw"),u+=s.move(r.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=r.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(r.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),o(),u}function linkPeek(e,t,r){return formatLinkAsAutolink(e,r)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(e,t,r,n){const i=e.referenceType,a=r.enter("linkReference");let s=r.enter("label");const o=r.createTracker(n);let l=o.move("[");const u=r.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const c=r.stack;r.stack=[],s=r.enter("reference");const f=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return s(),r.stack=c,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function linkReferencePeek(){return"["}function checkBullet(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function checkBulletOther(e){const t=checkBullet(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function checkBulletOrdered(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function checkRule(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function list(e,t,r,n){const i=r.enter("list"),a=r.bulletCurrent;let s=e.ordered?checkBulletOrdered(r):checkBullet(r);const o=e.ordered?s==="."?")":".":checkBulletOther(r);let l=t&&r.bulletLastUsed?s===r.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&c&&(!c.children||!c.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),checkRule(r)===s&&c){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),r.bulletCurrent=s;const u=r.containerFlow(e,n);return r.bulletLastUsed=s,r.bulletCurrent=a,i(),u}function checkListItemIndent(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function listItem(e,t,r,n){const i=checkListItemIndent(r);let a=r.bulletCurrent||checkBullet(r);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=r.createTracker(n);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,o.current()),c);return l(),u;function c(f,p,m){return p?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function paragraph(e,t,r,n){const i=r.enter("paragraph"),a=r.enter("phrasing"),s=r.containerPhrasing(e,n);return a(),i(),s}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root$2(e,t,r,n){return(e.children.some(function(s){return phrasing(s)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function checkStrong(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}strong.peek=strongPeek;function strong(e,t,r,n){const i=checkStrong(r),a=r.enter("strong"),s=r.createTracker(n),o=s.move(i+i);let l=s.move(r.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),c=encodeInfo(n.before.charCodeAt(n.before.length-1),u,i);c.inside&&(l=encodeCharacterReference(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=encodeInfo(n.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+encodeCharacterReference(f));const m=s.move(i+i);return a(),r.attentionEncodeSurroundingInfo={after:p.outside,before:c.outside},o+l+m}function strongPeek(e,t,r){return r.options.strong||"*"}function text$1(e,t,r,n){return r.safe(e.value,n)}function checkRuleRepetition(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function thematicBreak(e,t,r){const n=(checkRule(r)+(r.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(r));return r.options.ruleSpaces?n.slice(0,-1):n}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root:root$2,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function exitTable(e){this.exit(e),this.data.inTable=void 0}function enterRow(e){this.enter({type:"tableRow",children:[]},e)}function exit(e){this.exit(e)}function enterCell(e){this.enter({type:"tableCell",children:[]},e)}function exitCodeText(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,replace));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function replace(e,t){return t==="|"?t:e}function gfmTableToMarkdown(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:s,tableCell:l,tableRow:o}};function s(m,d,b,C){return u(c(m,b,C),m.align)}function o(m,d,b,C){const y=f(m,b,C),x=u([y]);return x.slice(0,x.indexOf(`
`))}function l(m,d,b,C){const y=b.enter("tableCell"),x=b.enter("phrasing"),g=b.containerPhrasing(m,{...C,before:a,after:a});return x(),y(),g}function u(m,d){return markdownTable(m,{align:d,alignDelimiters:n,padding:r,stringLength:i})}function c(m,d,b){const C=m.children;let y=-1;const x=[],g=d.enter("table");for(;++y<C.length;)x[y]=f(C[y],d,b);return g(),x}function f(m,d,b){const C=m.children;let y=-1;const x=[],g=d.enter("tableRow");for(;++y<C.length;)x[y]=l(C[y],m,d,b);return g(),x}function p(m,d,b){let C=handle.inlineCode(m,d,b);return b.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function listItemWithTaskListItem(e,t,r,n){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);a&&o.move(s);let l=handle.listItem(e,t,r,{...n,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+s}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(e){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(e),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(e),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink,text[45]=emailAutolink,text[46]=emailAutolink,text[95]=emailAutolink,text[72]=[emailAutolink,protocolAutolink],text[104]=[emailAutolink,protocolAutolink],text[87]=[emailAutolink,wwwAutolink],text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(e,t,r){const n=this;let i,a;return s;function s(f){return!gfmAtext(f)||!previousEmail.call(n,n.previous)||previousUnbalanced(n.events)?r(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return gfmAtext(f)?(e.consume(f),o):f===64?(e.consume(f),l):r(f)}function l(f){return f===46?e.check(emailDomainDotTrail,c,u)(f):f===45||f===95||asciiAlphanumeric(f)?(a=!0,e.consume(f),l):c(f)}function u(f){return e.consume(f),i=!0,l}function c(f){return a&&i&&asciiAlpha(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):r(f)}}function tokenizeWwwAutolink(e,t,r){const n=this;return i;function i(s){return s!==87&&s!==119||!previousWww.call(n,n.previous)||previousUnbalanced(n.events)?r(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wwwPrefix,e.attempt(domain,e.attempt(path,a),r),r)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function tokenizeProtocolAutolink(e,t,r){const n=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&previousProtocol.call(n,n.previous)&&!previousUnbalanced(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):r(f)}function o(f){if(asciiAlpha(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return r(f)}function l(f){return f===47?(e.consume(f),a?u:(a=!0,l)):r(f)}function u(f){return f===null||asciiControl(f)||markdownLineEndingOrSpace(f)||unicodeWhitespace(f)||unicodePunctuation(f)?r(f):e.attempt(domain,e.attempt(path,c),r)(f)}function c(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function tokenizeWwwPrefix(e,t,r){let n=0;return i;function i(s){return(s===87||s===119)&&n<3?(n++,e.consume(s),i):s===46&&n===3?(e.consume(s),a):r(s)}function a(s){return s===null?r(s):t(s)}}function tokenizeDomain(e,t,r){let n,i,a;return s;function s(u){return u===46||u===95?e.check(trail,l,o)(u):u===null||markdownLineEndingOrSpace(u)||unicodeWhitespace(u)||u!==45&&unicodePunctuation(u)?l(u):(a=!0,e.consume(u),s)}function o(u){return u===95?n=!0:(i=n,n=void 0),e.consume(u),s}function l(u){return i||n||!a?r(u):t(u)}}function tokenizePath(e,t){let r=0,n=0;return i;function i(s){return s===40?(r++,e.consume(s),i):s===41&&n<r?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(trail,t,a)(s):s===null||markdownLineEndingOrSpace(s)||unicodeWhitespace(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&n++,e.consume(s),i}}function tokenizeTrail(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||markdownLineEndingOrSpace(o)||unicodeWhitespace(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||markdownLineEndingOrSpace(o)||unicodeWhitespace(o)?t(o):n(o)}function a(o){return asciiAlpha(o)?s(o):r(o)}function s(o){return o===59?(e.consume(o),n):asciiAlpha(o)?(e.consume(o),s):r(o)}}function tokenizeEmailDomainDotTrail(e,t,r){return n;function n(a){return e.consume(a),i}function i(a){return asciiAlphanumeric(a)?r(a):t(a)}}function previousWww(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||markdownLineEndingOrSpace(e)}function previousProtocol(e){return!asciiAlpha(e)}function previousEmail(e){return!(e===47||gfmAtext(e))}function gfmAtext(e){return e===43||e===45||e===46||e===95||asciiAlphanumeric(e)}function previousUnbalanced(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(e,t,r){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return r(l);const u=normalizeIdentifier(n.sliceSerialize({start:s.end,end:n.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function resolveToPotentialGfmFootnoteCall(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function tokenizeGfmFootnoteCall(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?r(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!s||f===null||f===91||markdownLineEndingOrSpace(f))return r(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(normalizeIdentifier(n.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(f)}return markdownLineEndingOrSpace(f)||(s=!0),a++,e.consume(f),f===92?c:u}function c(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function tokenizeDefinitionStart(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(d){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(d),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(d){return d===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(d),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):r(d)}function c(d){if(s>999||d===93&&!o||d===null||d===91||markdownLineEndingOrSpace(d))return r(d);if(d===93){e.exit("chunkString");const b=e.exit("gfmFootnoteDefinitionLabelString");return a=normalizeIdentifier(n.sliceSerialize(b)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(d),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return markdownLineEndingOrSpace(d)||(o=!0),s++,e.consume(d),d===92?f:c}function f(d){return d===91||d===92||d===93?(e.consume(d),s++,c):c(d)}function p(d){return d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),i.includes(a)||i.push(a),factorySpace(e,m,"gfmFootnoteDefinitionWhitespace")):r(d)}function m(d){return t(d)}}function tokenizeDefinitionContinuation(e,t,r){return e.check(blankLine,t,e.attempt(indent,t,r))}function gfmFootnoteDefinitionEnd(e){e.exit("gfmFootnoteDefinition")}function tokenizeIndent(e,t,r){const n=this;return factorySpace(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):r(a)}}function gfmStrikethrough(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},p=[["enter",c,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&splice(p,p.length,0,resolveAll(m,s.slice(u+1,l),o)),splice(p,p.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",c,o]]),splice(s,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,c=this.events;let f=0;return p;function p(d){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(d):(s.enter("strikethroughSequenceTemporary"),m(d))}function m(d){const b=classifyCharacter(u);if(d===126)return f>1?l(d):(s.consume(d),f++,m);if(f<2&&!r)return l(d);const C=s.exit("strikethroughSequenceTemporary"),y=classifyCharacter(d);return C._open=!y||y===2&&!!b,C._close=!b||b===2&&!!y,o(d)}}}class EditMap{constructor(){this.map=[]}add(t,r,n){addImplementation(this,t,r,n)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const a of i)t.push(a);i=n.pop()}this.map.length=0}}function addImplementation(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function gfmTableAlign(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(e,t,r){const n=this;let i=0,a=0,s;return o;function o(O){let N=n.events.length-1;for(;N>-1;){const G=n.events[N][1].type;if(G==="lineEnding"||G==="linePrefix")N--;else break}const V=N>-1?n.events[N][1].type:null,H=V==="tableHead"||V==="tableRow"?E:l;return H===E&&n.parser.lazy[n.now().line]?r(O):H(O)}function l(O){return e.enter("tableHead"),e.enter("tableRow"),u(O)}function u(O){return O===124||(s=!0,a+=1),c(O)}function c(O){return O===null?r(O):markdownLineEnding(O)?a>1?(a=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),m):r(O):markdownSpace(O)?factorySpace(e,c,"whitespace")(O):(a+=1,s&&(s=!1,i+=1),O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),s=!0,c):(e.enter("data"),f(O)))}function f(O){return O===null||O===124||markdownLineEndingOrSpace(O)?(e.exit("data"),c(O)):(e.consume(O),O===92?p:f)}function p(O){return O===92||O===124?(e.consume(O),f):f(O)}function m(O){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(O):(e.enter("tableDelimiterRow"),s=!1,markdownSpace(O)?factorySpace(e,d,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):d(O))}function d(O){return O===45||O===58?C(O):O===124?(s=!0,e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),b):_(O)}function b(O){return markdownSpace(O)?factorySpace(e,C,"whitespace")(O):C(O)}function C(O){return O===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),y):O===45?(a+=1,y(O)):O===null||markdownLineEnding(O)?k(O):_(O)}function y(O){return O===45?(e.enter("tableDelimiterFiller"),x(O)):_(O)}function x(O){return O===45?(e.consume(O),x):O===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),g):(e.exit("tableDelimiterFiller"),g(O))}function g(O){return markdownSpace(O)?factorySpace(e,k,"whitespace")(O):k(O)}function k(O){return O===124?d(O):O===null||markdownLineEnding(O)?!s||i!==a?_(O):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(O)):_(O)}function _(O){return r(O)}function E(O){return e.enter("tableRow"),I(O)}function I(O){return O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),I):O===null||markdownLineEnding(O)?(e.exit("tableRow"),t(O)):markdownSpace(O)?factorySpace(e,I,"whitespace")(O):(e.enter("data"),F(O))}function F(O){return O===null||O===124||markdownLineEndingOrSpace(O)?(e.exit("data"),I(O)):(e.consume(O),O===92?z:F)}function z(O){return O===92||O===124?(e.consume(O),F):F(O)}}function resolveTable(e,t){let r=-1,n=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,c,f;const p=new EditMap;for(;++r<e.length;){const m=e[r],d=m[1];m[0]==="enter"?d.type==="tableHead"?(o=!1,l!==0&&(flushTableEnd(p,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},d.start),end:Object.assign({},d.end)},p.add(r,0,[["enter",u,t]])):d.type==="tableRow"||d.type==="tableDelimiterRow"?(n=!0,f=void 0,a=[0,0,0,0],s=[0,r+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},d.start),end:Object.assign({},d.end)},p.add(r,0,[["enter",c,t]])),i=d.type==="tableDelimiterRow"?2:c?3:1):i&&(d.type==="data"||d.type==="tableDelimiterMarker"||d.type==="tableDelimiterFiller")?(n=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=flushCell(p,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=r)):d.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(s[0]=s[1],f=flushCell(p,t,a,i,void 0,f)),a=s,s=[a[1],r,0,0])):d.type==="tableHead"?(o=!0,l=r):d.type==="tableRow"||d.type==="tableDelimiterRow"?(l=r,a[1]!==0?(s[0]=s[1],f=flushCell(p,t,a,i,r,f)):s[1]!==0&&(f=flushCell(p,t,s,i,r,f)),i=0):i&&(d.type==="data"||d.type==="tableDelimiterMarker"||d.type==="tableDelimiterFiller")&&(s[3]=r)}for(l!==0&&flushTableEnd(p,t,l,u,c),p.consume(t.events),r=-1;++r<t.events.length;){const m=t.events[r];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=gfmTableAlign(t.events,r))}return e}function flushCell(e,t,r,n,i,a){const s=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(a.end=Object.assign({},getPoint(t.events,r[0])),e.add(r[0],0,[["exit",a,t]]));const l=getPoint(t.events,r[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",a,t]]),r[2]!==0){const u=getPoint(t.events,r[2]),c=getPoint(t.events,r[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(r[2],0,[["enter",f,t]]),n!==2){const p=t.events[r[2]],m=t.events[r[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const d=r[2]+1,b=r[3]-r[2]-1;e.add(d,b,[])}}e.add(r[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},getPoint(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function flushTableEnd(e,t,r,n,i){const a=[],s=getPoint(t.events,r);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),n.end=Object.assign({},s),a.push(["exit",n,t]),e.add(r+1,0,a)}function getPoint(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return markdownLineEndingOrSpace(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):r(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(l)}function o(l){return markdownLineEnding(l)?t(l):markdownSpace(l)?e.check({tokenize:spaceThenNonSpace},t,r)(l):r(l)}}function spaceThenNonSpace(e,t,r){return factorySpace(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function gfm(e){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(e),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(e){const t=this,r=e||emptyOptions,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(gfm(r)),a.push(gfmFromMarkdown()),s.push(gfmToMarkdown(r))}const ErrorBoundaryContext=React.createContext(null),initialState={didCatch:!1,error:null};class ErrorBoundary extends React.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var r,n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];(r=(n=this.props).onReset)===null||r===void 0||r.call(n,{args:a,reason:"imperative-api"}),this.setState(initialState)}}componentDidCatch(t,r){var n,i;(n=(i=this.props).onError)===null||n===void 0||n.call(i,t,r)}componentDidUpdate(t,r){const{didCatch:n}=this.state,{resetKeys:i}=this.props;if(n&&r.error!==null&&hasArrayChanged(t.resetKeys,i)){var a,s;(a=(s=this.props).onReset)===null||a===void 0||a.call(s,{next:i,prev:t.resetKeys,reason:"keys"}),this.setState(initialState)}}render(){const{children:t,fallbackRender:r,FallbackComponent:n,fallback:i}=this.props,{didCatch:a,error:s}=this.state;let o=t;if(a){const l={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")o=r(l);else if(n)o=React.createElement(n,l);else if(i!==void 0)o=i;else throw s}return React.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:a,error:s,resetErrorBoundary:this.resetErrorBoundary}},o)}}function hasArrayChanged(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((r,n)=>!Object.is(r,t[n]))}var INFINITY$1=1/0,symbolTag$1="[object Symbol]",reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange$1="\\u20d0-\\u20f0",rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange$1="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos="['’]",rsAstral$1="["+rsAstralRange$1+"]",rsBreak="["+rsBreakRange+"]",rsCombo$1="["+rsComboMarksRange$1+rsComboSymbolsRange$1+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange$1+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$1+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$1+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ$1="\\u200d",rsLowerMisc="(?:"+rsLower+"|"+rsMisc+")",rsUpperMisc="(?:"+rsUpper+"|"+rsMisc+")",rsOptLowerContr="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptUpperContr="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$1+"]?",rsOptJoin$1="(?:"+rsZWJ$1+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsEmoji="(?:"+[rsDingbat,rsRegional$1,rsSurrPair$1].join("|")+")"+rsSeq$1,rsSymbol$1="(?:"+[rsNonAstral$1+rsCombo$1+"?",rsCombo$1,rsRegional$1,rsSurrPair$1,rsAstral$1].join("|")+")",reApos=RegExp(rsApos,"g"),reComboMark=RegExp(rsCombo$1,"g"),reUnicode$1=RegExp(rsFitz$1+"(?="+rsFitz$1+")|"+rsSymbol$1+rsSeq$1,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptLowerContr+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsUpperMisc+"+"+rsOptUpperContr+"(?="+[rsBreak,rsUpper+rsLowerMisc,"$"].join("|")+")",rsUpper+"?"+rsLowerMisc+"+"+rsOptLowerContr,rsUpper+"+"+rsOptUpperContr,rsDigits,rsEmoji].join("|"),"g"),reHasUnicode$1=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboMarksRange$1+rsComboSymbolsRange$1+rsVarRange$1+"]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,deburredLetters={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal$1||freeSelf$1||Function("return this")();function arrayReduce(e,t,r,n){var i=-1,a=e?e.length:0;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function asciiToArray$1(e){return e.split("")}function asciiWords(e){return e.match(reAsciiWord)||[]}function basePropertyOf(e){return function(t){return e==null?void 0:e[t]}}var deburrLetter=basePropertyOf(deburredLetters);function hasUnicode$1(e){return reHasUnicode$1.test(e)}function hasUnicodeWord(e){return reHasUnicodeWord.test(e)}function stringToArray$1(e){return hasUnicode$1(e)?unicodeToArray$1(e):asciiToArray$1(e)}function unicodeToArray$1(e){return e.match(reUnicode$1)||[]}function unicodeWords(e){return e.match(reUnicodeWord)||[]}var objectProto$1=Object.prototype,objectToString$1=objectProto$1.toString,Symbol$2=root$1.Symbol,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString$1=symbolProto$1?symbolProto$1.toString:void 0;function baseSlice$1(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}function baseToString$1(e){if(typeof e=="string")return e;if(isSymbol$1(e))return symbolToString$1?symbolToString$1.call(e):"";var t=e+"";return t=="0"&&1/e==-INFINITY$1?"-0":t}function castSlice$1(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:baseSlice$1(e,t,r)}function createCaseFirst$1(e){return function(t){t=toString$1(t);var r=hasUnicode$1(t)?stringToArray$1(t):void 0,n=r?r[0]:t.charAt(0),i=r?castSlice$1(r,1).join(""):t.slice(1);return n[e]()+i}}function createCompounder(e){return function(t){return arrayReduce(words(deburr(t).replace(reApos,"")),e,"")}}function isObjectLike$1(e){return!!e&&typeof e=="object"}function isSymbol$1(e){return typeof e=="symbol"||isObjectLike$1(e)&&objectToString$1.call(e)==symbolTag$1}function toString$1(e){return e==null?"":baseToString$1(e)}var camelCase=createCompounder(function(e,t,r){return t=t.toLowerCase(),e+(r?capitalize(t):t)});function capitalize(e){return upperFirst$2(toString$1(e).toLowerCase())}function deburr(e){return e=toString$1(e),e&&e.replace(reLatin,deburrLetter).replace(reComboMark,"")}var upperFirst$2=createCaseFirst$1("toUpperCase");function words(e,t,r){return e=toString$1(e),t=r?void 0:t,t===void 0?hasUnicodeWord(e)?unicodeWords(e):asciiWords(e):e.match(t)||[]}var lodash_camelcase=camelCase;const camelcase=getDefaultExportFromCjs(lodash_camelcase);var INFINITY=1/0,symbolTag="[object Symbol]",rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]"),freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function asciiToArray(e){return e.split("")}function hasUnicode(e){return reHasUnicode.test(e)}function stringToArray(e){return hasUnicode(e)?unicodeToArray(e):asciiToArray(e)}function unicodeToArray(e){return e.match(reUnicode)||[]}var objectProto=Object.prototype,objectToString=objectProto.toString,Symbol$1=root.Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseSlice(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}function baseToString(e){if(typeof e=="string")return e;if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return t=="0"&&1/e==-INFINITY?"-0":t}function castSlice(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:baseSlice(e,t,r)}function createCaseFirst(e){return function(t){t=toString(t);var r=hasUnicode(t)?stringToArray(t):void 0,n=r?r[0]:t.charAt(0),i=r?castSlice(r,1).join(""):t.slice(1);return n[e]()+i}}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toString(e){return e==null?"":baseToString(e)}var upperFirst=createCaseFirst("toUpperCase"),lodash_upperfirst=upperFirst;const upperFirst$1=getDefaultExportFromCjs(lodash_upperfirst);(function(e){typeof globalThis!="object"&&(this?t():(e.defineProperty(e.prototype,"_T_",{configurable:!0,get:t}),_T_));function t(){var r=this||self;r.globalThis=r,delete e.prototype._T_}})(Object);const defaultSkip$1=(e,t)=>t.skipDedupe||t.method!=="GET",defaultKey$1=(e,t)=>t.method+"@"+e,defaultResolver=e=>e.clone(),dedupe=({skip:e=defaultSkip$1,key:t=defaultKey$1,resolver:r=defaultResolver}={})=>{const n=new Map;return i=>(a,s)=>{if(e(a,s))return i(a,s);const o=t(a,s);if(!n.has(o))n.set(o,[]);else return new Promise((l,u)=>{n.get(o).push([l,u])});try{return i(a,s).then(l=>(n.get(o).forEach(([u])=>u(r(l))),n.delete(o),l)).catch(l=>{throw n.get(o).forEach(([,u])=>u(l)),n.delete(o),l})}catch(l){return n.delete(o),Promise.reject(l)}}},defaultSkip=(e,t)=>t.skipCache||t.method!=="GET",defaultKey=(e,t)=>t.method+"@"+e,defaultClear=()=>!1,defaultInvalidate=()=>null,defaultCondition=e=>e.ok,throttlingCache=({throttle:e=1e3,skip:t=defaultSkip,key:r=defaultKey,clear:n=defaultClear,invalidate:i=defaultInvalidate,condition:a=defaultCondition,flagResponseOnCacheHit:s="__cached"}={})=>{const o=new Map,l=new Map,u=new Set,c=p=>{e&&!u.has(p)&&(u.add(p),setTimeout(()=>{u.delete(p)},e))},f=p=>(m,d)=>{const b=r(m,d);let C=i(m,d);if(C&&(C instanceof Array||(C=[C]),C.forEach(y=>{typeof y=="string"?o.delete(y):y instanceof RegExp&&o.forEach((x,g)=>{y.test(g)&&o.delete(g)})})),n(m,d)&&o.clear(),t(m,d))return p(m,d);if(u.has(b)){if(o.has(b)){const y=o.get(b).clone();return s&&Object.defineProperty(y,s,{value:b,enumerable:!1}),Promise.resolve(y)}else if(l.has(b))return new Promise((y,x)=>{l.get(b).push([y,x])})}return l.has(b)||l.set(b,[]),c(b),p(m,d).then(y=>(a(y.clone())&&o.set(b,y.clone()),l.get(b).forEach(([x])=>x(y.clone())),l.delete(b),y)).catch(y=>{throw l.get(b).forEach(([,x])=>x(y)),l.delete(b),y})};return f.cacheResponse=function(p,m){c(p),o.set(p,m)},f.cache=o,f.inflight=l,f.throttling=u,f},defaultDelayRamp=(e,t)=>e*t,defaultUntil=e=>e&&e.ok,retry=({delayTimer:e=500,delayRamp:t=defaultDelayRamp,maxAttempts:r=10,until:n=defaultUntil,onRetry:i=null,retryOnNetworkError:a=!1,resolveWithLatestResponse:s=!1,skip:o}={})=>l=>(u,c)=>{let f=0;if(o&&o(u,c))return l(u,c);const p=(m,d)=>Promise.resolve(n(m,d)).then(b=>b?m&&s?m:d?Promise.reject(d):m:(f++,!r||f<=r?new Promise(C=>{const y=t(e,f);setTimeout(()=>{typeof i=="function"?Promise.resolve(i({response:m,error:d,url:u,options:c})).then((x={})=>{var g,k;C(l((g=x&&x.url)!==null&&g!==void 0?g:u,(k=x&&x.options)!==null&&k!==void 0?k:c))}):C(l(u,c))},y)}).then(p).catch(C=>{if(!a)throw C;return p(null,C)}):m&&s?m:Promise.reject(d||new Error("Number of attempts exceeded."))));return l(u,c).then(p).catch(m=>{if(!a)throw m;return p(null,m)})};factory().middlewares([dedupe(),retry({delayRamp:(e,t)=>e*t,delayTimer:100,maxAttempts:3,resolveWithLatestResponse:!1}),throttlingCache({key:(e,t)=>t.headers["X-Cache-Key"],throttle:1e3*60*60*24*365})]),factory().middlewares([dedupe(),retry({delayRamp:(e,t)=>e*t,delayTimer:100,maxAttempts:3,resolveWithLatestResponse:!1})]);const loadUmdBundle=async({bundleLoader:e,bundleUrl:t,cxComponentName:r,dependenciesMap:n,...i},a)=>{try{return await e({bundleUrl:t,cxComponentName:r,dependenciesMap:n,...i})}catch(s){throw a&&a(),s}},bundleLoaderClient=async({bundleUrl:e,cxComponentName:t,dependenciesMap:r})=>{const n=document.createElement("script");n.src=e;const i=new Promise((a,s)=>{n.addEventListener("load",()=>{a(window.cxComponentExports[t])}),n.addEventListener("error",o=>{document.head.contains(n)&&document.head.removeChild(n),s(o.error)})});return window.cxComponentDeps={...window.cxComponentDeps,...r},document.head.appendChild(n),i},loadUmdBundleClientWithCache=e=>loadUmdBundle({bundleLoader:bundleLoaderClient,bundleUrl:e.bundleUrl,cxComponentName:e.cxComponentName,dependenciesMap:e.dependenciesMap,isSnapshot:e.isSnapshot}),loadCxComponentClient=async(e,{contractVersion:t,name:r},{dependenciesMap:n={},insertCss:i=!0}={})=>{const a=upperFirst$1(camelcase(r)),s=`${e}/modules/${r}/${a}-${t}-umd.js`,o=`${e}/modules/${r}/${a}-${t}-style.css`,u=window[`cxComponent${a}Config`]??{cssBundle:o,dehydratedState:void 0,umdBundle:s},c=await loadUmdBundleClientWithCache({baseCacheKey:`${a}-${t}-${e}`,bundleUrl:u.umdBundle,cxComponentName:a,dependenciesMap:n,isSnapshot:isSnapshotVersion(t)});if(!i)return{Component:c,cssBundle:u.cssBundle,dehydratedState:u.dehydratedState};if(u.cssBundle&&!hasStylesheet(u.cssBundle)){const f=document.createElement("link");f.rel="stylesheet",f.href=o,document.head.appendChild(f)}return{Component:c,cssBundle:u.cssBundle,dehydratedState:u.dehydratedState}},hasStylesheet=e=>!!document.querySelector(`link[rel="stylesheet"][href="${e}"]`),isSnapshotVersion=e=>e.startsWith("0.0.0"),loadDependencyClient=async(e,t,r)=>await loadCxComponentClient(e,t,{dependenciesMap:{"@tanstack/react-query":ReactQuery__namespace,react:React,"react/jsx-dev-runtime":JsxDevRuntime,"react/jsx-runtime":JsxRuntime},...r}),THEME="whoscored",Betbuilder=e=>{const{betIds:t,eventId:r,subeventId:n}=e;if(!t||!n||!r)throw t||console.error("Missing bet ids"),r||console.error("Missing event id"),n||console.error("Missing subevent id"),typeof window<"u"&&!(window!=null&&window.teammateConfig)&&console.error("Missing teammate config"),new Error;const{betbuilderProps:i,expandChatWindow:a,localisations:s}=React.useContext(AiChatbotContext),o=React.useMemo(()=>React.lazy(async()=>{const{Component:l,cssBundle:u}=await loadDependencyClient("https://cx-resources.oddschecker.com",{contractVersion:"2.0.8",name:"bet-builder"});if(u&&typeof window<"u"){const c=document.querySelector("oc-ai-chatbot-widget");if(c){const f=document.createElement("link");f.rel="stylesheet",f.href=u;const p=c.shadowRoot;p&&p.appendChild(f)}}return{default:l}}),[]);return JsxRuntime.jsx(ErrorBoundary,{fallback:JsxRuntime.jsx(Message,{isChatWindowExpanded:a,message:{role:"model",text:getLocalisations(s)("unknown_error_msg"),timestamp:Date.now()}}),children:JsxRuntime.jsx(React.Suspense,{fallback:"Loading...",children:JsxRuntime.jsx(o,{...i,dehydratedState:{},eventId:r,initialBetIds:t,initialSubeventId:n,theme:THEME})})})},messageRow="_messageRow_17q4z_8",message$1="_message_17q4z_8",message_user="_message_user_17q4z_13",message_user_expanded="_message_user_expanded_17q4z_13",message_model="_message_model_17q4z_13",message_model_expanded="_message_model_expanded_17q4z_13",markdown="_markdown_17q4z_40",table="_table_17q4z_63",ul="_ul_17q4z_85",betBuilder="_betBuilder_17q4z_93",styles$7={messageRow,message:message$1,message_user,message_user_expanded,message_model,message_model_expanded,markdown,table,ul,betBuilder},Message=e=>{var i,a,s;const{isChatWindowExpanded:t,message:r}=e;let n;switch(r==null?void 0:r.name){case"bet_builder":n=JsxRuntime.jsx("div",{className:styles$7.betBuilder,children:JsxRuntime.jsx(React.Suspense,{fallback:"Betbuilder loading...",children:JsxRuntime.jsx(Betbuilder,{betIds:(i=r.data)==null?void 0:i.bet_ids,eventId:(a=r.data)==null?void 0:a.event_id,subeventId:(s=r.data)==null?void 0:s.subevent_id})})});break;default:n=JsxRuntime.jsx("div",{className:r.role==="model"?t?styles$7.message_model_expanded:styles$7.message_model:t?styles$7.message_user_expanded:styles$7.message_user,children:JsxRuntime.jsx("div",{className:styles$7.markdown,children:JsxRuntime.jsx(Markdown,{components:{a(o){return JsxRuntime.jsx("a",{target:"_blank",...o})},table(o){return JsxRuntime.jsx("div",{className:styles$7.table,children:JsxRuntime.jsx("table",{...o})})},ul(o){return JsxRuntime.jsx("ul",{className:styles$7.ul,...o})}},remarkPlugins:[remarkGfm],children:e.message.text})})});break}return JsxRuntime.jsx("div",{className:styles$7.messageRow,children:n})},signInMessage="_signInMessage_1q2mt_1",signUp$1="_signUp_1q2mt_9",logIn="_logIn_1q2mt_18",styles$6={signInMessage,signUp:signUp$1,logIn},SignInMessage=()=>JsxRuntime.jsxs("div",{className:styles$6.signInMessage,children:[JsxRuntime.jsx("span",{children:"You've reached your message limit. Sign Up to keep chatting without limits!"}),JsxRuntime.jsx("a",{className:styles$6.signUp,href:"/accounts/register",onClick:()=>trackEvent("chatbot_sign_up"),children:"SIGN UP"}),JsxRuntime.jsx("span",{children:"Already have an account?"})," ",JsxRuntime.jsx("a",{className:styles$6.logIn,href:"/accounts/login",onClick:()=>trackEvent("chatbot_login"),children:"Log In"})]});var lottie$1={exports:{}};(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(e,t){module.exports=t()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,n=e.length,i;for(r=0;r<n;r+=1){i=e[r].prototype;for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t.prototype[a]=i[a])}}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(r){this.audios.push(r)},pause:function(){var r,n=this.audios.length;for(r=0;r<n;r+=1)this.audios[r].pause()},resume:function(){var r,n=this.audios.length;for(r=0;r<n;r+=1)this.audios[r].resume()},setRate:function(r){var n,i=this.audios.length;for(n=0;n<i;n+=1)this.audios[n].setRate(r)},createAudio:function(r){return this.audioFactory?this.audioFactory(r):window.Howl?new window.Howl({src:[r]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(r){this.audioFactory=r},setVolume:function(r){this._volume=r,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var r,n=this.audios.length;for(r=0;r<n;r+=1)this.audios[r].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(r,n){var i=0,a=[],s;switch(r){case"int16":case"uint8c":s=1;break;default:s=1.1;break}for(i=0;i<n;i+=1)a.push(s);return a}function t(r,n){return r==="float32"?new Float32Array(n):r==="int16"?new Int16Array(n):r==="uint8c"?new Uint8ClampedArray(n):e(r,n)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?t:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],t,r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]})(),BMMath.random=Math.random,BMMath.abs=function(e){var t=_typeof$6(e);if(t==="object"&&e.length){var r=createSizedArray(e.length),n,i=e.length;for(n=0;n<i;n+=1)r[n]=Math.abs(e[n]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,n){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,n){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=n<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=function(){var e=0;return function(){return e+=1,idPrefix$1+"__lottie_element_"+e}}();function HSVtoRGB(e,t,r){var n,i,a,s,o,l,u,c;switch(s=Math.floor(e*6),o=e*6-s,l=r*(1-t),u=r*(1-o*t),c=r*(1-(1-o)*t),s%6){case 0:n=r,i=c,a=l;break;case 1:n=u,i=r,a=l;break;case 2:n=l,i=r,a=c;break;case 3:n=l,i=u,a=r;break;case 4:n=c,i=l,a=r;break;case 5:n=r,i=l,a=u;break}return[n,i,a]}function RGBtoHSV(e,t,r){var n=Math.max(e,t,r),i=Math.min(e,t,r),a=n-i,s,o=n===0?0:a/n,l=n/255;switch(n){case i:s=0;break;case e:s=t-r+a*(t<r?6:0),s/=6*a;break;case t:s=r-e+a*2,s/=6*a;break;case r:s=e-t+a*4,s/=6*a;break}return[s,o,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e=[],t,r;for(t=0;t<256;t+=1)r=t.toString(16),e[t]=r.length===1?"0"+r:r;return function(n,i,a){return n<0&&(n=0),i<0&&(i=0),a<0&&(a=0),"#"+e[n]+e[i]+e[a]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(e)}var dataManager=function(){var e=1,t=[],r,n,i={onmessage:function(){},postMessage:function(m){r({data:m})}},a={postMessage:function(m){i.onmessage({data:m})}};function s(p){if(window.Worker&&window.Blob&&getWebWorker()){var m=new Blob(["var _workerSelf = self; self.onmessage = ",p.toString()],{type:"text/javascript"}),d=URL.createObjectURL(m);return new Worker(d)}return r=p,i}function o(){n||(n=s(function(m){function d(){function C(B,T){var R,S,P=B.length,A,D,j,L;for(S=0;S<P;S+=1)if(R=B[S],"ks"in R&&!R.completed){if(R.completed=!0,R.hasMask){var W=R.masksProperties;for(D=W.length,A=0;A<D;A+=1)if(W[A].pt.k.i)_(W[A].pt.k);else for(L=W[A].pt.k.length,j=0;j<L;j+=1)W[A].pt.k[j].s&&_(W[A].pt.k[j].s[0]),W[A].pt.k[j].e&&_(W[A].pt.k[j].e[0])}R.ty===0?(R.layers=g(R.refId,T),C(R.layers,T)):R.ty===4?k(R.shapes):R.ty===5&&H(R)}}function y(B,T){if(B){var R=0,S=B.length;for(R=0;R<S;R+=1)B[R].t===1&&(B[R].data.layers=g(B[R].data.refId,T),C(B[R].data.layers,T))}}function x(B,T){for(var R=0,S=T.length;R<S;){if(T[R].id===B)return T[R];R+=1}return null}function g(B,T){var R=x(B,T);return R?R.layers.__used?JSON.parse(JSON.stringify(R.layers)):(R.layers.__used=!0,R.layers):null}function k(B){var T,R=B.length,S,P;for(T=R-1;T>=0;T-=1)if(B[T].ty==="sh")if(B[T].ks.k.i)_(B[T].ks.k);else for(P=B[T].ks.k.length,S=0;S<P;S+=1)B[T].ks.k[S].s&&_(B[T].ks.k[S].s[0]),B[T].ks.k[S].e&&_(B[T].ks.k[S].e[0]);else B[T].ty==="gr"&&k(B[T].it)}function _(B){var T,R=B.i.length;for(T=0;T<R;T+=1)B.i[T][0]+=B.v[T][0],B.i[T][1]+=B.v[T][1],B.o[T][0]+=B.v[T][0],B.o[T][1]+=B.v[T][1]}function E(B,T){var R=T?T.split("."):[100,100,100];return B[0]>R[0]?!0:R[0]>B[0]?!1:B[1]>R[1]?!0:R[1]>B[1]?!1:B[2]>R[2]?!0:R[2]>B[2]?!1:null}var I=function(){var B=[4,4,14];function T(S){var P=S.t.d;S.t.d={k:[{s:P,t:0}]}}function R(S){var P,A=S.length;for(P=0;P<A;P+=1)S[P].ty===5&&T(S[P])}return function(S){if(E(B,S.v)&&(R(S.layers),S.assets)){var P,A=S.assets.length;for(P=0;P<A;P+=1)S.assets[P].layers&&R(S.assets[P].layers)}}}(),F=function(){var B=[4,7,99];return function(T){if(T.chars&&!E(B,T.v)){var R,S=T.chars.length;for(R=0;R<S;R+=1){var P=T.chars[R];P.data&&P.data.shapes&&(k(P.data.shapes),P.data.ip=0,P.data.op=99999,P.data.st=0,P.data.sr=1,P.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},T.chars[R].t||(P.data.shapes.push({ty:"no"}),P.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),z=function(){var B=[5,7,15];function T(S){var P=S.t.p;typeof P.a=="number"&&(P.a={a:0,k:P.a}),typeof P.p=="number"&&(P.p={a:0,k:P.p}),typeof P.r=="number"&&(P.r={a:0,k:P.r})}function R(S){var P,A=S.length;for(P=0;P<A;P+=1)S[P].ty===5&&T(S[P])}return function(S){if(E(B,S.v)&&(R(S.layers),S.assets)){var P,A=S.assets.length;for(P=0;P<A;P+=1)S.assets[P].layers&&R(S.assets[P].layers)}}}(),O=function(){var B=[4,1,9];function T(S){var P,A=S.length,D,j;for(P=0;P<A;P+=1)if(S[P].ty==="gr")T(S[P].it);else if(S[P].ty==="fl"||S[P].ty==="st")if(S[P].c.k&&S[P].c.k[0].i)for(j=S[P].c.k.length,D=0;D<j;D+=1)S[P].c.k[D].s&&(S[P].c.k[D].s[0]/=255,S[P].c.k[D].s[1]/=255,S[P].c.k[D].s[2]/=255,S[P].c.k[D].s[3]/=255),S[P].c.k[D].e&&(S[P].c.k[D].e[0]/=255,S[P].c.k[D].e[1]/=255,S[P].c.k[D].e[2]/=255,S[P].c.k[D].e[3]/=255);else S[P].c.k[0]/=255,S[P].c.k[1]/=255,S[P].c.k[2]/=255,S[P].c.k[3]/=255}function R(S){var P,A=S.length;for(P=0;P<A;P+=1)S[P].ty===4&&T(S[P].shapes)}return function(S){if(E(B,S.v)&&(R(S.layers),S.assets)){var P,A=S.assets.length;for(P=0;P<A;P+=1)S.assets[P].layers&&R(S.assets[P].layers)}}}(),N=function(){var B=[4,4,18];function T(S){var P,A=S.length,D,j;for(P=A-1;P>=0;P-=1)if(S[P].ty==="sh")if(S[P].ks.k.i)S[P].ks.k.c=S[P].closed;else for(j=S[P].ks.k.length,D=0;D<j;D+=1)S[P].ks.k[D].s&&(S[P].ks.k[D].s[0].c=S[P].closed),S[P].ks.k[D].e&&(S[P].ks.k[D].e[0].c=S[P].closed);else S[P].ty==="gr"&&T(S[P].it)}function R(S){var P,A,D=S.length,j,L,W,Y;for(A=0;A<D;A+=1){if(P=S[A],P.hasMask){var q=P.masksProperties;for(L=q.length,j=0;j<L;j+=1)if(q[j].pt.k.i)q[j].pt.k.c=q[j].cl;else for(Y=q[j].pt.k.length,W=0;W<Y;W+=1)q[j].pt.k[W].s&&(q[j].pt.k[W].s[0].c=q[j].cl),q[j].pt.k[W].e&&(q[j].pt.k[W].e[0].c=q[j].cl)}P.ty===4&&T(P.shapes)}}return function(S){if(E(B,S.v)&&(R(S.layers),S.assets)){var P,A=S.assets.length;for(P=0;P<A;P+=1)S.assets[P].layers&&R(S.assets[P].layers)}}}();function V(B){B.__complete||(O(B),I(B),F(B),z(B),N(B),C(B.layers,B.assets),y(B.chars,B.assets),B.__complete=!0)}function H(B){B.t.a.length===0&&"m"in B.t.p}var G={};return G.completeData=V,G.checkColors=O,G.checkChars=F,G.checkPathProperties=z,G.checkShapes=N,G.completeLayers=C,G}if(a.dataManager||(a.dataManager=d()),a.assetLoader||(a.assetLoader=function(){function C(x){var g=x.getResponseHeader("content-type");return g&&x.responseType==="json"&&g.indexOf("json")!==-1||x.response&&_typeof$5(x.response)==="object"?x.response:x.response&&typeof x.response=="string"?JSON.parse(x.response):x.responseText?JSON.parse(x.responseText):null}function y(x,g,k,_){var E,I=new XMLHttpRequest;try{I.responseType="json"}catch{}I.onreadystatechange=function(){if(I.readyState===4)if(I.status===200)E=C(I),k(E);else try{E=C(I),k(E)}catch(F){_&&_(F)}};try{I.open(["G","E","T"].join(""),x,!0)}catch{I.open(["G","E","T"].join(""),g+"/"+x,!0)}I.send()}return{load:y}}()),m.data.type==="loadAnimation")a.assetLoader.load(m.data.path,m.data.fullPath,function(C){a.dataManager.completeData(C),a.postMessage({id:m.data.id,payload:C,status:"success"})},function(){a.postMessage({id:m.data.id,status:"error"})});else if(m.data.type==="complete"){var b=m.data.animation;a.dataManager.completeData(b),a.postMessage({id:m.data.id,payload:b,status:"success"})}else m.data.type==="loadData"&&a.assetLoader.load(m.data.path,m.data.fullPath,function(C){a.postMessage({id:m.data.id,payload:C,status:"success"})},function(){a.postMessage({id:m.data.id,status:"error"})})}),n.onmessage=function(p){var m=p.data,d=m.id,b=t[d];t[d]=null,m.status==="success"?b.onComplete(m.payload):b.onError&&b.onError()})}function l(p,m){e+=1;var d="processId_"+e;return t[d]={onComplete:p,onError:m},d}function u(p,m,d){o();var b=l(m,d);n.postMessage({type:"loadAnimation",path:p,fullPath:window.location.origin+window.location.pathname,id:b})}function c(p,m,d){o();var b=l(m,d);n.postMessage({type:"loadData",path:p,fullPath:window.location.origin+window.location.pathname,id:b})}function f(p,m,d){o();var b=l(m,d);n.postMessage({type:"complete",animation:p,id:b})}return{loadAnimation:u,loadData:c,completeAnimation:f}}(),ImagePreloader=function(){var e=function(){var y=createTag("canvas");y.width=1,y.height=1;var x=y.getContext("2d");return x.fillStyle="rgba(0,0,0,0)",x.fillRect(0,0,1,1),y}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(y,x,g){var k="";if(y.e)k=y.p;else if(x){var _=y.p;_.indexOf("images/")!==-1&&(_=_.split("/")[1]),k=x+_}else k=g,k+=y.u?y.u:"",k+=y.p;return k}function i(y){var x=0,g=setInterval((function(){var k=y.getBBox();(k.width||x>500)&&(this._imageLoaded(),clearInterval(g)),x+=1}).bind(this),50)}function a(y){var x=n(y,this.assetsPath,this.path),g=createNS("image");isSafari?this.testImageLoaded(g):g.addEventListener("load",this._imageLoaded,!1),g.addEventListener("error",(function(){k.img=e,this._imageLoaded()}).bind(this),!1),g.setAttributeNS("http://www.w3.org/1999/xlink","href",x),this._elementHelper.append?this._elementHelper.append(g):this._elementHelper.appendChild(g);var k={img:g,assetData:y};return k}function s(y){var x=n(y,this.assetsPath,this.path),g=createTag("img");g.crossOrigin="anonymous",g.addEventListener("load",this._imageLoaded,!1),g.addEventListener("error",(function(){k.img=e,this._imageLoaded()}).bind(this),!1),g.src=x;var k={img:g,assetData:y};return k}function o(y){var x={assetData:y},g=n(y,this.assetsPath,this.path);return dataManager.loadData(g,(function(k){x.img=k,this._footageLoaded()}).bind(this),(function(){x.img={},this._footageLoaded()}).bind(this)),x}function l(y,x){this.imagesLoadedCb=x;var g,k=y.length;for(g=0;g<k;g+=1)y[g].layers||(!y[g].t||y[g].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(y[g]))):y[g].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(y[g]))))}function u(y){this.path=y||""}function c(y){this.assetsPath=y||""}function f(y){for(var x=0,g=this.images.length;x<g;){if(this.images[x].assetData===y)return this.images[x].img;x+=1}return null}function p(){this.imagesLoadedCb=null,this.images.length=0}function m(){return this.totalImages===this.loadedAssets}function d(){return this.totalFootages===this.loadedFootagesCount}function b(y,x){y==="svg"?(this._elementHelper=x,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function C(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return C.prototype={loadAssets:l,setAssetsPath:c,setPath:u,loadedImages:m,loadedFootages:d,destroy:p,getAsset:f,createImgData:s,createImageData:a,imageLoaded:t,footageLoaded:r,setCacheType:b},C}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,r){if(this._cbs[t])for(var n=this._cbs[t],i=0;i<n.length;i+=1)n[i](r)},addEventListener:function(t,r){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(r),(function(){this.removeEventListener(t,r)}).bind(this)},removeEventListener:function(t,r){if(!r)this._cbs[t]=null;else if(this._cbs[t]){for(var n=0,i=this._cbs[t].length;n<i;)this._cbs[t][n]===r&&(this._cbs[t].splice(n,1),n-=1,i-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}};var markerParser=function(){function e(t){for(var r=t.split(`\r
`),n={},i,a=0,s=0;s<r.length;s+=1)i=r[s].split(":"),i.length===2&&(n[i[0]]=i[1].trim(),a+=1);if(a===0)throw new Error;return n}return function(t){for(var r=[],n=0;n<t.length;n+=1){var i=t[n],a={time:i.tm,duration:i.dr};try{a.payload=JSON.parse(t[n].cm)}catch{try{a.payload=e(t[n].cm)}catch{a.payload={name:t[n].cm}}}r.push(a)}return r}}(),ProjectInterface=function(){function e(t){this.compositions.push(t)}return function(){function t(r){for(var n=0,i=this.compositions.length;n<i;){if(this.compositions[n].data&&this.compositions[n].data.nm===r)return this.compositions[n].prepareFrame&&this.compositions[n].data.xt&&this.compositions[n].prepareFrame(this.currentFrame),this.compositions[n].compInterface;n+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(t,r){renderers[t]=r};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay="autoplay"in e?e.autoplay:!0,this.name=e.name?e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(e,"autoloadSegments")?e.autoloadSegments:!0,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&_typeof$4(t)!=="object"&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},n=e.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var i=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";i==="false"?r.loop=!1:i==="true"?r.loop=!0:i!==""&&(r.loop=parseInt(i,10));var a=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:n.getNamedItem("bm-autoplay")?n.getNamedItem("bm-autoplay").value:!0;r.autoplay=a!=="false",r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"";var s=n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"";s==="false"&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t=this.animationData.layers,r,n=t.length,i=e.layers,a,s=i.length;for(a=0;a<s;a+=1)for(r=0;r<n;){if(t[r].id===i[a].id){t[r]=i[a];break}r+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(n=e.assets.length,r=0;r<n;r+=1)this.animationData.assets.push(e.assets[r]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var e=this.animationData.segments;e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var r=typeof e=="number"?e:void 0,n=typeof t=="number"?t:void 0;this.renderer.updateContainerSize(r,n)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if(t=this.markers[r],t.payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!(r&&this.name!==r)){var n=Number(e);if(isNaN(n)){var i=this.getMarkerData(e);i&&this.goToAndStop(i.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!(r&&this.name!==r)){var n=Number(e);if(isNaN(n)){var i=this.getMarkerData(e);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(n,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!(this.isPaused===!0||this.isLoaded===!1)){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):t<0?this.checkSegments(t%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(r=!0,t=0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),_typeof$4(e[0])==="object"){var r,n=e.length;for(r=0;r<n;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return this.segments.length?(this.adjustSegment(this.segments.shift(),e),!0):!1},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{var n=this.renderer.getElementByPath(e);n.updateDocumentData(t,r)}catch{}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,n=0,i=0,a=!0,s=!1;function o(T){for(var R=0,S=T.target;R<n;)t[R].animation===S&&(t.splice(R,1),R-=1,n-=1,S.isPaused||f()),R+=1}function l(T,R){if(!T)return null;for(var S=0;S<n;){if(t[S].elem===T&&t[S].elem!==null)return t[S].animation;S+=1}var P=new AnimationItem;return p(P,T),P.setData(T,R),P}function u(){var T,R=t.length,S=[];for(T=0;T<R;T+=1)S.push(t[T].animation);return S}function c(){i+=1,O()}function f(){i-=1}function p(T,R){T.addEventListener("destroy",o),T.addEventListener("_active",c),T.addEventListener("_idle",f),t.push({elem:R,animation:T}),n+=1}function m(T){var R=new AnimationItem;return p(R,null),R.setParams(T),R}function d(T,R){var S;for(S=0;S<n;S+=1)t[S].animation.setSpeed(T,R)}function b(T,R){var S;for(S=0;S<n;S+=1)t[S].animation.setDirection(T,R)}function C(T){var R;for(R=0;R<n;R+=1)t[R].animation.play(T)}function y(T){var R=T-r,S;for(S=0;S<n;S+=1)t[S].animation.advanceTime(R);r=T,i&&!s?window.requestAnimationFrame(y):a=!0}function x(T){r=T,window.requestAnimationFrame(y)}function g(T){var R;for(R=0;R<n;R+=1)t[R].animation.pause(T)}function k(T,R,S){var P;for(P=0;P<n;P+=1)t[P].animation.goToAndStop(T,R,S)}function _(T){var R;for(R=0;R<n;R+=1)t[R].animation.stop(T)}function E(T){var R;for(R=0;R<n;R+=1)t[R].animation.togglePause(T)}function I(T){var R;for(R=n-1;R>=0;R-=1)t[R].animation.destroy(T)}function F(T,R,S){var P=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),A,D=P.length;for(A=0;A<D;A+=1)S&&P[A].setAttribute("data-bm-type",S),l(P[A],T);if(R&&D===0){S||(S="svg");var j=document.getElementsByTagName("body")[0];j.innerText="";var L=createTag("div");L.style.width="100%",L.style.height="100%",L.setAttribute("data-bm-type",S),j.appendChild(L),l(L,T)}}function z(){var T;for(T=0;T<n;T+=1)t[T].animation.resize()}function O(){!s&&i&&a&&(window.requestAnimationFrame(x),a=!1)}function N(){s=!0}function V(){s=!1,O()}function H(T,R){var S;for(S=0;S<n;S+=1)t[S].animation.setVolume(T,R)}function G(T){var R;for(R=0;R<n;R+=1)t[R].animation.mute(T)}function B(T){var R;for(R=0;R<n;R+=1)t[R].animation.unmute(T)}return e.registerAnimation=l,e.loadAnimation=m,e.setSpeed=d,e.setDirection=b,e.play=C,e.pause=g,e.stop=_,e.togglePause=E,e.searchAnimations=F,e.resize=z,e.goToAndStop=k,e.destroy=I,e.freeze=N,e.unfreeze=V,e.setVolume=H,e.mute=G,e.unmute=B,e.getRegisteredAnimations=u,e}(),BezierFactory=function(){var e={};e.getBezierEasing=r;var t={};function r(x,g,k,_,E){var I=E||("bez_"+x+"_"+g+"_"+k+"_"+_).replace(/\./g,"p");if(t[I])return t[I];var F=new y([x,g,k,_]);return t[I]=F,F}var n=4,i=.001,a=1e-7,s=10,o=11,l=1/(o-1),u=typeof Float32Array=="function";function c(x,g){return 1-3*g+3*x}function f(x,g){return 3*g-6*x}function p(x){return 3*x}function m(x,g,k){return((c(g,k)*x+f(g,k))*x+p(g))*x}function d(x,g,k){return 3*c(g,k)*x*x+2*f(g,k)*x+p(g)}function b(x,g,k,_,E){var I,F,z=0;do F=g+(k-g)/2,I=m(F,_,E)-x,I>0?k=F:g=F;while(Math.abs(I)>a&&++z<s);return F}function C(x,g,k,_){for(var E=0;E<n;++E){var I=d(g,k,_);if(I===0)return g;var F=m(g,k,_)-x;g-=F/I}return g}function y(x){this._p=x,this._mSampleValues=u?new Float32Array(o):new Array(o),this._precomputed=!1,this.get=this.get.bind(this)}return y.prototype={get:function(g){var k=this._p[0],_=this._p[1],E=this._p[2],I=this._p[3];return this._precomputed||this._precompute(),k===_&&E===I?g:g===0?0:g===1?1:m(this._getTForX(g),_,I)},_precompute:function(){var g=this._p[0],k=this._p[1],_=this._p[2],E=this._p[3];this._precomputed=!0,(g!==k||_!==E)&&this._calcSampleValues()},_calcSampleValues:function(){for(var g=this._p[0],k=this._p[2],_=0;_<o;++_)this._mSampleValues[_]=m(_*l,g,k)},_getTForX:function(g){for(var k=this._p[0],_=this._p[2],E=this._mSampleValues,I=0,F=1,z=o-1;F!==z&&E[F]<=g;++F)I+=l;--F;var O=(g-E[F])/(E[F+1]-E[F]),N=I+O*l,V=d(N,k,_);return V>=i?C(g,N,k,_):V===0?N:b(g,I,I+l,k,_)}},e}(),pooling=function(){function e(t){return t.concat(createSizedArray(t.length))}return{double:e}}(),poolFactory=function(){return function(e,t,r){var n=0,i=e,a=createSizedArray(i),s={newElement:o,release:l};function o(){var u;return n?(n-=1,u=a[n]):u=t(),u}function l(u){n===i&&(a=pooling.double(a),i*=2),r&&r(u),a[n]=u,n+=1}return s}}(),bezierLengthPool=function(){function e(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,e)}(),segmentsLengthPool=function(){function e(){return{lengths:[],totalLength:0}}function t(r){var n,i=r.lengths.length;for(n=0;n<i;n+=1)bezierLengthPool.release(r.lengths[n]);r.lengths.length=0}return poolFactory(8,e,t)}();function bezFunction(){var e=Math;function t(p,m,d,b,C,y){var x=p*b+m*C+d*y-C*b-y*p-d*m;return x>-.001&&x<.001}function r(p,m,d,b,C,y,x,g,k){if(d===0&&y===0&&k===0)return t(p,m,b,C,x,g);var _=e.sqrt(e.pow(b-p,2)+e.pow(C-m,2)+e.pow(y-d,2)),E=e.sqrt(e.pow(x-p,2)+e.pow(g-m,2)+e.pow(k-d,2)),I=e.sqrt(e.pow(x-b,2)+e.pow(g-C,2)+e.pow(k-y,2)),F;return _>E?_>I?F=_-E-I:F=I-E-_:I>E?F=I-E-_:F=E-_-I,F>-1e-4&&F<1e-4}var n=function(){return function(p,m,d,b){var C=getDefaultCurveSegments(),y,x,g,k,_,E=0,I,F=[],z=[],O=bezierLengthPool.newElement();for(g=d.length,y=0;y<C;y+=1){for(_=y/(C-1),I=0,x=0;x<g;x+=1)k=bmPow(1-_,3)*p[x]+3*bmPow(1-_,2)*_*d[x]+3*(1-_)*bmPow(_,2)*b[x]+bmPow(_,3)*m[x],F[x]=k,z[x]!==null&&(I+=bmPow(F[x]-z[x],2)),z[x]=F[x];I&&(I=bmSqrt(I),E+=I),O.percents[y]=_,O.lengths[y]=E}return O.addedLength=E,O}}();function i(p){var m=segmentsLengthPool.newElement(),d=p.c,b=p.v,C=p.o,y=p.i,x,g=p._length,k=m.lengths,_=0;for(x=0;x<g-1;x+=1)k[x]=n(b[x],b[x+1],C[x],y[x+1]),_+=k[x].addedLength;return d&&g&&(k[x]=n(b[x],b[0],C[x],y[0]),_+=k[x].addedLength),m.totalLength=_,m}function a(p){this.segmentLength=0,this.points=new Array(p)}function s(p,m){this.partialLength=p,this.point=m}var o=function(){var p={};return function(m,d,b,C){var y=(m[0]+"_"+m[1]+"_"+d[0]+"_"+d[1]+"_"+b[0]+"_"+b[1]+"_"+C[0]+"_"+C[1]).replace(/\./g,"p");if(!p[y]){var x=getDefaultCurveSegments(),g,k,_,E,I,F=0,z,O,N=null;m.length===2&&(m[0]!==d[0]||m[1]!==d[1])&&t(m[0],m[1],d[0],d[1],m[0]+b[0],m[1]+b[1])&&t(m[0],m[1],d[0],d[1],d[0]+C[0],d[1]+C[1])&&(x=2);var V=new a(x);for(_=b.length,g=0;g<x;g+=1){for(O=createSizedArray(_),I=g/(x-1),z=0,k=0;k<_;k+=1)E=bmPow(1-I,3)*m[k]+3*bmPow(1-I,2)*I*(m[k]+b[k])+3*(1-I)*bmPow(I,2)*(d[k]+C[k])+bmPow(I,3)*d[k],O[k]=E,N!==null&&(z+=bmPow(O[k]-N[k],2));z=bmSqrt(z),F+=z,V.points[g]=new s(z,O),N=O}V.segmentLength=F,p[y]=V}return p[y]}}();function l(p,m){var d=m.percents,b=m.lengths,C=d.length,y=bmFloor((C-1)*p),x=p*m.addedLength,g=0;if(y===C-1||y===0||x===b[y])return d[y];for(var k=b[y]>x?-1:1,_=!0;_;)if(b[y]<=x&&b[y+1]>x?(g=(x-b[y])/(b[y+1]-b[y]),_=!1):y+=k,y<0||y>=C-1){if(y===C-1)return d[y];_=!1}return d[y]+(d[y+1]-d[y])*g}function u(p,m,d,b,C,y){var x=l(C,y),g=1-x,k=e.round((g*g*g*p[0]+(x*g*g+g*x*g+g*g*x)*d[0]+(x*x*g+g*x*x+x*g*x)*b[0]+x*x*x*m[0])*1e3)/1e3,_=e.round((g*g*g*p[1]+(x*g*g+g*x*g+g*g*x)*d[1]+(x*x*g+g*x*x+x*g*x)*b[1]+x*x*x*m[1])*1e3)/1e3;return[k,_]}var c=createTypedArray("float32",8);function f(p,m,d,b,C,y,x){C<0?C=0:C>1&&(C=1);var g=l(C,x);y=y>1?1:y;var k=l(y,x),_,E=p.length,I=1-g,F=1-k,z=I*I*I,O=g*I*I*3,N=g*g*I*3,V=g*g*g,H=I*I*F,G=g*I*F+I*g*F+I*I*k,B=g*g*F+I*g*k+g*I*k,T=g*g*k,R=I*F*F,S=g*F*F+I*k*F+I*F*k,P=g*k*F+I*k*k+g*F*k,A=g*k*k,D=F*F*F,j=k*F*F+F*k*F+F*F*k,L=k*k*F+F*k*k+k*F*k,W=k*k*k;for(_=0;_<E;_+=1)c[_*4]=e.round((z*p[_]+O*d[_]+N*b[_]+V*m[_])*1e3)/1e3,c[_*4+1]=e.round((H*p[_]+G*d[_]+B*b[_]+T*m[_])*1e3)/1e3,c[_*4+2]=e.round((R*p[_]+S*d[_]+P*b[_]+A*m[_])*1e3)/1e3,c[_*4+3]=e.round((D*p[_]+j*d[_]+L*b[_]+W*m[_])*1e3)/1e3;return c}return{getSegmentsLength:i,getNewSegment:f,getPointInSegment:u,buildBezierData:o,pointOnLine2D:t,pointOnLine3D:r}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,t){var r=this.offsetTime,n;this.propType==="multidimensional"&&(n=createTypedArray("float32",this.pv.length));for(var i=t.lastIndex,a=i,s=this.keyframes.length-1,o=!0,l,u,c;o;){if(l=this.keyframes[a],u=this.keyframes[a+1],a===s-1&&e>=u.t-r){l.h&&(l=u),i=0;break}if(u.t-r>e){i=a;break}a<s-1?a+=1:(i=0,o=!1)}c=this.keyframesMetadata[a]||{};var f,p,m,d,b,C,y=u.t-r,x=l.t-r,g;if(l.to){c.bezierData||(c.bezierData=bez.buildBezierData(l.s,u.s||l.e,l.to,l.ti));var k=c.bezierData;if(e>=y||e<x){var _=e>=y?k.points.length-1:0;for(p=k.points[_].point.length,f=0;f<p;f+=1)n[f]=k.points[_].point[f]}else{c.__fnct?C=c.__fnct:(C=BezierFactory.getBezierEasing(l.o.x,l.o.y,l.i.x,l.i.y,l.n).get,c.__fnct=C),m=C((e-x)/(y-x));var E=k.segmentLength*m,I,F=t.lastFrame<e&&t._lastKeyframeIndex===a?t._lastAddedLength:0;for(b=t.lastFrame<e&&t._lastKeyframeIndex===a?t._lastPoint:0,o=!0,d=k.points.length;o;){if(F+=k.points[b].partialLength,E===0||m===0||b===k.points.length-1){for(p=k.points[b].point.length,f=0;f<p;f+=1)n[f]=k.points[b].point[f];break}else if(E>=F&&E<F+k.points[b+1].partialLength){for(I=(E-F)/k.points[b+1].partialLength,p=k.points[b].point.length,f=0;f<p;f+=1)n[f]=k.points[b].point[f]+(k.points[b+1].point[f]-k.points[b].point[f])*I;break}b<d-1?b+=1:o=!1}t._lastPoint=b,t._lastAddedLength=F-k.points[b].partialLength,t._lastKeyframeIndex=a}}else{var z,O,N,V,H;if(s=l.s.length,g=u.s||l.e,this.sh&&l.h!==1)if(e>=y)n[0]=g[0],n[1]=g[1],n[2]=g[2];else if(e<=x)n[0]=l.s[0],n[1]=l.s[1],n[2]=l.s[2];else{var G=createQuaternion(l.s),B=createQuaternion(g),T=(e-x)/(y-x);quaternionToEuler(n,slerp(G,B,T))}else for(a=0;a<s;a+=1)l.h!==1&&(e>=y?m=1:e<x?m=0:(l.o.x.constructor===Array?(c.__fnct||(c.__fnct=[]),c.__fnct[a]?C=c.__fnct[a]:(z=l.o.x[a]===void 0?l.o.x[0]:l.o.x[a],O=l.o.y[a]===void 0?l.o.y[0]:l.o.y[a],N=l.i.x[a]===void 0?l.i.x[0]:l.i.x[a],V=l.i.y[a]===void 0?l.i.y[0]:l.i.y[a],C=BezierFactory.getBezierEasing(z,O,N,V).get,c.__fnct[a]=C)):c.__fnct?C=c.__fnct:(z=l.o.x,O=l.o.y,N=l.i.x,V=l.i.y,C=BezierFactory.getBezierEasing(z,O,N,V).get,l.keyframeMetadata=C),m=C((e-x)/(y-x)))),g=u.s||l.e,H=l.h===1?l.s[a]:l.s[a]+(g[a]-l.s[a])*m,this.propType==="multidimensional"?n[a]=H:n=H}return t.lastIndex=i,n}function slerp(e,t,r){var n=[],i=e[0],a=e[1],s=e[2],o=e[3],l=t[0],u=t[1],c=t[2],f=t[3],p,m,d,b,C;return m=i*l+a*u+s*c+o*f,m<0&&(m=-m,l=-l,u=-u,c=-c,f=-f),1-m>1e-6?(p=Math.acos(m),d=Math.sin(p),b=Math.sin((1-r)*p)/d,C=Math.sin(r*p)/d):(b=1-r,C=r),n[0]=b*i+C*l,n[1]=b*a+C*u,n[2]=b*s+C*c,n[3]=b*o+C*f,n}function quaternionToEuler(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=Math.atan2(2*n*a-2*r*i,1-2*n*n-2*i*i),o=Math.asin(2*r*n+2*i*a),l=Math.atan2(2*r*a-2*n*i,1-2*r*r-2*i*i);e[0]=s/degToRads,e[1]=o/degToRads,e[2]=l/degToRads}function createQuaternion(e){var t=e[0]*degToRads,r=e[1]*degToRads,n=e[2]*degToRads,i=Math.cos(t/2),a=Math.cos(r/2),s=Math.cos(n/2),o=Math.sin(t/2),l=Math.sin(r/2),u=Math.sin(n/2),c=i*a*s-o*l*u,f=o*l*s+i*a*u,p=o*a*s+i*l*u,m=i*l*s-o*a*u;return[f,p,m,c]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function setVValue(e){var t;if(this.propType==="unidimensional")t=e*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var r=0,n=this.v.length;r<n;)t=e[r]*this.mult,mathAbs(this.v[r]-t)>1e-5&&(this.v[r]=t,this._mdf=!0),r+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,t,r,n){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,t,r,n){this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,a=t.k.length;for(this.v=createTypedArray("float32",a),this.pv=createTypedArray("float32",a),this.vel=createTypedArray("float32",a),i=0;i<a;i+=1)this.v[i]=t.k[i]*this.mult,this.pv[i]=t.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,t,r,n){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=r||1,this.elem=e,this.container=n,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,t,r,n){this.propType="multidimensional";var i,a=t.k.length,s,o,l,u;for(i=0;i<a-1;i+=1)t.k[i].to&&t.k[i].s&&t.k[i+1]&&t.k[i+1].s&&(s=t.k[i].s,o=t.k[i+1].s,l=t.k[i].to,u=t.k[i].ti,(s.length===2&&!(s[0]===o[0]&&s[1]===o[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],s[0]+l[0],s[1]+l[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],o[0]+u[0],o[1]+u[1])||s.length===3&&!(s[0]===o[0]&&s[1]===o[1]&&s[2]===o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],s[0]+l[0],s[1]+l[1],s[2]+l[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],o[0]+u[0],o[1]+u[1],o[2]+u[2]))&&(t.k[i].to=null,t.k[i].ti=null),s[0]===o[0]&&s[1]===o[1]&&l[0]===0&&l[1]===0&&u[0]===0&&u[1]===0&&(s.length===2||s[2]===o[2]&&l[2]===0&&u[2]===0)&&(t.k[i].to=null,t.k[i].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=e,this.container=n,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var c=t.k[0].s.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),i=0;i<c;i+=1)this.v[i]=initFrame,this.pv[i]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",c)},this.addEffect=addEffect}var PropertyFactory=function(){function e(r,n,i,a,s){n.sid&&(n=r.globalData.slotManager.getProp(n));var o;if(!n.k.length)o=new ValueProperty(r,n,a,s);else if(typeof n.k[0]=="number")o=new MultiDimensionalProperty(r,n,a,s);else switch(i){case 0:o=new KeyframedValueProperty(r,n,a,s);break;case 1:o=new KeyframedMultidimensionalProperty(r,n,a,s);break}return o.effectsSequence.length&&s.addDynamicProperty(o),o}var t={getProp:e};return t}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,r=this.dynamicProperties.length;for(t=0;t<r;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function e(){return createTypedArray("float32",2)}return poolFactory(8,e)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,n,i){var a;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o;break;default:a=[];break}(!a[n]||a[n]&&!i)&&(a[n]=pointPool.newElement()),a[n][0]=e,a[n][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,n,i,a,s,o){this.setXYAt(e,t,"v",s,o),this.setXYAt(r,n,"o",s,o),this.setXYAt(i,a,"i",s,o)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,n=this.i,i=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),i=1);var a=this._length-1,s=this._length,o;for(o=i;o<s;o+=1)e.setTripleAt(t[a][0],t[a][1],n[a][0],n[a][1],r[a][0],r[a][1],o,!1),a-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function e(){return new ShapePath}function t(i){var a=i._length,s;for(s=0;s<a;s+=1)pointPool.release(i.v[s]),pointPool.release(i.i[s]),pointPool.release(i.o[s]),i.v[s]=null,i.i[s]=null,i.o[s]=null;i._length=0,i.c=!1}function r(i){var a=n.newElement(),s,o=i._length===void 0?i.v.length:i._length;for(a.setLength(o),a.c=i.c,s=0;s<o;s+=1)a.setTripleAt(i.v[s][0],i.v[s][1],i.o[s][0],i.o[s][1],i.i[s][0],i.i[s][1],s);return a}var n=poolFactory(4,e,t);return n.clone=r,n}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=function(){var e={newShapeCollection:i,release:a},t=0,r=4,n=createSizedArray(r);function i(){var s;return t?(t-=1,s=n[t]):s=new ShapeCollection,s}function a(s){var o,l=s._length;for(o=0;o<l;o+=1)shapePool.release(s.shapes[o]);s._length=0,t===r&&(n=pooling.double(n),r*=2),n[t]=s,t+=1}return e}(),ShapePropertyFactory=function(){var e=-999999;function t(y,x,g){var k=g.lastIndex,_,E,I,F,z,O,N,V,H,G=this.keyframes;if(y<G[0].t-this.offsetTime)_=G[0].s[0],I=!0,k=0;else if(y>=G[G.length-1].t-this.offsetTime)_=G[G.length-1].s?G[G.length-1].s[0]:G[G.length-2].e[0],I=!0;else{for(var B=k,T=G.length-1,R=!0,S,P,A;R&&(S=G[B],P=G[B+1],!(P.t-this.offsetTime>y));)B<T-1?B+=1:R=!1;if(A=this.keyframesMetadata[B]||{},I=S.h===1,k=B,!I){if(y>=P.t-this.offsetTime)V=1;else if(y<S.t-this.offsetTime)V=0;else{var D;A.__fnct?D=A.__fnct:(D=BezierFactory.getBezierEasing(S.o.x,S.o.y,S.i.x,S.i.y).get,A.__fnct=D),V=D((y-(S.t-this.offsetTime))/(P.t-this.offsetTime-(S.t-this.offsetTime)))}E=P.s?P.s[0]:S.e[0]}_=S.s[0]}for(O=x._length,N=_.i[0].length,g.lastIndex=k,F=0;F<O;F+=1)for(z=0;z<N;z+=1)H=I?_.i[F][z]:_.i[F][z]+(E.i[F][z]-_.i[F][z])*V,x.i[F][z]=H,H=I?_.o[F][z]:_.o[F][z]+(E.o[F][z]-_.o[F][z])*V,x.o[F][z]=H,H=I?_.v[F][z]:_.v[F][z]+(E.v[F][z]-_.v[F][z])*V,x.v[F][z]=H}function r(){var y=this.comp.renderedFrame-this.offsetTime,x=this.keyframes[0].t-this.offsetTime,g=this.keyframes[this.keyframes.length-1].t-this.offsetTime,k=this._caching.lastFrame;return k!==e&&(k<x&&y<x||k>g&&y>g)||(this._caching.lastIndex=k<y?this._caching.lastIndex:0,this.interpolateShape(y,this.pv,this._caching)),this._caching.lastFrame=y,this.pv}function n(){this.paths=this.localShapeCollection}function i(y,x){if(y._length!==x._length||y.c!==x.c)return!1;var g,k=y._length;for(g=0;g<k;g+=1)if(y.v[g][0]!==x.v[g][0]||y.v[g][1]!==x.v[g][1]||y.o[g][0]!==x.o[g][0]||y.o[g][1]!==x.o[g][1]||y.i[g][0]!==x.i[g][0]||y.i[g][1]!==x.i[g][1])return!1;return!0}function a(y){i(this.v,y)||(this.v=shapePool.clone(y),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var y;this.kf?y=this.pv:this.data.ks?y=this.data.ks.k:y=this.data.pt.k;var x,g=this.effectsSequence.length;for(x=0;x<g;x+=1)y=this.effectsSequence[x](y);this.setVValue(y),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(y,x,g){this.propType="shape",this.comp=y.comp,this.container=y,this.elem=y,this.data=x,this.k=!1,this.kf=!1,this._mdf=!1;var k=g===3?x.pt.k:x.ks.k;this.v=shapePool.clone(k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function l(y){this.effectsSequence.push(y),this.container.addDynamicProperty(this)}o.prototype.interpolateShape=t,o.prototype.getValue=s,o.prototype.setVValue=a,o.prototype.addEffect=l;function u(y,x,g){this.propType="shape",this.comp=y.comp,this.elem=y,this.container=y,this.offsetTime=y.data.st,this.keyframes=g===3?x.pt.k:x.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var k=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=n,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}u.prototype.getValue=s,u.prototype.interpolateShape=t,u.prototype.setVValue=a,u.prototype.addEffect=l;var c=function(){var y=roundCorner;function x(g,k){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=k.d,this.elem=g,this.comp=g.comp,this.frameId=-1,this.initDynamicPropertyContainer(g),this.p=PropertyFactory.getProp(g,k.p,1,0,this),this.s=PropertyFactory.getProp(g,k.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return x.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var k=this.p.v[0],_=this.p.v[1],E=this.s.v[0]/2,I=this.s.v[1]/2,F=this.d!==3,z=this.v;z.v[0][0]=k,z.v[0][1]=_-I,z.v[1][0]=F?k+E:k-E,z.v[1][1]=_,z.v[2][0]=k,z.v[2][1]=_+I,z.v[3][0]=F?k-E:k+E,z.v[3][1]=_,z.i[0][0]=F?k-E*y:k+E*y,z.i[0][1]=_-I,z.i[1][0]=F?k+E:k-E,z.i[1][1]=_-I*y,z.i[2][0]=F?k+E*y:k-E*y,z.i[2][1]=_+I,z.i[3][0]=F?k-E:k+E,z.i[3][1]=_+I*y,z.o[0][0]=F?k+E*y:k-E*y,z.o[0][1]=_-I,z.o[1][0]=F?k+E:k-E,z.o[1][1]=_+I*y,z.o[2][0]=F?k-E*y:k+E*y,z.o[2][1]=_+I,z.o[3][0]=F?k-E:k+E,z.o[3][1]=_-I*y}},extendPrototype([DynamicPropertyContainer],x),x}(),f=function(){function y(x,g){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=x,this.comp=x.comp,this.data=g,this.frameId=-1,this.d=g.d,this.initDynamicPropertyContainer(x),g.sy===1?(this.ir=PropertyFactory.getProp(x,g.ir,0,0,this),this.is=PropertyFactory.getProp(x,g.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(x,g.pt,0,0,this),this.p=PropertyFactory.getProp(x,g.p,1,0,this),this.r=PropertyFactory.getProp(x,g.r,0,degToRads,this),this.or=PropertyFactory.getProp(x,g.or,0,0,this),this.os=PropertyFactory.getProp(x,g.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return y.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var g=Math.floor(this.pt.v)*2,k=Math.PI*2/g,_=!0,E=this.or.v,I=this.ir.v,F=this.os.v,z=this.is.v,O=2*Math.PI*E/(g*2),N=2*Math.PI*I/(g*2),V,H,G,B,T=-Math.PI/2;T+=this.r.v;var R=this.data.d===3?-1:1;for(this.v._length=0,V=0;V<g;V+=1){H=_?E:I,G=_?F:z,B=_?O:N;var S=H*Math.cos(T),P=H*Math.sin(T),A=S===0&&P===0?0:P/Math.sqrt(S*S+P*P),D=S===0&&P===0?0:-S/Math.sqrt(S*S+P*P);S+=+this.p.v[0],P+=+this.p.v[1],this.v.setTripleAt(S,P,S-A*B*G*R,P-D*B*G*R,S+A*B*G*R,P+D*B*G*R,V,!0),_=!_,T+=k*R}},convertPolygonToPath:function(){var g=Math.floor(this.pt.v),k=Math.PI*2/g,_=this.or.v,E=this.os.v,I=2*Math.PI*_/(g*4),F,z=-Math.PI*.5,O=this.data.d===3?-1:1;for(z+=this.r.v,this.v._length=0,F=0;F<g;F+=1){var N=_*Math.cos(z),V=_*Math.sin(z),H=N===0&&V===0?0:V/Math.sqrt(N*N+V*V),G=N===0&&V===0?0:-N/Math.sqrt(N*N+V*V);N+=+this.p.v[0],V+=+this.p.v[1],this.v.setTripleAt(N,V,N-H*I*E*O,V-G*I*E*O,N+H*I*E*O,V+G*I*E*O,F,!0),z+=k*O}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],y),y}(),p=function(){function y(x,g){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=x,this.comp=x.comp,this.frameId=-1,this.d=g.d,this.initDynamicPropertyContainer(x),this.p=PropertyFactory.getProp(x,g.p,1,0,this),this.s=PropertyFactory.getProp(x,g.s,1,0,this),this.r=PropertyFactory.getProp(x,g.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return y.prototype={convertRectToPath:function(){var g=this.p.v[0],k=this.p.v[1],_=this.s.v[0]/2,E=this.s.v[1]/2,I=bmMin(_,E,this.r.v),F=I*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(g+_,k-E+I,g+_,k-E+I,g+_,k-E+F,0,!0),this.v.setTripleAt(g+_,k+E-I,g+_,k+E-F,g+_,k+E-I,1,!0),I!==0?(this.v.setTripleAt(g+_-I,k+E,g+_-I,k+E,g+_-F,k+E,2,!0),this.v.setTripleAt(g-_+I,k+E,g-_+F,k+E,g-_+I,k+E,3,!0),this.v.setTripleAt(g-_,k+E-I,g-_,k+E-I,g-_,k+E-F,4,!0),this.v.setTripleAt(g-_,k-E+I,g-_,k-E+F,g-_,k-E+I,5,!0),this.v.setTripleAt(g-_+I,k-E,g-_+I,k-E,g-_+F,k-E,6,!0),this.v.setTripleAt(g+_-I,k-E,g+_-F,k-E,g+_-I,k-E,7,!0)):(this.v.setTripleAt(g-_,k+E,g-_+F,k+E,g-_,k+E,2),this.v.setTripleAt(g-_,k-E,g-_,k-E+F,g-_,k-E,3))):(this.v.setTripleAt(g+_,k-E+I,g+_,k-E+F,g+_,k-E+I,0,!0),I!==0?(this.v.setTripleAt(g+_-I,k-E,g+_-I,k-E,g+_-F,k-E,1,!0),this.v.setTripleAt(g-_+I,k-E,g-_+F,k-E,g-_+I,k-E,2,!0),this.v.setTripleAt(g-_,k-E+I,g-_,k-E+I,g-_,k-E+F,3,!0),this.v.setTripleAt(g-_,k+E-I,g-_,k+E-F,g-_,k+E-I,4,!0),this.v.setTripleAt(g-_+I,k+E,g-_+I,k+E,g-_+F,k+E,5,!0),this.v.setTripleAt(g+_-I,k+E,g+_-F,k+E,g+_-I,k+E,6,!0),this.v.setTripleAt(g+_,k+E-I,g+_,k+E-I,g+_,k+E-F,7,!0)):(this.v.setTripleAt(g-_,k-E,g-_+F,k-E,g-_,k-E,1,!0),this.v.setTripleAt(g-_,k+E,g-_,k+E-F,g-_,k+E,2,!0),this.v.setTripleAt(g+_,k+E,g+_-F,k+E,g+_,k+E,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],y),y}();function m(y,x,g){var k;if(g===3||g===4){var _=g===3?x.pt:x.ks,E=_.k;E.length?k=new u(y,x,g):k=new o(y,x,g)}else g===5?k=new p(y,x):g===6?k=new c(y,x):g===7&&(k=new f(y,x));return k.k&&y.addDynamicProperty(k),k}function d(){return o}function b(){return u}var C={};return C.getShapeProp=m,C.getConstructorFunction=d,C.getKeyframedConstructorFunction=b,C}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,n=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function a(S){if(S===0)return this;var P=e(S),A=t(S);return this._t(P,-A,0,0,A,P,0,0,0,0,1,0,0,0,0,1)}function s(S){if(S===0)return this;var P=e(S),A=t(S);return this._t(1,0,0,0,0,P,-A,0,0,A,P,0,0,0,0,1)}function o(S){if(S===0)return this;var P=e(S),A=t(S);return this._t(P,0,A,0,0,1,0,0,-A,0,P,0,0,0,0,1)}function l(S){if(S===0)return this;var P=e(S),A=t(S);return this._t(P,-A,0,0,A,P,0,0,0,0,1,0,0,0,0,1)}function u(S,P){return this._t(1,P,S,1,0,0)}function c(S,P){return this.shear(r(S),r(P))}function f(S,P){var A=e(P),D=t(P);return this._t(A,D,0,0,-D,A,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(S),1,0,0,0,0,1,0,0,0,0,1)._t(A,-D,0,0,D,A,0,0,0,0,1,0,0,0,0,1)}function p(S,P,A){return!A&&A!==0&&(A=1),S===1&&P===1&&A===1?this:this._t(S,0,0,0,0,P,0,0,0,0,A,0,0,0,0,1)}function m(S,P,A,D,j,L,W,Y,q,Z,Q,ae,ie,ne,oe,te){return this.props[0]=S,this.props[1]=P,this.props[2]=A,this.props[3]=D,this.props[4]=j,this.props[5]=L,this.props[6]=W,this.props[7]=Y,this.props[8]=q,this.props[9]=Z,this.props[10]=Q,this.props[11]=ae,this.props[12]=ie,this.props[13]=ne,this.props[14]=oe,this.props[15]=te,this}function d(S,P,A){return A=A||0,S!==0||P!==0||A!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,S,P,A,1):this}function b(S,P,A,D,j,L,W,Y,q,Z,Q,ae,ie,ne,oe,te){var J=this.props;if(S===1&&P===0&&A===0&&D===0&&j===0&&L===1&&W===0&&Y===0&&q===0&&Z===0&&Q===1&&ae===0)return J[12]=J[12]*S+J[15]*ie,J[13]=J[13]*L+J[15]*ne,J[14]=J[14]*Q+J[15]*oe,J[15]*=te,this._identityCalculated=!1,this;var ce=J[0],de=J[1],he=J[2],fe=J[3],pe=J[4],me=J[5],se=J[6],ye=J[7],ve=J[8],le=J[9],be=J[10],$=J[11],U=J[12],K=J[13],X=J[14],ee=J[15];return J[0]=ce*S+de*j+he*q+fe*ie,J[1]=ce*P+de*L+he*Z+fe*ne,J[2]=ce*A+de*W+he*Q+fe*oe,J[3]=ce*D+de*Y+he*ae+fe*te,J[4]=pe*S+me*j+se*q+ye*ie,J[5]=pe*P+me*L+se*Z+ye*ne,J[6]=pe*A+me*W+se*Q+ye*oe,J[7]=pe*D+me*Y+se*ae+ye*te,J[8]=ve*S+le*j+be*q+$*ie,J[9]=ve*P+le*L+be*Z+$*ne,J[10]=ve*A+le*W+be*Q+$*oe,J[11]=ve*D+le*Y+be*ae+$*te,J[12]=U*S+K*j+X*q+ee*ie,J[13]=U*P+K*L+X*Z+ee*ne,J[14]=U*A+K*W+X*Q+ee*oe,J[15]=U*D+K*Y+X*ae+ee*te,this._identityCalculated=!1,this}function C(S){var P=S.props;return this.transform(P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8],P[9],P[10],P[11],P[12],P[13],P[14],P[15])}function y(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function x(S){for(var P=0;P<16;){if(S.props[P]!==this.props[P])return!1;P+=1}return!0}function g(S){var P;for(P=0;P<16;P+=1)S.props[P]=this.props[P];return S}function k(S){var P;for(P=0;P<16;P+=1)this.props[P]=S[P]}function _(S,P,A){return{x:S*this.props[0]+P*this.props[4]+A*this.props[8]+this.props[12],y:S*this.props[1]+P*this.props[5]+A*this.props[9]+this.props[13],z:S*this.props[2]+P*this.props[6]+A*this.props[10]+this.props[14]}}function E(S,P,A){return S*this.props[0]+P*this.props[4]+A*this.props[8]+this.props[12]}function I(S,P,A){return S*this.props[1]+P*this.props[5]+A*this.props[9]+this.props[13]}function F(S,P,A){return S*this.props[2]+P*this.props[6]+A*this.props[10]+this.props[14]}function z(){var S=this.props[0]*this.props[5]-this.props[1]*this.props[4],P=this.props[5]/S,A=-this.props[1]/S,D=-this.props[4]/S,j=this.props[0]/S,L=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/S,W=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/S,Y=new Matrix;return Y.props[0]=P,Y.props[1]=A,Y.props[4]=D,Y.props[5]=j,Y.props[12]=L,Y.props[13]=W,Y}function O(S){var P=this.getInverseMatrix();return P.applyToPointArray(S[0],S[1],S[2]||0)}function N(S){var P,A=S.length,D=[];for(P=0;P<A;P+=1)D[P]=O(S[P]);return D}function V(S,P,A){var D=createTypedArray("float32",6);if(this.isIdentity())D[0]=S[0],D[1]=S[1],D[2]=P[0],D[3]=P[1],D[4]=A[0],D[5]=A[1];else{var j=this.props[0],L=this.props[1],W=this.props[4],Y=this.props[5],q=this.props[12],Z=this.props[13];D[0]=S[0]*j+S[1]*W+q,D[1]=S[0]*L+S[1]*Y+Z,D[2]=P[0]*j+P[1]*W+q,D[3]=P[0]*L+P[1]*Y+Z,D[4]=A[0]*j+A[1]*W+q,D[5]=A[0]*L+A[1]*Y+Z}return D}function H(S,P,A){var D;return this.isIdentity()?D=[S,P,A]:D=[S*this.props[0]+P*this.props[4]+A*this.props[8]+this.props[12],S*this.props[1]+P*this.props[5]+A*this.props[9]+this.props[13],S*this.props[2]+P*this.props[6]+A*this.props[10]+this.props[14]],D}function G(S,P){if(this.isIdentity())return S+","+P;var A=this.props;return Math.round((S*A[0]+P*A[4]+A[12])*100)/100+","+Math.round((S*A[1]+P*A[5]+A[13])*100)/100}function B(){for(var S=0,P=this.props,A="matrix3d(",D=1e4;S<16;)A+=n(P[S]*D)/D,A+=S===15?")":",",S+=1;return A}function T(S){var P=1e4;return S<1e-6&&S>0||S>-1e-6&&S<0?n(S*P)/P:S}function R(){var S=this.props,P=T(S[0]),A=T(S[1]),D=T(S[4]),j=T(S[5]),L=T(S[12]),W=T(S[13]);return"matrix("+P+","+A+","+D+","+j+","+L+","+W+")"}return function(){this.reset=i,this.rotate=a,this.rotateX=s,this.rotateY=o,this.rotateZ=l,this.skew=c,this.skewFromAxis=f,this.shear=u,this.scale=p,this.setTransform=m,this.translate=d,this.transform=b,this.multiply=C,this.applyToPoint=_,this.applyToX=E,this.applyToY=I,this.applyToZ=F,this.applyToPointArray=H,this.applyToTriplePoints=V,this.applyToPointStringified=G,this.toCSS=B,this.to2dCSS=R,this.clone=g,this.cloneFromProps=k,this.equals=x,this.inversePoints=N,this.inversePoint=O,this.getInverseMatrix=z,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(e)}var lottie={};function setLocation(e){setLocationHref(e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(e,t){e==="expressions"&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var n=t[r].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},t={};e.registerModifier=r,e.getModifier=n;function r(i,a){t[i]||(t[i]=a)}function n(i,a,s){return new t[i](a,s)}return e}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,n,i){var a=[];t<=1?a.push({s:e,e:t}):e>=1?a.push({s:e-1,e:t-1}):(a.push({s:e,e:1}),a.push({s:0,e:t-1}));var s=[],o,l=a.length,u;for(o=0;o<l;o+=1)if(u=a[o],!(u.e*i<n||u.s*i>n+r)){var c,f;u.s*i<=n?c=0:c=(u.s*i-n)/r,u.e*i>=n+r?f=1:f=(u.e*i-n)/r,s.push([c,f])}return s.length||s.push([0,0]),s},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r;if(this._mdf||e){var n=this.o.v%360/360;if(n<0&&(n+=1),this.s.v>1?t=1+n:this.s.v<0?t=0+n:t=this.s.v+n,this.e.v>1?r=1+n:this.e.v<0?r=0+n:r=this.e.v+n,t>r){var i=t;t=r,r=i}t=Math.round(t*1e4)*1e-4,r=Math.round(r*1e4)*1e-4,this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var a,s,o=this.shapes.length,l,u,c,f,p,m=0;if(r===t)for(s=0;s<o;s+=1)this.shapes[s].localShapeCollection.releaseShapes(),this.shapes[s].shape._mdf=!0,this.shapes[s].shape.paths=this.shapes[s].localShapeCollection,this._mdf&&(this.shapes[s].pathsData.length=0);else if(r===1&&t===0||r===0&&t===1){if(this._mdf)for(s=0;s<o;s+=1)this.shapes[s].pathsData.length=0,this.shapes[s].shape._mdf=!0}else{var d=[],b,C;for(s=0;s<o;s+=1)if(b=this.shapes[s],!b.shape._mdf&&!this._mdf&&!e&&this.m!==2)b.shape.paths=b.localShapeCollection;else{if(a=b.shape.paths,u=a._length,p=0,!b.shape._mdf&&b.pathsData.length)p=b.totalShapeLength;else{for(c=this.releasePathsData(b.pathsData),l=0;l<u;l+=1)f=bez.getSegmentsLength(a.shapes[l]),c.push(f),p+=f.totalLength;b.totalShapeLength=p,b.pathsData=c}m+=p,b.shape._mdf=!0}var y=t,x=r,g=0,k;for(s=o-1;s>=0;s-=1)if(b=this.shapes[s],b.shape._mdf){for(C=b.localShapeCollection,C.releaseShapes(),this.m===2&&o>1?(k=this.calculateShapeEdges(t,r,b.totalShapeLength,g,m),g+=b.totalShapeLength):k=[[y,x]],u=k.length,l=0;l<u;l+=1){y=k[l][0],x=k[l][1],d.length=0,x<=1?d.push({s:b.totalShapeLength*y,e:b.totalShapeLength*x}):y>=1?d.push({s:b.totalShapeLength*(y-1),e:b.totalShapeLength*(x-1)}):(d.push({s:b.totalShapeLength*y,e:b.totalShapeLength}),d.push({s:0,e:b.totalShapeLength*(x-1)}));var _=this.addShapes(b,d[0]);if(d[0].s!==d[0].e){if(d.length>1){var E=b.shape.paths.shapes[b.shape.paths._length-1];if(E.c){var I=_.pop();this.addPaths(_,C),_=this.addShapes(b,d[1],I)}else this.addPaths(_,C),_=this.addShapes(b,d[1])}this.addPaths(_,C)}}b.shape.paths=C}}},TrimModifier.prototype.addPaths=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,n,i,a,s){i.setXYAt(t[0],t[1],"o",a),i.setXYAt(r[0],r[1],"i",a+1),s&&i.setXYAt(e[0],e[1],"v",a),i.setXYAt(n[0],n[1],"v",a+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,n){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),n&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var n=e.pathsData,i=e.shape.paths.shapes,a,s=e.shape.paths._length,o,l,u=0,c,f,p,m,d=[],b,C=!0;for(r?(f=r._length,b=r._length):(r=shapePool.newElement(),f=0,b=0),d.push(r),a=0;a<s;a+=1){for(p=n[a].lengths,r.c=i[a].c,l=i[a].c?p.length:p.length+1,o=1;o<l;o+=1)if(c=p[o-1],u+c.addedLength<t.s)u+=c.addedLength,r.c=!1;else if(u>t.e){r.c=!1;break}else t.s<=u&&t.e>=u+c.addedLength?(this.addSegment(i[a].v[o-1],i[a].o[o-1],i[a].i[o],i[a].v[o],r,f,C),C=!1):(m=bez.getNewSegment(i[a].v[o-1],i[a].v[o],i[a].o[o-1],i[a].i[o],(t.s-u)/c.addedLength,(t.e-u)/c.addedLength,p[o-1]),this.addSegmentFromArray(m,r,f,C),C=!1,r.c=!1),u+=c.addedLength,f+=1;if(i[a].c&&p.length){if(c=p[o-1],u<=t.e){var y=p[o-1].addedLength;t.s<=u&&t.e>=u+y?(this.addSegment(i[a].v[o-1],i[a].o[o-1],i[a].i[0],i[a].v[0],r,f,C),C=!1):(m=bez.getNewSegment(i[a].v[o-1],i[a].v[0],i[a].o[o-1],i[a].i[0],(t.s-u)/y,(t.e-u)/y,p[o-1]),this.addSegmentFromArray(m,r,f,C),C=!1,r.c=!1)}else r.c=!1;u+=c.addedLength,f+=1}if(r._length&&(r.setXYAt(r.v[b][0],r.v[b][1],"i",b),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),u>t.e)break;a<s-1&&(r=shapePool.newElement(),C=!0,d.push(r),f=0)}return d};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,n=[0,0],i=e._length,a=0;for(a=0;a<i;a+=1)n[0]+=e.v[a][0],n[1]+=e.v[a][1];n[0]/=i,n[1]/=i;var s=shapePool.newElement();s.c=e.c;var o,l,u,c,f,p;for(a=0;a<i;a+=1)o=e.v[a][0]+(n[0]-e.v[a][0])*r,l=e.v[a][1]+(n[1]-e.v[a][1])*r,u=e.o[a][0]+(n[0]-e.o[a][0])*-r,c=e.o[a][1]+(n[1]-e.o[a][1])*-r,f=e.i[a][0]+(n[0]-e.i[a][0])*-r,p=e.i[a][1]+(n[1]-e.i[a][1])*-r,s.setTripleAt(o,l,u,c,f,p,a);return s},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,n=this.shapes.length,i,a,s=this.amount.v;if(s!==0){var o,l;for(r=0;r<n;r+=1){if(o=this.shapes[r],l=o.localShapeCollection,!(!o.shape._mdf&&!this._mdf&&!e))for(l.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,a=o.shape.paths._length,i=0;i<a;i+=1)l.addShape(this.processPath(t[i],s));o.shape.paths=o.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(l){var u=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||u,this.a&&l.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&l.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&l.skewFromAxis(-this.sk.v,this.sa.v),this.r?l.rotate(-this.r.v):l.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?l.translate(this.px.v,this.py.v,-this.pz.v):l.translate(this.px.v,this.py.v,0):l.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function r(l){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||l){var u;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var c,f;if(u=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(c=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/u,0),f=this.p.getValueAtTime(this.p.keyframes[0].t/u,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(c=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/u,0),f=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/u,0)):(c=this.p.pv,f=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/u,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){c=[],f=[];var p=this.px,m=this.py;p._caching.lastFrame+p.offsetTime<=p.keyframes[0].t?(c[0]=p.getValueAtTime((p.keyframes[0].t+.01)/u,0),c[1]=m.getValueAtTime((m.keyframes[0].t+.01)/u,0),f[0]=p.getValueAtTime(p.keyframes[0].t/u,0),f[1]=m.getValueAtTime(m.keyframes[0].t/u,0)):p._caching.lastFrame+p.offsetTime>=p.keyframes[p.keyframes.length-1].t?(c[0]=p.getValueAtTime(p.keyframes[p.keyframes.length-1].t/u,0),c[1]=m.getValueAtTime(m.keyframes[m.keyframes.length-1].t/u,0),f[0]=p.getValueAtTime((p.keyframes[p.keyframes.length-1].t-.01)/u,0),f[1]=m.getValueAtTime((m.keyframes[m.keyframes.length-1].t-.01)/u,0)):(c=[p.pv,m.pv],f[0]=p.getValueAtTime((p._caching.lastFrame+p.offsetTime-.01)/u,p.offsetTime),f[1]=m.getValueAtTime((m._caching.lastFrame+m.offsetTime-.01)/u,m.offsetTime))}else f=e,c=f;this.v.rotate(-Math.atan2(c[1]-f[1],c[0]-f[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function n(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function i(){}function a(l){this._addDynamicProperty(l),this.elem.addDynamicProperty(l),this._isDirty=!0}function s(l,u,c){if(this.elem=l,this.frameId=-1,this.propType="transform",this.data=u,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(c||l),u.p&&u.p.s?(this.px=PropertyFactory.getProp(l,u.p.x,0,0,this),this.py=PropertyFactory.getProp(l,u.p.y,0,0,this),u.p.z&&(this.pz=PropertyFactory.getProp(l,u.p.z,0,0,this))):this.p=PropertyFactory.getProp(l,u.p||{k:[0,0,0]},1,0,this),u.rx){if(this.rx=PropertyFactory.getProp(l,u.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(l,u.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(l,u.rz,0,degToRads,this),u.or.k[0].ti){var f,p=u.or.k.length;for(f=0;f<p;f+=1)u.or.k[f].to=null,u.or.k[f].ti=null}this.or=PropertyFactory.getProp(l,u.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(l,u.r||{k:0},0,degToRads,this);u.sk&&(this.sk=PropertyFactory.getProp(l,u.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(l,u.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(l,u.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(l,u.s||{k:[100,100,100]},1,.01,this),u.o?this.o=PropertyFactory.getProp(l,u.o,0,.01,l):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}s.prototype={applyToMatrix:t,getValue:r,precalculateMatrix:n,autoOrient:i},extendPrototype([DynamicPropertyContainer],s),s.prototype.addDynamicProperty=a,s.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function o(l,u,c){return new s(l,u,c)}return{getTransformProperty:o}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,n,i,a){var s=a?-1:1,o=n.s.v[0]+(1-n.s.v[0])*(1-i),l=n.s.v[1]+(1-n.s.v[1])*(1-i);e.translate(n.p.v[0]*s*i,n.p.v[1]*s*i,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*s*i),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(a?1/o:o,a?1/l:l),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,n){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,e[t].ty==="gr"&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]._render=t,e[r].ty==="gr"&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,n,i,a,s=!1;if(this._mdf||e){var o=Math.ceil(this.c.v);if(this._groups.length<o){for(;this._groups.length<o;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}a=0;var u;for(n=0;n<=this._groups.length-1;n+=1){if(u=a<o,this._groups[n]._render=u,this.changeGroupRender(this._groups[n].it,u),!u){var c=this.elemsData[n].it,f=c[c.length-1];f.transform.op.v!==0?(f.transform.op._mdf=!0,f.transform.op.v=0):f.transform.op._mdf=!1}a+=1}this._currentCopies=o;var p=this.o.v,m=p%1,d=p>0?Math.floor(p):Math.ceil(p),b=this.pMatrix.props,C=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var x=0;if(p>0){for(;x<d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),x+=1;m&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,m,!1),x+=m)}else if(p<0){for(;x>d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),x-=1;m&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-m,!0),x-=m)}n=this.data.m===1?0:this._currentCopies-1,i=this.data.m===1?1:-1,a=this._currentCopies;for(var g,k;a;){if(t=this.elemsData[n].it,r=t[t.length-1].transform.mProps.v.props,k=r.length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),x!==0){for((n!==0&&i===1||n!==this._currentCopies-1&&i===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),g=0;g<k;g+=1)r[g]=this.matrix.props[g];this.matrix.reset()}else for(this.matrix.reset(),g=0;g<k;g+=1)r[g]=this.matrix.props[g];x+=1,a-=1,n+=i}}else for(a=this._currentCopies,n=0,i=1;a;)t=this.elemsData[n].it,r=t[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,a-=1,n+=i;return s},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r=shapePool.newElement();r.c=e.c;var n,i=e._length,a,s,o,l,u,c,f=0,p,m,d,b,C,y;for(n=0;n<i;n+=1)a=e.v[n],o=e.o[n],s=e.i[n],a[0]===o[0]&&a[1]===o[1]&&a[0]===s[0]&&a[1]===s[1]?(n===0||n===i-1)&&!e.c?(r.setTripleAt(a[0],a[1],o[0],o[1],s[0],s[1],f),f+=1):(n===0?l=e.v[i-1]:l=e.v[n-1],u=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),c=u?Math.min(u/2,t)/u:0,C=a[0]+(l[0]-a[0])*c,p=C,y=a[1]-(a[1]-l[1])*c,m=y,d=p-(p-a[0])*roundCorner,b=m-(m-a[1])*roundCorner,r.setTripleAt(p,m,d,b,C,y,f),f+=1,n===i-1?l=e.v[0]:l=e.v[n+1],u=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),c=u?Math.min(u/2,t)/u:0,d=a[0]+(l[0]-a[0])*c,p=d,b=a[1]+(l[1]-a[1])*c,m=b,C=p-(p-a[0])*roundCorner,y=m-(m-a[1])*roundCorner,r.setTripleAt(p,m,d,b,C,y,f),f+=1):(r.setTripleAt(e.v[n][0],e.v[n][1],e.o[n][0],e.o[n][1],e.i[n][0],e.i[n][1],f),f+=1);return r},RoundCornersModifier.prototype.processShapes=function(e){var t,r,n=this.shapes.length,i,a,s=this.rd.v;if(s!==0){var o,l;for(r=0;r<n;r+=1){if(o=this.shapes[r],l=o.localShapeCollection,!(!o.shape._mdf&&!this._mdf&&!e))for(l.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,a=o.shape.paths._length,i=0;i<a;i+=1)l.addShape(this.processPath(t[i],s));o.shape.paths=o.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(e,t){return Math.abs(e-t)*1e5<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,r){return e*(1-r)+t*r}function lerpPoint(e,t,r){return[lerp(e[0],t[0],r),lerp(e[1],t[1],r)]}function quadRoots(e,t,r){if(e===0)return[];var n=t*t-4*e*r;if(n<0)return[];var i=-t/(2*e);if(n===0)return[i];var a=Math.sqrt(n)/(2*e);return[i-a,i+a]}function polynomialCoefficients(e,t,r,n){return[-e+3*t-3*r+n,3*e-6*t+3*r,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,r,n,i){i&&pointEqual(e,t)&&(t=lerpPoint(e,n,1/3)),i&&pointEqual(r,n)&&(r=lerpPoint(e,n,2/3));var a=polynomialCoefficients(e[0],t[0],r[0],n[0]),s=polynomialCoefficients(e[1],t[1],r[1],n[1]);this.a=[a[0],s[0]],this.b=[a[1],s[1]],this.c=[a[2],s[2]],this.d=[a[3],s[3]],this.points=[e,t,r,n]}PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,r=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(r<0)return[];var n=Math.sqrt(r);return floatZero(n)?n>0&&n<1?[t]:[]:[t-n,t+n].filter(function(i){return i>0&&i<1})},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),r=lerpPoint(this.points[1],this.points[2],e),n=lerpPoint(this.points[2],this.points[3],e),i=lerpPoint(t,r,e),a=lerpPoint(r,n,e),s=lerpPoint(i,a,e);return[new PolynomialBezier(this.points[0],t,i,s,!0),new PolynomialBezier(s,a,n,this.points[3],!0)]};function extrema(e,t){var r=e.points[0][t],n=e.points[e.points.length-1][t];if(r>n){var i=n;n=r,r=i}for(var a=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),s=0;s<a.length;s+=1)if(a[s]>0&&a[s]<1){var o=e.point(a[s])[t];o<r?r=o:o>n&&(n=o)}return{min:r,max:n}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}};function intersectData(e,t,r){var n=e.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:e,t:(t+r)/2,t1:t,t2:r}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return Math.abs(e.cx-t.cx)*2<e.width+t.width&&Math.abs(e.cy-t.cy)*2<e.height+t.height}function intersectsImpl(e,t,r,n,i,a){if(boxIntersect(e,t)){if(r>=a||e.width<=n&&e.height<=n&&t.width<=n&&t.height<=n){i.push([e.t,t.t]);return}var s=splitData(e),o=splitData(t);intersectsImpl(s[0],o[0],r+1,n,i,a),intersectsImpl(s[0],o[1],r+1,n,i,a),intersectsImpl(s[1],o[0],r+1,n,i,a),intersectsImpl(s[1],o[1],r+1,n,i,a)}}PolynomialBezier.prototype.intersections=function(e,t,r){t===void 0&&(t=2),r===void 0&&(r=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,n,r),n},PolynomialBezier.shapeSegment=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[r],e.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[r],e.i[r],e.o[t],e.v[t],!0)};function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,r,n){var i=[e[0],e[1],1],a=[t[0],t[1],1],s=[r[0],r[1],1],o=[n[0],n[1],1],l=crossProduct(crossProduct(i,a),crossProduct(s,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,r){return[e[0]+Math.cos(t)*r,e[1]-Math.sin(t)*r]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(e,t,r,n,i,a,s){var o=r-Math.PI/2,l=r+Math.PI/2,u=t[0]+Math.cos(r)*n*i,c=t[1]-Math.sin(r)*n*i;e.setTripleAt(u,c,u+Math.cos(o)*a,c-Math.sin(o)*a,u+Math.cos(l)*s,c-Math.sin(l)*s,e.length())}function getPerpendicularVector(e,t){var r=[t[0]-e[0],t[1]-e[1]],n=-Math.PI*.5,i=[Math.cos(n)*r[0]-Math.sin(n)*r[1],Math.sin(n)*r[0]+Math.cos(n)*r[1]];return i}function getProjectingAngle(e,t){var r=t===0?e.length()-1:t-1,n=(t+1)%e.length(),i=e.v[r],a=e.v[n],s=getPerpendicularVector(i,a);return Math.atan2(0,1)-Math.atan2(s[1],s[0])}function zigZagCorner(e,t,r,n,i,a,s){var o=getProjectingAngle(t,r),l=t.v[r%t._length],u=t.v[r===0?t._length-1:r-1],c=t.v[(r+1)%t._length],f=a===2?Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)):0,p=a===2?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0;setPoint(e,t.v[r%t._length],o,s,n,p/((i+1)*2),f/((i+1)*2))}function zigZagSegment(e,t,r,n,i,a){for(var s=0;s<n;s+=1){var o=(s+1)/(n+1),l=i===2?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,u=t.normalAngle(o),c=t.point(o);setPoint(e,c,u,a,r,l/((n+1)*2),l/((n+1)*2)),a=-a}return a}ZigZagModifier.prototype.processPath=function(e,t,r,n){var i=e._length,a=shapePool.newElement();if(a.c=e.c,e.c||(i-=1),i===0)return a;var s=-1,o=PolynomialBezier.shapeSegment(e,0);zigZagCorner(a,e,0,t,r,n,s);for(var l=0;l<i;l+=1)s=zigZagSegment(a,o,t,r,n,-s),l===i-1&&!e.c?o=null:o=PolynomialBezier.shapeSegment(e,(l+1)%i),zigZagCorner(a,e,l+1,t,r,n,s);return a},ZigZagModifier.prototype.processShapes=function(e){var t,r,n=this.shapes.length,i,a,s=this.amplitude.v,o=Math.max(0,Math.round(this.frequency.v)),l=this.pointsType.v;if(s!==0){var u,c;for(r=0;r<n;r+=1){if(u=this.shapes[r],c=u.localShapeCollection,!(!u.shape._mdf&&!this._mdf&&!e))for(c.releaseShapes(),u.shape._mdf=!0,t=u.shape.paths.shapes,a=u.shape.paths._length,i=0;i<a;i+=1)c.addShape(this.processPath(t[i],s,o,l));u.shape.paths=u.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(e,t,r){var n=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,n,r),polarOffset(t,n,r)]}function offsetSegment(e,t){var r,n,i,a,s,o,l;l=linearOffset(e.points[0],e.points[1],t),r=l[0],n=l[1],l=linearOffset(e.points[1],e.points[2],t),i=l[0],a=l[1],l=linearOffset(e.points[2],e.points[3],t),s=l[0],o=l[1];var u=lineIntersection(r,n,i,a);u===null&&(u=n);var c=lineIntersection(s,o,i,a);return c===null&&(c=s),new PolynomialBezier(r,u,c,o)}function joinLines(e,t,r,n,i){var a=t.points[3],s=r.points[0];if(n===3||pointEqual(a,s))return a;if(n===2){var o=-t.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,u=lineIntersection(a,polarOffset(a,o+Math.PI/2,100),s,polarOffset(s,o+Math.PI/2,100)),c=u?pointDistance(u,a):pointDistance(a,s)/2,f=polarOffset(a,o,2*c*roundCorner);return e.setXYAt(f[0],f[1],"o",e.length()-1),f=polarOffset(s,l,2*c*roundCorner),e.setTripleAt(s[0],s[1],s[0],s[1],f[0],f[1],e.length()),s}var p=pointEqual(a,t.points[2])?t.points[0]:t.points[2],m=pointEqual(s,r.points[1])?r.points[3]:r.points[1],d=lineIntersection(p,a,s,m);return d&&pointDistance(d,a)<i?(e.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],e.length()),d):a}function getIntersection(e,t){var r=e.intersections(t);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(e,t){var r=e.slice(),n=t.slice(),i=getIntersection(e[e.length-1],t[0]);return i&&(r[e.length-1]=e[e.length-1].split(i[0])[0],n[0]=t[0].split(i[1])[1]),e.length>1&&t.length>1&&(i=getIntersection(e[0],t[t.length-1]),i)?[[e[0].split(i[0])[0]],[t[t.length-1].split(i[1])[1]]]:[r,n]}function pruneIntersections(e){for(var t,r=1;r<e.length;r+=1)t=pruneSegmentIntersection(e[r-1],e[r]),e[r-1]=t[0],e[r]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var r=e.inflectionPoints(),n,i,a,s;if(r.length===0)return[offsetSegment(e,t)];if(r.length===1||floatEqual(r[1],1))return a=e.split(r[0]),n=a[0],i=a[1],[offsetSegment(n,t),offsetSegment(i,t)];a=e.split(r[0]),n=a[0];var o=(r[1]-r[0])/(1-r[0]);return a=a[1].split(o),s=a[0],i=a[1],[offsetSegment(n,t),offsetSegment(s,t),offsetSegment(i,t)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(e,t,r,n){var i=shapePool.newElement();i.c=e.c;var a=e.length();e.c||(a-=1);var s,o,l,u=[];for(s=0;s<a;s+=1)l=PolynomialBezier.shapeSegment(e,s),u.push(offsetSegmentSplit(l,t));if(!e.c)for(s=a-1;s>=0;s-=1)l=PolynomialBezier.shapeSegmentInverted(e,s),u.push(offsetSegmentSplit(l,t));u=pruneIntersections(u);var c=null,f=null;for(s=0;s<u.length;s+=1){var p=u[s];for(f&&(c=joinLines(i,f,p[0],r,n)),f=p[p.length-1],o=0;o<p.length;o+=1)l=p[o],c&&pointEqual(l.points[0],c)?i.setXYAt(l.points[1][0],l.points[1][1],"o",i.length()-1):i.setTripleAt(l.points[0][0],l.points[0][1],l.points[1][0],l.points[1][1],l.points[0][0],l.points[0][1],i.length()),i.setTripleAt(l.points[3][0],l.points[3][1],l.points[3][0],l.points[3][1],l.points[2][0],l.points[2][1],i.length()),c=l.points[3]}return u.length&&joinLines(i,f,u[0][0],r,n),i},OffsetPathModifier.prototype.processShapes=function(e){var t,r,n=this.shapes.length,i,a,s=this.amount.v,o=this.miterLimit.v,l=this.lineJoin;if(s!==0){var u,c;for(r=0;r<n;r+=1){if(u=this.shapes[r],c=u.localShapeCollection,!(!u.shape._mdf&&!this._mdf&&!e))for(c.releaseShapes(),u.shape._mdf=!0,t=u.shape.paths.shapes,a=u.shape.paths._length,i=0;i<a;i+=1)c.addShape(this.processPath(t[i],s,l,o));u.shape.paths=u.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",n="normal",i=t.length,a,s=0;s<i;s+=1)switch(a=t[s].toLowerCase(),a){case"italic":n="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200";break}return{style:n,weight:e.fWeight||r}}var FontManager=function(){var e=5e3,t={w:0,size:0,shapes:[],data:{shapes:[]}},r=[];r=r.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=127988,i=917631,a=917601,s=917626,o=65039,l=8205,u=127462,c=127487,f=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function p(T){var R=T.split(","),S,P=R.length,A=[];for(S=0;S<P;S+=1)R[S]!=="sans-serif"&&R[S]!=="monospace"&&A.push(R[S]);return A.join(",")}function m(T,R){var S=createTag("span");S.setAttribute("aria-hidden",!0),S.style.fontFamily=R;var P=createTag("span");P.innerText="giItT1WQy@!-/#",S.style.position="absolute",S.style.left="-10000px",S.style.top="-10000px",S.style.fontSize="300px",S.style.fontVariant="normal",S.style.fontStyle="normal",S.style.fontWeight="normal",S.style.letterSpacing="0",S.appendChild(P),document.body.appendChild(S);var A=P.offsetWidth;return P.style.fontFamily=p(T)+", "+R,{node:P,w:A,parent:S}}function d(){var T,R=this.fonts.length,S,P,A=R;for(T=0;T<R;T+=1)this.fonts[T].loaded?A-=1:this.fonts[T].fOrigin==="n"||this.fonts[T].origin===0?this.fonts[T].loaded=!0:(S=this.fonts[T].monoCase.node,P=this.fonts[T].monoCase.w,S.offsetWidth!==P?(A-=1,this.fonts[T].loaded=!0):(S=this.fonts[T].sansCase.node,P=this.fonts[T].sansCase.w,S.offsetWidth!==P&&(A-=1,this.fonts[T].loaded=!0)),this.fonts[T].loaded&&(this.fonts[T].sansCase.parent.parentNode.removeChild(this.fonts[T].sansCase.parent),this.fonts[T].monoCase.parent.parentNode.removeChild(this.fonts[T].monoCase.parent)));A!==0&&Date.now()-this.initTime<e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function b(T,R){var S=document.body&&R?"svg":"canvas",P,A=getFontProperties(T);if(S==="svg"){var D=createNS("text");D.style.fontSize="100px",D.setAttribute("font-family",T.fFamily),D.setAttribute("font-style",A.style),D.setAttribute("font-weight",A.weight),D.textContent="1",T.fClass?(D.style.fontFamily="inherit",D.setAttribute("class",T.fClass)):D.style.fontFamily=T.fFamily,R.appendChild(D),P=D}else{var j=new OffscreenCanvas(500,500).getContext("2d");j.font=A.style+" "+A.weight+" 100px "+T.fFamily,P=j}function L(W){return S==="svg"?(P.textContent=W,P.getComputedTextLength()):P.measureText(W).width}return{measureText:L}}function C(T,R){if(!T){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=T.list;return}if(!document.body){this.isLoaded=!0,T.list.forEach(function(Q){Q.helper=b(Q),Q.cache={}}),this.fonts=T.list;return}var S=T.list,P,A=S.length,D=A;for(P=0;P<A;P+=1){var j=!0,L,W;if(S[P].loaded=!1,S[P].monoCase=m(S[P].fFamily,"monospace"),S[P].sansCase=m(S[P].fFamily,"sans-serif"),!S[P].fPath)S[P].loaded=!0,D-=1;else if(S[P].fOrigin==="p"||S[P].origin===3){if(L=document.querySelectorAll('style[f-forigin="p"][f-family="'+S[P].fFamily+'"], style[f-origin="3"][f-family="'+S[P].fFamily+'"]'),L.length>0&&(j=!1),j){var Y=createTag("style");Y.setAttribute("f-forigin",S[P].fOrigin),Y.setAttribute("f-origin",S[P].origin),Y.setAttribute("f-family",S[P].fFamily),Y.type="text/css",Y.innerText="@font-face {font-family: "+S[P].fFamily+"; font-style: normal; src: url('"+S[P].fPath+"');}",R.appendChild(Y)}}else if(S[P].fOrigin==="g"||S[P].origin===1){for(L=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),W=0;W<L.length;W+=1)L[W].href.indexOf(S[P].fPath)!==-1&&(j=!1);if(j){var q=createTag("link");q.setAttribute("f-forigin",S[P].fOrigin),q.setAttribute("f-origin",S[P].origin),q.type="text/css",q.rel="stylesheet",q.href=S[P].fPath,document.body.appendChild(q)}}else if(S[P].fOrigin==="t"||S[P].origin===2){for(L=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),W=0;W<L.length;W+=1)S[P].fPath===L[W].src&&(j=!1);if(j){var Z=createTag("link");Z.setAttribute("f-forigin",S[P].fOrigin),Z.setAttribute("f-origin",S[P].origin),Z.setAttribute("rel","stylesheet"),Z.setAttribute("href",S[P].fPath),R.appendChild(Z)}}S[P].helper=b(S[P],R),S[P].cache={},this.fonts.push(S[P])}D===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function y(T){if(T){this.chars||(this.chars=[]);var R,S=T.length,P,A=this.chars.length,D;for(R=0;R<S;R+=1){for(P=0,D=!1;P<A;)this.chars[P].style===T[R].style&&this.chars[P].fFamily===T[R].fFamily&&this.chars[P].ch===T[R].ch&&(D=!0),P+=1;D||(this.chars.push(T[R]),A+=1)}}}function x(T,R,S){for(var P=0,A=this.chars.length;P<A;){if(this.chars[P].ch===T&&this.chars[P].style===R&&this.chars[P].fFamily===S)return this.chars[P];P+=1}return(typeof T=="string"&&T.charCodeAt(0)!==13||!T)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",T,R,S)),t}function g(T,R,S){var P=this.getFontByName(R),A=T;if(!P.cache[A]){var D=P.helper;if(T===" "){var j=D.measureText("|"+T+"|"),L=D.measureText("||");P.cache[A]=(j-L)/100}else P.cache[A]=D.measureText(T)/100}return P.cache[A]*S}function k(T){for(var R=0,S=this.fonts.length;R<S;){if(this.fonts[R].fName===T)return this.fonts[R];R+=1}return this.fonts[0]}function _(T){var R=0,S=T.charCodeAt(0);if(S>=55296&&S<=56319){var P=T.charCodeAt(1);P>=56320&&P<=57343&&(R=(S-55296)*1024+P-56320+65536)}return R}function E(T,R){var S=T.toString(16)+R.toString(16);return f.indexOf(S)!==-1}function I(T){return T===l}function F(T){return T===o}function z(T){var R=_(T);return R>=u&&R<=c}function O(T){return z(T.substr(0,2))&&z(T.substr(2,2))}function N(T){return r.indexOf(T)!==-1}function V(T,R){var S=_(T.substr(R,2));if(S!==n)return!1;var P=0;for(R+=2;P<5;){if(S=_(T.substr(R,2)),S<a||S>s)return!1;P+=1,R+=2}return _(T.substr(R,2))===i}function H(){this.isLoaded=!0}var G=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};G.isModifier=E,G.isZeroWidthJoiner=I,G.isFlagEmoji=O,G.isRegionalCode=z,G.isCombinedCharacter=N,G.isRegionalFlag=V,G.isVariationSelector=F,G.BLACK_FLAG_CODE_POINT=n;var B={addChars:y,addFonts:C,getCharData:x,getFontByName:k,measureText:g,checkLoadedFonts:d,setIsLoaded:H};return G.prototype=B,G}();function SlotManager(e){this.animationData=e}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e};function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,r=this.renderableComponents.length;for(t=0;t<r;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return e[t]||""}}();function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r=e.ef||[];this.effectElements=[];var n,i=r.length,a;for(n=0;n<i;n+=1)a=new GroupEffect(r[n],t),this.effectElements.push(a)}function GroupEffect(e,t){this.init(e,t)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var r,n=this.data.ef.length,i,a=this.data.ef;for(r=0;r<n;r+=1){switch(i=null,a[r].ty){case 0:i=new SliderEffect(a[r],t,this);break;case 1:i=new AngleEffect(a[r],t,this);break;case 2:i=new ColorEffect(a[r],t,this);break;case 3:i=new PointEffect(a[r],t,this);break;case 4:case 7:i=new CheckboxEffect(a[r],t,this);break;case 10:i=new LayerIndexEffect(a[r],t,this);break;case 11:i=new MaskIndexEffect(a[r],t,this);break;case 5:i=new EffectsManager(a[r],t);break;default:i=new NoValueEffect(a[r]);break}i&&this.effectElements.push(i)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,r=this.data.masksProperties.length;t<r;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var r=t("layer"),n=t("effects"),i=t("shape"),a=t("text"),s=t("comp");this.layerInterface=r(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var o=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(o),this.data.ty===0||this.data.xt?this.compInterface=s(this):this.data.ty===4?(this.layerInterface.shapeInterface=i(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=a(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm),r=this.baseElement||this.layerElement;r.style["mix-blend-mode"]=t},initBaseData:function(t,r,n){this.globalData=r,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,r){var n,i=this.dynamicProperties.length;for(n=0;n<i;n+=1)(r||this._isParent&&this.dynamicProperties[n].propType==="transform")&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}};function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(e){var t,r=this.layers.length,n;for(this.completeLayers=!0,t=r-1;t>=0;t-=1)this.elements[t]||(n=this.layers[t],n.ip-n.st<=e-this.layers[t].st&&n.op-n.st>e-this.layers[t].st&&this.buildItem(t)),this.completeLayers=this.elements[t]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,r=e.length,n,i=this.layers.length;for(t=0;t<r;t+=1)for(n=0;n<i;){if(this.layers[n].id===e[t].id){this.layers[n]=e[t];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var n=this.elements,i=this.layers,a=0,s=i.length;a<s;)i[a].ind==t&&(!n[a]||n[a]===!0?(this.buildItem(a),this.addPendingElement(e)):(r.push(n[a]),n[a].setAsParent(),i[a].parent!==void 0?this.buildElementParenting(e,i[a].parent,r):e.setHierarchy(r))),a+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var n=this.createComp(e[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementById=function(e){var t,r=this.elements.length;for(t=0;t<r;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t=e.shift(),r;if(typeof t=="number")r=this.elements[t];else{var n,i=this.elements.length;for(n=0;n<i;n+=1)if(this.elements[n].data.nm===t){r=this.elements[n];break}}return e.length===0?r:r.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,r=this.finalTransform.mat,n=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<i;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,r.cloneFromProps(t),n=0;n<i;n+=1)r.multiply(this.hierarchy[n].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,r=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<r;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),t=1;t<r;t+=1){var i=this.localTransforms[t].matrix;n.multiply(i)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var a=this.finalTransform.localOpacity;for(t=0;t<r;t+=1)a*=this.localTransforms[t].opacity*.01;this.finalTransform.localOpacity=a}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var r=0,n=t.length;for(r=0;r<n;r+=1)this.localTransforms.push(t[r])}}},globalToLocal:function(t){var r=[];r.push(this.finalTransform);for(var n=!0,i=this.comp;n;)i.finalTransform?(i.data.hasMask&&r.splice(0,0,i.finalTransform),i=i.comp):n=!1;var a,s=r.length,o;for(a=0;a<s;a+=1)o=r[a].mat.applyToPointArray(0,0,0),t=[t[0]-o[0],t[1]-o[1],0];return t},mHelper:new Matrix};function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n=this.globalData.defs,i,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var s,o=this.masksProperties,l=0,u=[],c,f,p=createElementID(),m,d,b,C,y="clipPath",x="clip-path";for(i=0;i<a;i+=1)if((o[i].mode!=="a"&&o[i].mode!=="n"||o[i].inv||o[i].o.k!==100||o[i].o.x)&&(y="mask",x="mask"),(o[i].mode==="s"||o[i].mode==="i")&&l===0?(m=createNS("rect"),m.setAttribute("fill","#ffffff"),m.setAttribute("width",this.element.comp.data.w||0),m.setAttribute("height",this.element.comp.data.h||0),u.push(m)):m=null,s=createNS("path"),o[i].mode==="n")this.viewData[i]={op:PropertyFactory.getProp(this.element,o[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,o[i],3),elem:s,lastPath:""},n.appendChild(s);else{l+=1,s.setAttribute("fill",o[i].mode==="s"?"#000000":"#ffffff"),s.setAttribute("clip-rule","nonzero");var g;if(o[i].x.k!==0?(y="mask",x="mask",C=PropertyFactory.getProp(this.element,o[i].x,0,null,this.element),g=createElementID(),d=createNS("filter"),d.setAttribute("id",g),b=createNS("feMorphology"),b.setAttribute("operator","erode"),b.setAttribute("in","SourceGraphic"),b.setAttribute("radius","0"),d.appendChild(b),n.appendChild(d),s.setAttribute("stroke",o[i].mode==="s"?"#000000":"#ffffff")):(b=null,C=null),this.storedData[i]={elem:s,x:C,expan:b,lastPath:"",lastOperator:"",filterId:g,lastRadius:0},o[i].mode==="i"){f=u.length;var k=createNS("g");for(c=0;c<f;c+=1)k.appendChild(u[c]);var _=createNS("mask");_.setAttribute("mask-type","alpha"),_.setAttribute("id",p+"_"+l),_.appendChild(s),n.appendChild(_),k.setAttribute("mask","url("+getLocationHref()+"#"+p+"_"+l+")"),u.length=0,u.push(k)}else u.push(s);o[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:s,lastPath:"",op:PropertyFactory.getProp(this.element,o[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,o[i],3),invRect:m},this.viewData[i].prop.k||this.drawPath(o[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=createNS(y),a=u.length,i=0;i<a;i+=1)this.maskElement.appendChild(u[i]);l>0&&(this.maskElement.setAttribute("id",p),this.element.maskedElement.setAttribute(x,"url("+getLocationHref()+"#"+p+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t=this.element.finalTransform.mat,r,n=this.masksProperties.length;for(r=0;r<n;r+=1)if((this.viewData[r].prop._mdf||e)&&this.drawPath(this.masksProperties[r],this.viewData[r].prop.v,this.viewData[r]),(this.viewData[r].op._mdf||e)&&this.viewData[r].elem.setAttribute("fill-opacity",this.viewData[r].op.v),this.masksProperties[r].mode!=="n"&&(this.viewData[r].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[r].invRect.setAttribute("transform",t.getInverseMatrix().to2dCSS()),this.storedData[r].x&&(this.storedData[r].x._mdf||e))){var i=this.storedData[r].expan;this.storedData[r].x.v<0?(this.storedData[r].lastOperator!=="erode"&&(this.storedData[r].lastOperator="erode",this.storedData[r].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[r].filterId+")")),i.setAttribute("radius",-this.storedData[r].x.v)):(this.storedData[r].lastOperator!=="dilate"&&(this.storedData[r].lastOperator="dilate",this.storedData[r].elem.setAttribute("filter",null)),this.storedData[r].elem.setAttribute("stroke-width",this.storedData[r].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" ",e},MaskElement.prototype.drawPath=function(e,t,r){var n=" M"+t.v[0][0]+","+t.v[0][1],i,a;for(a=t._length,i=1;i<a;i+=1)n+=" C"+t.o[i-1][0]+","+t.o[i-1][1]+" "+t.i[i][0]+","+t.i[i][1]+" "+t.v[i][0]+","+t.v[i][1];if(t.c&&a>1&&(n+=" C"+t.o[i-1][0]+","+t.o[i-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==n){var s="";r.elem&&(t.c&&(s=e.inv?this.solidPath+n:n),r.elem.setAttribute("d",s)),r.lastPath=n}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={};e.createFilter=t,e.createAlphaToLuminanceFilter=r;function t(n,i){var a=createNS("filter");return a.setAttribute("id",n),i!==!0&&(a.setAttribute("filterUnits","objectBoundingBox"),a.setAttribute("x","0%"),a.setAttribute("y","0%"),a.setAttribute("width","100%"),a.setAttribute("height","100%")),a}function r(){var n=createNS("feColorMatrix");return n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),n}return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var t,r="SourceGraphic",n=e.data.ef?e.data.ef.length:0,i=createElementID(),a=filtersFactory.createFilter(i,!0),s=0;this.filters=[];var o;for(t=0;t<n;t+=1){o=null;var l=e.data.ef[t].ty;if(registeredEffects$1[l]){var u=registeredEffects$1[l].effect;o=new u(a,e.effectsManager.effectElements[t],e,idPrefix+s,r),r=idPrefix+s,registeredEffects$1[l].countsAsEffect&&(s+=1)}o&&this.filters.push(o)}s&&(e.globalData.defs.appendChild(a),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var t,r=this.filters.length,n=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&n.push(this.filters[t]);return n};function registerEffect$1(e,t,r){registeredEffects$1[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var r=createNS("g");r.setAttribute("id",this.layerId),r.appendChild(this.layerElement),t=r,this.globalData.defs.appendChild(r)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var n=createNS("clipPath"),i=createNS("path");i.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var a=createElementID();if(n.setAttribute("id",a),n.appendChild(i),this.globalData.defs.appendChild(n),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+a+")"),s.appendChild(this.layerElement),this.transformedElement=s,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+a+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var r=this.layerId+"_"+t,n,i,a,s;if(t===1||t===3){var o=createNS("mask");o.setAttribute("id",r),o.setAttribute("mask-type",t===3?"luminance":"alpha"),a=createNS("use"),a.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),o.appendChild(a),this.globalData.defs.appendChild(o),!featureSupport.maskType&&t===1&&(o.setAttribute("mask-type","luminance"),n=createElementID(),i=filtersFactory.createFilter(n),this.globalData.defs.appendChild(i),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),s=createNS("g"),s.appendChild(a),o.appendChild(s),s.setAttribute("filter","url("+getLocationHref()+"#"+n+")"))}else if(t===2){var l=createNS("mask");l.setAttribute("id",r),l.setAttribute("mask-type","alpha");var u=createNS("g");l.appendChild(u),n=createElementID(),i=filtersFactory.createFilter(n);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),i.appendChild(c);var f=createNS("feFuncA");f.setAttribute("type","table"),f.setAttribute("tableValues","1.0 0.0"),c.appendChild(f),this.globalData.defs.appendChild(i);var p=createNS("rect");p.setAttribute("width",this.comp.data.w),p.setAttribute("height",this.comp.data.h),p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("fill","#ffffff"),p.setAttribute("opacity","0"),u.setAttribute("filter","url("+getLocationHref()+"#"+n+")"),u.appendChild(p),a=createNS("use"),a.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),u.appendChild(a),featureSupport.maskType||(l.setAttribute("mask-type","luminance"),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),s=createNS("g"),u.appendChild(p),s.appendChild(this.layerElement),u.appendChild(s)),this.globalData.defs.appendChild(l)}this.matteMasks[t]=r}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var e={initElement:function(r,n,i){this.initFrame(),this.initBaseData(r,n,i),this.initTransform(r,n,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var r=this.baseElement||this.layerElement;r.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var r=this.baseElement||this.layerElement;r.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(e)],RenderableDOMElement)})();function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(t){var r,n=this.shapeModifiers.length;for(r=0;r<n;r+=1)this.shapeModifiers[r].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var r=0,n=this.shapeModifiers.length;r<n;)if(this.shapeModifiers[r].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,r=this.shapes.length;for(t=0;t<r;t+=1)this.shapes[t].sh.reset();r=this.shapeModifiers.length;var n;for(t=r-1;t>=0&&(n=this.shapeModifiers[t].processShapes(this._isFirstFrame),!n);t-=1);}},searchProcessedElement:function(t){for(var r=this.processedElements,n=0,i=r.length;n<i;){if(r[n].elem===t)return r[n].pos;n+=1}return 0},addProcessedElement:function(t,r){for(var n=this.processedElements,i=n.length;i;)if(i-=1,n[i].elem===t){n[i].pos=r;return}n.push(new ProcessedElement(t,r))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var n=0,i=e.length;n<i;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(e,t,r,n){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var i,a=t.length||0,s;for(i=0;i<a;i+=1)s=PropertyFactory.getProp(e,t[i].v,0,0,this),this.k=s.k||this.k,this.dataProps[i]={n:t[i].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(e){if(!(this.elem.globalData.frameId===this.frameId&&!e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<r;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",t.p*4);var n=t.k.k[0].s?t.k.k[0].s.length-t.p*4:t.k.k.length-t.p*4;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,n=this.o.length/2,i;r<n;){if(i=Math.abs(e[r*4]-e[t*4+r*2]),i>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r=this.data.p*4,n,i;for(t=0;t<r;t+=1)n=t%4===0?100:255,i=Math.round(this.prop.v[t]*n),this.c[t]!==i&&(this.c[t]=i,this._cmdf=!e);if(this.o.length)for(r=this.prop.v.length,t=this.data.p*4;t<r;t+=1)n=t%2===0?100:1,i=t%2===0?Math.round(this.prop.v[t]*100):this.prop.v[t],this.o[t-this.data.p*4]!==i&&(this.o[t-this.data.p*4]=i,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),n=createNS(t.t===1?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var i=[],a,s,o;for(o=t.g.p*4,s=0;s<o;s+=4)a=createNS("stop"),n.appendChild(a),i.push(a);e.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=n,this.cst=i},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,i,a=createNS("mask"),s=createNS("path");a.appendChild(s);var o=createElementID(),l=createElementID();a.setAttribute("id",l);var u=createNS(e.t===1?"linearGradient":"radialGradient");u.setAttribute("id",o),u.setAttribute("spreadMethod","pad"),u.setAttribute("gradientUnits","userSpaceOnUse"),i=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var c=this.stops;for(n=e.g.p*4;n<i;n+=2)r=createNS("stop"),r.setAttribute("stop-color","rgb(255,255,255)"),u.appendChild(r),c.push(r);s.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),e.ty==="gs"&&(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&s.setAttribute("stroke-miterlimit",e.ml)),this.of=u,this.ms=a,this.ost=c,this.maskId=l,t.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(t,r,n,i){if(r===0)return"";var a=t.o,s=t.i,o=t.v,l,u=" M"+i.applyToPointStringified(o[0][0],o[0][1]);for(l=1;l<r;l+=1)u+=" C"+i.applyToPointStringified(a[l-1][0],a[l-1][1])+" "+i.applyToPointStringified(s[l][0],s[l][1])+" "+i.applyToPointStringified(o[l][0],o[l][1]);return n&&r&&(u+=" C"+i.applyToPointStringified(a[l-1][0],a[l-1][1])+" "+i.applyToPointStringified(s[0][0],s[0][1])+" "+i.applyToPointStringified(o[0][0],o[0][1]),u+="z"),u},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix,r={createRenderFunction:n};function n(f){switch(f.ty){case"fl":return o;case"gf":return u;case"gs":return l;case"st":return c;case"sh":case"el":case"rc":case"sr":return s;case"tr":return i;case"no":return a;default:return null}}function i(f,p,m){(m||p.transform.op._mdf)&&p.transform.container.setAttribute("opacity",p.transform.op.v),(m||p.transform.mProps._mdf)&&p.transform.container.setAttribute("transform",p.transform.mProps.v.to2dCSS())}function a(){}function s(f,p,m){var d,b,C,y,x,g,k=p.styles.length,_=p.lvl,E,I,F,z;for(g=0;g<k;g+=1){if(y=p.sh._mdf||m,p.styles[g].lvl<_){for(I=t.reset(),F=_-p.styles[g].lvl,z=p.transformers.length-1;!y&&F>0;)y=p.transformers[z].mProps._mdf||y,F-=1,z-=1;if(y)for(F=_-p.styles[g].lvl,z=p.transformers.length-1;F>0;)I.multiply(p.transformers[z].mProps.v),F-=1,z-=1}else I=e;if(E=p.sh.paths,b=E._length,y){for(C="",d=0;d<b;d+=1)x=E.shapes[d],x&&x._length&&(C+=buildShapeString(x,x._length,x.c,I));p.caches[g]=C}else C=p.caches[g];p.styles[g].d+=f.hd===!0?"":C,p.styles[g]._mdf=y||p.styles[g]._mdf}}function o(f,p,m){var d=p.style;(p.c._mdf||m)&&d.pElem.setAttribute("fill","rgb("+bmFloor(p.c.v[0])+","+bmFloor(p.c.v[1])+","+bmFloor(p.c.v[2])+")"),(p.o._mdf||m)&&d.pElem.setAttribute("fill-opacity",p.o.v)}function l(f,p,m){u(f,p,m),c(f,p,m)}function u(f,p,m){var d=p.gf,b=p.g._hasOpacity,C=p.s.v,y=p.e.v;if(p.o._mdf||m){var x=f.ty==="gf"?"fill-opacity":"stroke-opacity";p.style.pElem.setAttribute(x,p.o.v)}if(p.s._mdf||m){var g=f.t===1?"x1":"cx",k=g==="x1"?"y1":"cy";d.setAttribute(g,C[0]),d.setAttribute(k,C[1]),b&&!p.g._collapsable&&(p.of.setAttribute(g,C[0]),p.of.setAttribute(k,C[1]))}var _,E,I,F;if(p.g._cmdf||m){_=p.cst;var z=p.g.c;for(I=_.length,E=0;E<I;E+=1)F=_[E],F.setAttribute("offset",z[E*4]+"%"),F.setAttribute("stop-color","rgb("+z[E*4+1]+","+z[E*4+2]+","+z[E*4+3]+")")}if(b&&(p.g._omdf||m)){var O=p.g.o;for(p.g._collapsable?_=p.cst:_=p.ost,I=_.length,E=0;E<I;E+=1)F=_[E],p.g._collapsable||F.setAttribute("offset",O[E*2]+"%"),F.setAttribute("stop-opacity",O[E*2+1])}if(f.t===1)(p.e._mdf||m)&&(d.setAttribute("x2",y[0]),d.setAttribute("y2",y[1]),b&&!p.g._collapsable&&(p.of.setAttribute("x2",y[0]),p.of.setAttribute("y2",y[1])));else{var N;if((p.s._mdf||p.e._mdf||m)&&(N=Math.sqrt(Math.pow(C[0]-y[0],2)+Math.pow(C[1]-y[1],2)),d.setAttribute("r",N),b&&!p.g._collapsable&&p.of.setAttribute("r",N)),p.s._mdf||p.e._mdf||p.h._mdf||p.a._mdf||m){N||(N=Math.sqrt(Math.pow(C[0]-y[0],2)+Math.pow(C[1]-y[1],2)));var V=Math.atan2(y[1]-C[1],y[0]-C[0]),H=p.h.v;H>=1?H=.99:H<=-1&&(H=-.99);var G=N*H,B=Math.cos(V+p.a.v)*G+C[0],T=Math.sin(V+p.a.v)*G+C[1];d.setAttribute("fx",B),d.setAttribute("fy",T),b&&!p.g._collapsable&&(p.of.setAttribute("fx",B),p.of.setAttribute("fy",T))}}}function c(f,p,m){var d=p.style,b=p.d;b&&(b._mdf||m)&&b.dashStr&&(d.pElem.setAttribute("stroke-dasharray",b.dashStr),d.pElem.setAttribute("stroke-dashoffset",b.dashoffset[0])),p.c&&(p.c._mdf||m)&&d.pElem.setAttribute("stroke","rgb("+bmFloor(p.c.v[0])+","+bmFloor(p.c.v[1])+","+bmFloor(p.c.v[2])+")"),(p.o._mdf||m)&&d.pElem.setAttribute("stroke-opacity",p.o.v),(p.w._mdf||m)&&(d.pElem.setAttribute("stroke-width",p.w.v),d.msElem&&d.msElem.setAttribute("stroke-width",p.w.v))}return r}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t=this.shapes.length,r,n,i=this.stylesList.length,a,s=[],o=!1;for(n=0;n<i;n+=1){for(a=this.stylesList[n],o=!1,s.length=0,e=0;e<t;e+=1)r=this.shapes[e],r.styles.indexOf(a)!==-1&&(s.push(r),o=r._isAnimated||o);s.length>1&&o&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,n=new SVGStyleData(e,t),i=n.pElem;if(e.ty==="st")r=new SVGStrokeStyleData(this,e,n);else if(e.ty==="fl")r=new SVGFillStyleData(this,e,n);else if(e.ty==="gf"||e.ty==="gs"){var a=e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;r=new a(this,e,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),i.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))}else e.ty==="no"&&(r=new SVGNoStyleData(this,e,n));return(e.ty==="st"||e.ty==="gs")&&(i.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),i.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),i.setAttribute("fill-opacity","0"),e.lj===1&&i.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&i.setAttribute("fill-rule","evenodd"),e.ln&&i.setAttribute("id",e.ln),e.cl&&i.setAttribute("class",e.cl),e.bm&&(i.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var n=4;e.ty==="rc"?n=5:e.ty==="el"?n=6:e.ty==="sr"&&(n=7);var i=ShapePropertyFactory.getShapeProp(this,e,n,this),a=new SVGShapeData(t,r,i);return this.shapes.push(a),this.addShapeToModifiers(a),this.addToAnimatedContents(e,a),a},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t=e.styles,r,n=this.stylesList.length;for(r=0;r<n;r+=1)t.indexOf(this.stylesList[r])===-1&&!this.stylesList[r].closed&&t.push(this.stylesList[r])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,n,i,a,s){var o=[].concat(a),l,u=e.length-1,c,f,p=[],m=[],d,b,C;for(l=u;l>=0;l-=1){if(C=this.searchProcessedElement(e[l]),C?t[l]=r[C-1]:e[l]._render=s,e[l].ty==="fl"||e[l].ty==="st"||e[l].ty==="gf"||e[l].ty==="gs"||e[l].ty==="no")C?t[l].style.closed=e[l].hd:t[l]=this.createStyleElement(e[l],i),e[l]._render&&t[l].style.pElem.parentNode!==n&&n.appendChild(t[l].style.pElem),p.push(t[l].style);else if(e[l].ty==="gr"){if(!C)t[l]=this.createGroupElement(e[l]);else for(f=t[l].it.length,c=0;c<f;c+=1)t[l].prevViewData[c]=t[l].it[c];this.searchShapes(e[l].it,t[l].it,t[l].prevViewData,t[l].gr,i+1,o,s),e[l]._render&&t[l].gr.parentNode!==n&&n.appendChild(t[l].gr)}else e[l].ty==="tr"?(C||(t[l]=this.createTransformElement(e[l],n)),d=t[l].transform,o.push(d)):e[l].ty==="sh"||e[l].ty==="rc"||e[l].ty==="el"||e[l].ty==="sr"?(C||(t[l]=this.createShapeElement(e[l],o,i)),this.setElementStyles(t[l])):e[l].ty==="tm"||e[l].ty==="rd"||e[l].ty==="ms"||e[l].ty==="pb"||e[l].ty==="zz"||e[l].ty==="op"?(C?(b=t[l],b.closed=!1):(b=ShapeModifiers.getModifier(e[l].ty),b.init(this,e[l]),t[l]=b,this.shapeModifiers.push(b)),m.push(b)):e[l].ty==="rp"&&(C?(b=t[l],b.closed=!0):(b=ShapeModifiers.getModifier(e[l].ty),t[l]=b,b.init(this,e,l,t),this.shapeModifiers.push(b),s=!1),m.push(b));this.addProcessedElement(e[l],l+1)}for(u=p.length,l=0;l<u;l+=1)p[l].closed=!0;for(u=m.length,l=0;l<u;l+=1)m[l].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t=this.animatedContents.length,r;for(e=0;e<t;e+=1)r=this.animatedContents[e],(this._isFirstFrame||r.element._isAnimated)&&r.data!==!0&&r.fn(r.data,r.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(e,t,r,n,i,a){this.o=e,this.sw=t,this.sc=r,this.fc=n,this.m=i,this.p=a,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!n,m:!0,p:!0}}LetterProps.prototype.update=function(e,t,r,n,i,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,s=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,s=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,s=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,s=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,s=!0),a.length&&(this.p[0]!==a[0]||this.p[1]!==a[1]||this.p[4]!==a[4]||this.p[5]!==a[5]||this.p[12]!==a[12]||this.p[13]!==a[13])&&(this.p=a,this._mdf.p=!0,s=!0),s};function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var n,i=this.effectsSequence.length,a=e||this.data.d.k[this.keysIndex].s;for(n=0;n<i;n+=1)r!==this.keysIndex?a=this.effectsSequence[n](a,a.t):a=this.effectsSequence[n](this.currentData,a.t);t!==a&&this.setCurrentData(a),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,n=e.length;r<=n-1&&!(r===n-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t=[],r=0,n=e.length,i,a,s=!1,o=!1,l="";r<n;)s=o,o=!1,i=e.charCodeAt(r),l=e.charAt(r),FontManager.isCombinedCharacter(i)?s=!0:i>=55296&&i<=56319?FontManager.isRegionalFlag(e,r)?l=e.substr(r,14):(a=e.charCodeAt(r+1),a>=56320&&a<=57343&&(FontManager.isModifier(i,a)?(l=e.substr(r,2),s=!0):FontManager.isFlagEmoji(e.substr(r,4))?l=e.substr(r,4):l=e.substr(r,2))):i>56319?(a=e.charCodeAt(r+1),FontManager.isVariationSelector(i)&&(s=!0)):FontManager.isZeroWidthJoiner(i)&&(s=!0,o=!0),s?(t[t.length-1]+=l,s=!1):t.push(l),r+=l.length;return t},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t=this.elem.globalData.fontManager,r=this.data,n=[],i,a,s,o=0,l,u=r.m.g,c=0,f=0,p=0,m=[],d=0,b=0,C,y,x=t.getFontByName(e.f),g,k=0,_=getFontProperties(x);e.fWeight=_.weight,e.fStyle=_.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),a=e.finalText.length,e.finalLineHeight=e.lh;var E=e.tr/1e3*e.finalSize,I;if(e.sz)for(var F=!0,z=e.sz[0],O=e.sz[1],N,V;F;){V=this.buildFinalText(e.t),N=0,d=0,a=V.length,E=e.tr/1e3*e.finalSize;var H=-1;for(i=0;i<a;i+=1)I=V[i].charCodeAt(0),s=!1,V[i]===" "?H=i:(I===13||I===3)&&(d=0,s=!0,N+=e.finalLineHeight||e.finalSize*1.2),t.chars?(g=t.getCharData(V[i],x.fStyle,x.fFamily),k=s?0:g.w*e.finalSize/100):k=t.measureText(V[i],e.f,e.finalSize),d+k>z&&V[i]!==" "?(H===-1?a+=1:i=H,N+=e.finalLineHeight||e.finalSize*1.2,V.splice(i,H===i?1:0,"\r"),H=-1,d=0):(d+=k,d+=E);N+=x.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&O<N?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=V,a=e.finalText.length,F=!1)}d=-E,k=0;var G=0,B;for(i=0;i<a;i+=1)if(s=!1,B=e.finalText[i],I=B.charCodeAt(0),I===13||I===3?(G=0,m.push(d),b=d>b?d:b,d=-2*E,l="",s=!0,p+=1):l=B,t.chars?(g=t.getCharData(B,x.fStyle,t.getFontByName(e.f).fFamily),k=s?0:g.w*e.finalSize/100):k=t.measureText(l,e.f,e.finalSize),B===" "?G+=k+E:(d+=k+E+G,G=0),n.push({l:k,an:k,add:c,n:s,anIndexes:[],val:l,line:p,animatorJustifyOffset:0}),u==2){if(c+=k,l===""||l===" "||i===a-1){for((l===""||l===" ")&&(c-=k);f<=i;)n[f].an=c,n[f].ind=o,n[f].extra=k,f+=1;o+=1,c=0}}else if(u==3){if(c+=k,l===""||i===a-1){for(l===""&&(c-=k);f<=i;)n[f].an=c,n[f].ind=o,n[f].extra=k,f+=1;c=0,o+=1}}else n[o].ind=o,n[o].extra=0,o+=1;if(e.l=n,b=d>b?d:b,m.push(d),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=b,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=m;var T=r.a,R,S;y=T.length;var P,A,D=[];for(C=0;C<y;C+=1){for(R=T[C],R.a.sc&&(e.strokeColorAnim=!0),R.a.sw&&(e.strokeWidthAnim=!0),(R.a.fc||R.a.fh||R.a.fs||R.a.fb)&&(e.fillColorAnim=!0),A=0,P=R.s.b,i=0;i<a;i+=1)S=n[i],S.anIndexes[C]=A,(P==1&&S.val!==""||P==2&&S.val!==""&&S.val!==" "||P==3&&(S.n||S.val==" "||i==a-1)||P==4&&(S.n||i==a-1))&&(R.s.rn===1&&D.push(A),A+=1);r.a[C].s.totalChars=A;var j=-1,L;if(R.s.rn===1)for(i=0;i<a;i+=1)S=n[i],j!=S.anIndexes[C]&&(j=S.anIndexes[C],L=D.splice(Math.floor(Math.random()*D.length),1)[0]),S.anIndexes[C]=L}e.yOffset=e.finalLineHeight||e.finalSize*1.2,e.ls=e.ls||0,e.ascent=x.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=t===void 0?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function n(a,s){this._currentTextLength=-1,this.k=!1,this.data=s,this.elem=a,this.comp=a.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(a),this.s=PropertyFactory.getProp(a,s.s||{k:0},0,0,this),"e"in s?this.e=PropertyFactory.getProp(a,s.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(a,s.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(a,s.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(a,s.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(a,s.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(a,s.a,0,.01,this),this.dynamicProperties.length||this.getValue()}n.prototype={getMult:function(s){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var o=0,l=0,u=1,c=1;this.ne.v>0?o=this.ne.v/100:l=-this.ne.v/100,this.xe.v>0?u=1-this.xe.v/100:c=1+this.xe.v/100;var f=BezierFactory.getBezierEasing(o,l,u,c).get,p=0,m=this.finalS,d=this.finalE,b=this.data.sh;if(b===2)d===m?p=s>=d?1:0:p=e(0,t(.5/(d-m)+(s-m)/(d-m),1)),p=f(p);else if(b===3)d===m?p=s>=d?0:1:p=1-e(0,t(.5/(d-m)+(s-m)/(d-m),1)),p=f(p);else if(b===4)d===m?p=0:(p=e(0,t(.5/(d-m)+(s-m)/(d-m),1)),p<.5?p*=2:p=1-2*(p-.5)),p=f(p);else if(b===5){if(d===m)p=0;else{var C=d-m;s=t(e(0,s+.5-m),d-m);var y=-C/2+s,x=C/2;p=Math.sqrt(1-y*y/(x*x))}p=f(p)}else b===6?(d===m?p=0:(s=t(e(0,s+.5-m),d-m),p=(1+Math.cos(Math.PI+Math.PI*2*s/(d-m)))/2),p=f(p)):(s>=r(m)&&(s-m<0?p=e(0,t(t(d,1)-(m-s),1)):p=e(0,t(d-s,1))),p=f(p));if(this.sm.v!==100){var g=this.sm.v*.01;g===0&&(g=1e-8);var k=.5-g*.5;p<k?p=0:(p=(p-k)/g,p>1&&(p=1))}return p*this.a.v},getValue:function(s){this.iterateDynamicProperties(),this._mdf=s||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,s&&this.data.r===2&&(this.e.v=this._currentTextLength);var o=this.data.r===2?1:100/this.data.totalChars,l=this.o.v/o,u=this.s.v/o+l,c=this.e.v/o+l;if(u>c){var f=u;u=c,c=f}this.finalS=u,this.finalE=c}},extendPrototype([DynamicPropertyContainer],n);function i(a,s,o){return new n(a,s)}return{getTextSelectorProp:i}}();function TextAnimatorDataProperty(e,t,r){var n={propType:!1},i=PropertyFactory.getProp,a=t.a;this.a={r:a.r?i(e,a.r,0,degToRads,r):n,rx:a.rx?i(e,a.rx,0,degToRads,r):n,ry:a.ry?i(e,a.ry,0,degToRads,r):n,sk:a.sk?i(e,a.sk,0,degToRads,r):n,sa:a.sa?i(e,a.sa,0,degToRads,r):n,s:a.s?i(e,a.s,1,.01,r):n,a:a.a?i(e,a.a,1,0,r):n,o:a.o?i(e,a.o,0,.01,r):n,p:a.p?i(e,a.p,1,0,r):n,sw:a.sw?i(e,a.sw,0,0,r):n,sc:a.sc?i(e,a.sc,1,0,r):n,fc:a.fc?i(e,a.fc,1,0,r):n,fh:a.fh?i(e,a.fh,0,0,r):n,fs:a.fs?i(e,a.fs,0,.01,r):n,fb:a.fb?i(e,a.fb,0,.01,r):n,t:a.t?i(e,a.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t=this._textData.a.length,r,n=PropertyFactory.getProp;for(e=0;e<t;e+=1)r=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,r,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,!(!this._mdf&&!this._isFirstFrame&&!t&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var r=this._moreOptions.alignment.v,n=this._animatorsData,i=this._textData,a=this.mHelper,s=this._renderType,o=this.renderedLetters.length,l,u,c,f,p=e.l,m,d,b,C,y,x,g,k,_,E,I,F,z,O,N;if(this._hasMaskedPath){if(N=this._pathData.m,!this._pathData.n||this._pathData._mdf){var V=N.v;this._pathData.r.v&&(V=V.reverse()),m={tLength:0,segments:[]},f=V._length-1;var H;for(F=0,c=0;c<f;c+=1)H=bez.buildBezierData(V.v[c],V.v[c+1],[V.o[c][0]-V.v[c][0],V.o[c][1]-V.v[c][1]],[V.i[c+1][0]-V.v[c+1][0],V.i[c+1][1]-V.v[c+1][1]]),m.tLength+=H.segmentLength,m.segments.push(H),F+=H.segmentLength;c=f,N.v.c&&(H=bez.buildBezierData(V.v[c],V.v[0],[V.o[c][0]-V.v[c][0],V.o[c][1]-V.v[c][1]],[V.i[0][0]-V.v[0][0],V.i[0][1]-V.v[0][1]]),m.tLength+=H.segmentLength,m.segments.push(H),F+=H.segmentLength),this._pathData.pi=m}if(m=this._pathData.pi,d=this._pathData.f.v,g=0,x=1,C=0,y=!0,E=m.segments,d<0&&N.v.c)for(m.tLength<Math.abs(d)&&(d=-Math.abs(d)%m.tLength),g=E.length-1,_=E[g].points,x=_.length-1;d<0;)d+=_[x].partialLength,x-=1,x<0&&(g-=1,_=E[g].points,x=_.length-1);_=E[g].points,k=_[x-1],b=_[x],I=b.partialLength}f=p.length,l=0,u=0;var G=e.finalSize*1.2*.714,B=!0,T,R,S,P,A;P=n.length;var D,j=-1,L,W,Y,q=d,Z=g,Q=x,ae=-1,ie,ne,oe,te,J,ce,de,he,fe="",pe=this.defaultPropsArray,me;if(e.j===2||e.j===1){var se=0,ye=0,ve=e.j===2?-.5:-1,le=0,be=!0;for(c=0;c<f;c+=1)if(p[c].n){for(se&&(se+=ye);le<c;)p[le].animatorJustifyOffset=se,le+=1;se=0,be=!0}else{for(S=0;S<P;S+=1)T=n[S].a,T.t.propType&&(be&&e.j===2&&(ye+=T.t.v*ve),R=n[S].s,D=R.getMult(p[c].anIndexes[S],i.a[S].s.totalChars),D.length?se+=T.t.v*D[0]*ve:se+=T.t.v*D*ve);be=!1}for(se&&(se+=ye);le<c;)p[le].animatorJustifyOffset=se,le+=1}for(c=0;c<f;c+=1){if(a.reset(),ie=1,p[c].n)l=0,u+=e.yOffset,u+=B?1:0,d=q,B=!1,this._hasMaskedPath&&(g=Z,x=Q,_=E[g].points,k=_[x-1],b=_[x],I=b.partialLength,C=0),fe="",he="",ce="",me="",pe=this.defaultPropsArray;else{if(this._hasMaskedPath){if(ae!==p[c].line){switch(e.j){case 1:d+=F-e.lineWidths[p[c].line];break;case 2:d+=(F-e.lineWidths[p[c].line])/2;break}ae=p[c].line}j!==p[c].ind&&(p[j]&&(d+=p[j].extra),d+=p[c].an/2,j=p[c].ind),d+=r[0]*p[c].an*.005;var $=0;for(S=0;S<P;S+=1)T=n[S].a,T.p.propType&&(R=n[S].s,D=R.getMult(p[c].anIndexes[S],i.a[S].s.totalChars),D.length?$+=T.p.v[0]*D[0]:$+=T.p.v[0]*D),T.a.propType&&(R=n[S].s,D=R.getMult(p[c].anIndexes[S],i.a[S].s.totalChars),D.length?$+=T.a.v[0]*D[0]:$+=T.a.v[0]*D);for(y=!0,this._pathData.a.v&&(d=p[0].an*.5+(F-this._pathData.f.v-p[0].an*.5-p[p.length-1].an*.5)*j/(f-1),d+=this._pathData.f.v);y;)C+I>=d+$||!_?(z=(d+$-C)/b.partialLength,W=k.point[0]+(b.point[0]-k.point[0])*z,Y=k.point[1]+(b.point[1]-k.point[1])*z,a.translate(-r[0]*p[c].an*.005,-(r[1]*G)*.01),y=!1):_&&(C+=b.partialLength,x+=1,x>=_.length&&(x=0,g+=1,E[g]?_=E[g].points:N.v.c?(x=0,g=0,_=E[g].points):(C-=b.partialLength,_=null)),_&&(k=b,b=_[x],I=b.partialLength));L=p[c].an/2-p[c].add,a.translate(-L,0,0)}else L=p[c].an/2-p[c].add,a.translate(-L,0,0),a.translate(-r[0]*p[c].an*.005,-r[1]*G*.01,0);for(S=0;S<P;S+=1)T=n[S].a,T.t.propType&&(R=n[S].s,D=R.getMult(p[c].anIndexes[S],i.a[S].s.totalChars),(l!==0||e.j!==0)&&(this._hasMaskedPath?D.length?d+=T.t.v*D[0]:d+=T.t.v*D:D.length?l+=T.t.v*D[0]:l+=T.t.v*D));for(e.strokeWidthAnim&&(oe=e.sw||0),e.strokeColorAnim&&(e.sc?ne=[e.sc[0],e.sc[1],e.sc[2]]:ne=[0,0,0]),e.fillColorAnim&&e.fc&&(te=[e.fc[0],e.fc[1],e.fc[2]]),S=0;S<P;S+=1)T=n[S].a,T.a.propType&&(R=n[S].s,D=R.getMult(p[c].anIndexes[S],i.a[S].s.totalChars),D.length?a.translate(-T.a.v[0]*D[0],-T.a.v[1]*D[1],T.a.v[2]*D[2]):a.translate(-T.a.v[0]*D,-T.a.v[1]*D,T.a.v[2]*D));for(S=0;S<P;S+=1)T=n[S].a,T.s.propType&&(R=n[S].s,D=R.getMult(p[c].anIndexes[S],i.a[S].s.totalChars),D.length?a.scale(1+(T.s.v[0]-1)*D[0],1+(T.s.v[1]-1)*D[1],1):a.scale(1+(T.s.v[0]-1)*D,1+(T.s.v[1]-1)*D,1));for(S=0;S<P;S+=1){if(T=n[S].a,R=n[S].s,D=R.getMult(p[c].anIndexes[S],i.a[S].s.totalChars),T.sk.propType&&(D.length?a.skewFromAxis(-T.sk.v*D[0],T.sa.v*D[1]):a.skewFromAxis(-T.sk.v*D,T.sa.v*D)),T.r.propType&&(D.length?a.rotateZ(-T.r.v*D[2]):a.rotateZ(-T.r.v*D)),T.ry.propType&&(D.length?a.rotateY(T.ry.v*D[1]):a.rotateY(T.ry.v*D)),T.rx.propType&&(D.length?a.rotateX(T.rx.v*D[0]):a.rotateX(T.rx.v*D)),T.o.propType&&(D.length?ie+=(T.o.v*D[0]-ie)*D[0]:ie+=(T.o.v*D-ie)*D),e.strokeWidthAnim&&T.sw.propType&&(D.length?oe+=T.sw.v*D[0]:oe+=T.sw.v*D),e.strokeColorAnim&&T.sc.propType)for(J=0;J<3;J+=1)D.length?ne[J]+=(T.sc.v[J]-ne[J])*D[0]:ne[J]+=(T.sc.v[J]-ne[J])*D;if(e.fillColorAnim&&e.fc){if(T.fc.propType)for(J=0;J<3;J+=1)D.length?te[J]+=(T.fc.v[J]-te[J])*D[0]:te[J]+=(T.fc.v[J]-te[J])*D;T.fh.propType&&(D.length?te=addHueToRGB(te,T.fh.v*D[0]):te=addHueToRGB(te,T.fh.v*D)),T.fs.propType&&(D.length?te=addSaturationToRGB(te,T.fs.v*D[0]):te=addSaturationToRGB(te,T.fs.v*D)),T.fb.propType&&(D.length?te=addBrightnessToRGB(te,T.fb.v*D[0]):te=addBrightnessToRGB(te,T.fb.v*D))}}for(S=0;S<P;S+=1)T=n[S].a,T.p.propType&&(R=n[S].s,D=R.getMult(p[c].anIndexes[S],i.a[S].s.totalChars),this._hasMaskedPath?D.length?a.translate(0,T.p.v[1]*D[0],-T.p.v[2]*D[1]):a.translate(0,T.p.v[1]*D,-T.p.v[2]*D):D.length?a.translate(T.p.v[0]*D[0],T.p.v[1]*D[1],-T.p.v[2]*D[2]):a.translate(T.p.v[0]*D,T.p.v[1]*D,-T.p.v[2]*D));if(e.strokeWidthAnim&&(ce=oe<0?0:oe),e.strokeColorAnim&&(de="rgb("+Math.round(ne[0]*255)+","+Math.round(ne[1]*255)+","+Math.round(ne[2]*255)+")"),e.fillColorAnim&&e.fc&&(he="rgb("+Math.round(te[0]*255)+","+Math.round(te[1]*255)+","+Math.round(te[2]*255)+")"),this._hasMaskedPath){if(a.translate(0,-e.ls),a.translate(0,r[1]*G*.01+u,0),this._pathData.p.v){O=(b.point[1]-k.point[1])/(b.point[0]-k.point[0]);var U=Math.atan(O)*180/Math.PI;b.point[0]<k.point[0]&&(U+=180),a.rotate(-U*Math.PI/180)}a.translate(W,Y,0),d-=r[0]*p[c].an*.005,p[c+1]&&j!==p[c+1].ind&&(d+=p[c].an/2,d+=e.tr*.001*e.finalSize)}else{switch(a.translate(l,u,0),e.ps&&a.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:a.translate(p[c].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[p[c].line]),0,0);break;case 2:a.translate(p[c].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[p[c].line])/2,0,0);break}a.translate(0,-e.ls),a.translate(L,0,0),a.translate(r[0]*p[c].an*.005,r[1]*G*.01,0),l+=p[c].l+e.tr*.001*e.finalSize}s==="html"?fe=a.toCSS():s==="svg"?fe=a.to2dCSS():pe=[a.props[0],a.props[1],a.props[2],a.props[3],a.props[4],a.props[5],a.props[6],a.props[7],a.props[8],a.props[9],a.props[10],a.props[11],a.props[12],a.props[13],a.props[14],a.props[15]],me=ie}o<=c?(A=new LetterProps(me,ce,de,he,fe,pe),this.renderedLetters.push(A),o+=1,this.lettersChangedFlag=!0):(A=this.renderedLetters[c],this.lettersChangedFlag=A.update(me,ce,de,he,fe,pe)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,t){var r,n=t.length,i,a="";for(r=0;r<n;r+=1)t[r].ty==="sh"&&(i=t[r].ks.k,a+=buildShapeString(i,i.i.length,!0,e));return a},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,n,i){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0);break}t.translate(n,i,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(e[0]*255)+","+Math.round(e[1]*255)+","+Math.round(e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,n=[],i="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(i),i=""):i+=e[t],t+=1;return n.push(i),n},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var n=r.it[r.it.length-1];n.s&&(n.s.k[0]=t,n.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var e,t,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var i=r.fWeight,a=r.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",r.t);var s=r.l||[],o=!!this.globalData.fontManager.chars;t=s.length;var l,u=this.mHelper,c="",f=this.data.singleShape,p=0,m=0,d=!0,b=r.tr*.001*r.finalSize;if(f&&!o&&!r.sz){var C=this.textContainer,y="start";switch(r.j){case 1:y="end";break;case 2:y="middle";break;default:y="start";break}C.setAttribute("text-anchor",y),C.setAttribute("letter-spacing",b);var x=this.buildTextContents(r.finalText);for(t=x.length,m=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)l=this.textSpans[e].span||createNS("tspan"),l.textContent=x[e],l.setAttribute("x",0),l.setAttribute("y",m),l.style.display="inherit",C.appendChild(l),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=l,m+=r.finalLineHeight;this.layerElement.appendChild(C)}else{var g=this.textSpans.length,k;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!o||!f||e===0){if(l=g>e?this.textSpans[e].span:createNS(o?"g":"text"),g<=e){if(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=l,o){var _=createNS("g");l.appendChild(_),this.textSpans[e].childSpan=_}this.textSpans[e].span=l,this.layerElement.appendChild(l)}l.style.display="inherit"}if(u.reset(),f&&(s[e].n&&(p=-b,m+=r.yOffset,m+=d?1:0,d=!1),this.applyTextPropertiesToMatrix(r,u,s[e].line,p,m),p+=s[e].l||0,p+=b),o){k=this.globalData.fontManager.getCharData(r.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily);var E;if(k.t===1)E=new SVGCompElement(k.data,this.globalData,this);else{var I=emptyShapeData;k.data&&k.data.shapes&&(I=this.buildShapeData(k.data,r.finalSize)),E=new SVGShapeElement(I,this.globalData,this)}if(this.textSpans[e].glyph){var F=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(F.layerElement),F.destroy()}this.textSpans[e].glyph=E,E._debug=!0,E.prepareFrame(0),E.renderFrame(),this.textSpans[e].childSpan.appendChild(E.layerElement),k.t===1&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else f&&l.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),l.textContent=s[e].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}f&&l&&l.setAttribute("d",c)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t=this.textSpans.length,r;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<t;e+=1)r=this.textSpans[e].glyph,r&&(r.prepareFrame(this.comp.renderedFrame-this.data.st),r._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,t,r=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;t=n.length;var i,a,s;for(e=0;e<t;e+=1)n[e].n||(i=r[e],a=this.textSpans[e].span,s=this.textSpans[e].glyph,s&&s.renderFrame(),i._mdf.m&&a.setAttribute("transform",i.m),i._mdf.o&&a.setAttribute("opacity",i.o),i._mdf.sw&&a.setAttribute("stroke-width",i.sw),i._mdf.sc&&a.setAttribute("stroke",i.sc),i._mdf.fc&&a.setAttribute("fill",i.fc))}};function ISolidElement(e,t,r){this.initElement(e,t,r)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)};function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var i=createElementID();r.setAttribute("id",i),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,r=this.layers.length;for(t=0;t<r;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!(t[e]||this.layers[e].ty===99)){t[e]=!0;var r=this.createItem(this.layers[e]);if(t[e]=r,getExpressionsPlugin()&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt){var n="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(n===-1)return;if(!this.elements[n]||this.elements[n]===!0)this.buildItem(n),this.addPendingElement(r);else{var i=t[n],a=i.getMatte(this.layers[e].tt);r.setMatte(a)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){var n="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,i=this.elements[n],a=i.getMatte(this.layers[t].tt);e.setMatte(a);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(!(this.renderedFrame===e||this.destroyed)){e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var n=0,i;n<t;)this.elements[n]&&this.elements[n]!==!0&&this.elements[n].getBaseElement()&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(r,i):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!t.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var n=createNS("title"),i=createElementID();n.setAttribute("id",i),n.textContent=t.title,this.svgElement.appendChild(n),r+=i}if(t&&t.description){var a=createNS("desc"),s=createElementID();a.setAttribute("id",s),a.textContent=t.description,this.svgElement.appendChild(a),r+=" "+s}r&&this.svgElement.setAttribute("aria-labelledby",r);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(t){var r,n=t.length,i="_";for(r=0;r<n;r+=1)i+=t[r].transform.key+"_";var a=this.sequences[i];return a||(a={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=a,this.sequenceList.push(a)),a},processSequence:function(t,r){for(var n=0,i=t.transforms.length,a=r;n<i&&!r;){if(t.transforms[n].transform.mProps._mdf){a=!0;break}n+=1}if(a)for(t.finalTransform.reset(),n=i-1;n>=0;n-=1)t.finalTransform.multiply(t.transforms[n].transform.mProps.v);t._mdf=a},processSequences:function(t){var r,n=this.sequenceList.length;for(r=0;r<n;r+=1)this.processSequence(this.sequenceList[r],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",r=null,n=null,i=null;function a(){var l=createNS("svg"),u=createNS("filter"),c=createNS("feColorMatrix");return u.setAttribute("id",t),c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),u.appendChild(c),l.appendChild(u),l.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(l.style.display="none"),l}function s(){r||(i=a(),document.body.appendChild(i),r=createTag("canvas"),n=r.getContext("2d"),n.filter="url(#"+t+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}function o(l){return r||s(),r.width=l.width,r.height=l.height,n.filter="url(#"+t+")",r}return{load:s,get:o}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var r=createTag("canvas");return r.width=e,r.height=t,r}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(e){var t,r=e.data.ef?e.data.ef.length:0;this.filters=[];var n;for(t=0;t<r;t+=1){n=null;var i=e.data.ef[t].ty;if(registeredEffects[i]){var a=registeredEffects[i].effect;n=new a(e.effectsManager.effectElements[t],e)}n&&this.filters.push(n)}this.filters.length&&e.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var t,r=this.filters.length,n=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&n.push(this.filters[t]);return n};function registerEffect(e,t){registeredEffects[e]={effect:t}}function CVMaskElement(e,t){this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,n=this.masksProperties.length,i=!1;for(r=0;r<n;r+=1)this.masksProperties[r].mode!=="n"&&(i=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e=this.element.finalTransform.mat,t=this.element.canvasContext,r,n=this.masksProperties.length,i,a,s;for(t.beginPath(),r=0;r<n;r+=1)if(this.masksProperties[r].mode!=="n"){this.masksProperties[r].inv&&(t.moveTo(0,0),t.lineTo(this.element.globalData.compSize.w,0),t.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),t.lineTo(0,this.element.globalData.compSize.h),t.lineTo(0,0)),s=this.viewData[r].v,i=e.applyToPointArray(s.v[0][0],s.v[0][1],0),t.moveTo(i[0],i[1]);var o,l=s._length;for(o=1;o<l;o+=1)a=e.applyToTriplePoints(s.o[o-1],s.i[o],s.v[o]),t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);a=e.applyToTriplePoints(s.o[o-1],s.i[0],s.v[0]),t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}this.element.globalData.renderer.save(!0),t.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,r=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(r);var n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var r=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=r}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0],r=t.getContext("2d");this.clearCanvas(r),r.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],r=t.getContext("2d");this.clearCanvas(r),r.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var n=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(n.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var i=assetLoader.getLumaCanvas(this.canvasContext.canvas),a=i.getContext("2d");a.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(i,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var r=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(r),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(r),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(e,t,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i=4;t.ty==="rc"?i=5:t.ty==="el"?i=6:t.ty==="sr"&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var a,s=r.length,o;for(a=0;a<s;a+=1)r[a].closed||(o={transforms:n.addTransformSequence(r[a].transforms),trNodes:[]},this.styledShapes.push(o),r[a].elements.push(o))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:e.hd===!0},n={};if(e.ty==="fl"||e.ty==="st"?(n.c=PropertyFactory.getProp(this,e.c,1,255,this),n.c.k||(r.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):(e.ty==="gf"||e.ty==="gs")&&(n.s=PropertyFactory.getProp(this,e.s,1,null,this),n.e=PropertyFactory.getProp(this,e.e,1,null,this),n.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,e.g,this)),n.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],e.lj==1&&(r.ml=e.ml),n.w=PropertyFactory.getProp(this,e.w,0,null,this),n.w.k||(r.wi=n.w.v),e.d){var i=new DashProperty(this,e.d,"canvas",this);n.d=i,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(e){var t={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}};return t},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,n,i){var a,s=e.length-1,o,l,u=[],c=[],f,p,m,d=[].concat(i);for(a=s;a>=0;a-=1){if(f=this.searchProcessedElement(e[a]),f?t[a]=r[f-1]:e[a]._shouldRender=n,e[a].ty==="fl"||e[a].ty==="st"||e[a].ty==="gf"||e[a].ty==="gs")f?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],d),u.push(t[a].style);else if(e[a].ty==="gr"){if(!f)t[a]=this.createGroupElement(e[a]);else for(l=t[a].it.length,o=0;o<l;o+=1)t[a].prevViewData[o]=t[a].it[o];this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,n,d)}else e[a].ty==="tr"?(f||(m=this.createTransformElement(e[a]),t[a]=m),d.push(t[a]),this.addTransformToStyleList(t[a])):e[a].ty==="sh"||e[a].ty==="rc"||e[a].ty==="el"||e[a].ty==="sr"?f||(t[a]=this.createShapeElement(e[a])):e[a].ty==="tm"||e[a].ty==="rd"||e[a].ty==="pb"||e[a].ty==="zz"||e[a].ty==="op"?(f?(p=t[a],p.closed=!1):(p=ShapeModifiers.getModifier(e[a].ty),p.init(this,e[a]),t[a]=p,this.shapeModifiers.push(p)),c.push(p)):e[a].ty==="rp"&&(f?(p=t[a],p.closed=!0):(p=ShapeModifiers.getModifier(e[a].ty),t[a]=p,p.init(this,e,a,t),this.shapeModifiers.push(p),n=!1),c.push(p));this.addProcessedElement(e[a],a+1)}for(this.removeTransformFromStyleList(),this.closeStyles(u),s=c.length,a=0;a<s;a+=1)c[a].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t=this.stylesList.length,r,n,i,a,s,o,l=this.globalData.renderer,u=this.globalData.canvasContext,c,f;for(e=0;e<t;e+=1)if(f=this.stylesList[e],c=f.type,!((c==="st"||c==="gs")&&f.wi===0||!f.data._shouldRender||f.coOp===0||this.globalData.currentGlobalAlpha===0)){for(l.save(),s=f.elements,c==="st"||c==="gs"?(l.ctxStrokeStyle(c==="st"?f.co:f.grd),l.ctxLineWidth(f.wi),l.ctxLineCap(f.lc),l.ctxLineJoin(f.lj),l.ctxMiterLimit(f.ml||0)):l.ctxFillStyle(c==="fl"?f.co:f.grd),l.ctxOpacity(f.coOp),c!=="st"&&c!=="gs"&&u.beginPath(),l.ctxTransform(f.preTransforms.finalTransform.props),n=s.length,r=0;r<n;r+=1){for((c==="st"||c==="gs")&&(u.beginPath(),f.da&&(u.setLineDash(f.da),u.lineDashOffset=f.do)),o=s[r].trNodes,a=o.length,i=0;i<a;i+=1)o[i].t==="m"?u.moveTo(o[i].p[0],o[i].p[1]):o[i].t==="c"?u.bezierCurveTo(o[i].pts[0],o[i].pts[1],o[i].pts[2],o[i].pts[3],o[i].pts[4],o[i].pts[5]):u.closePath();(c==="st"||c==="gs")&&(l.ctxStroke(),f.da&&u.setLineDash(this.dashResetter))}c!=="st"&&c!=="gs"&&this.globalData.renderer.ctxFill(f.r),l.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,n){var i,a=t.length-1,s;for(s=e,i=a;i>=0;i-=1)t[i].ty==="tr"?(s=r[i].transform,this.renderShapeTransform(e,s)):t[i].ty==="sh"||t[i].ty==="el"||t[i].ty==="rc"||t[i].ty==="sr"?this.renderPath(t[i],r[i]):t[i].ty==="fl"?this.renderFill(t[i],r[i],s):t[i].ty==="st"?this.renderStroke(t[i],r[i],s):t[i].ty==="gf"||t[i].ty==="gs"?this.renderGradientFill(t[i],r[i],s):t[i].ty==="gr"?this.renderShape(s,t[i].it,r[i].it):t[i].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r=e.trNodes,n=t.paths,i,a,s,o=n._length;r.length=0;var l=e.transforms.finalTransform;for(s=0;s<o;s+=1){var u=n.shapes[s];if(u&&u.v){for(a=u._length,i=1;i<a;i+=1)i===1&&r.push({t:"m",p:l.applyToPointArray(u.v[0][0],u.v[0][1],0)}),r.push({t:"c",pts:l.applyToTriplePoints(u.o[i-1],u.i[i],u.v[i])});a===1&&r.push({t:"m",p:l.applyToPointArray(u.v[0][0],u.v[0][1],0)}),u.c&&a&&(r.push({t:"c",pts:l.applyToTriplePoints(u.o[i-1],u.i[0],u.v[0])}),r.push({t:"z"}))}}e.trNodes=r}},CVShapeElement.prototype.renderPath=function(e,t){if(e.hd!==!0&&e._shouldRender){var r,n=t.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var n=t.style,i;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||e.t!==1&&(t.h._mdf||t.a._mdf)){var a=this.globalData.canvasContext,s=t.s.v,o=t.e.v;if(e.t===1)i=a.createLinearGradient(s[0],s[1],o[0],o[1]);else{var l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)),u=Math.atan2(o[1]-s[1],o[0]-s[0]),c=t.h.v;c>=1?c=.99:c<=-1&&(c=-.99);var f=l*c,p=Math.cos(u+t.a.v)*f+s[0],m=Math.sin(u+t.a.v)*f+s[1];i=a.createRadialGradient(p,m,0,s[0],s[1],l)}var d,b=e.g.p,C=t.g.c,y=1;for(d=0;d<b;d+=1)t.g._hasOpacity&&t.g._collapsable&&(y=t.g.o[d*2+1]),i.addColorStop(C[d*4]/100,"rgba("+C[d*4+1]+","+C[d*4+2]+","+C[d*4+3]+","+y+")");n.grd=i}n.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var n=t.style,i=t.d;i&&(i._mdf||this._isFirstFrame)&&(n.da=i.dashArray,n.do=i.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n=this.globalData.fontManager.getFontByName(e.f),i,a,s=e.l,o=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,a=e.finalText.length;var l,u,c,f,p,m,d,b,C,y,x=this.data.singleShape,g=e.tr*.001*e.finalSize,k=0,_=0,E=!0,I=0;for(i=0;i<a;i+=1){l=this.globalData.fontManager.getCharData(e.finalText[i],n.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),u=l&&l.data||{},o.reset(),x&&s[i].n&&(k=-g,_+=e.yOffset,_+=E?1:0,E=!1),p=u.shapes?u.shapes[0].it:[],d=p.length,o.scale(e.finalSize/100,e.finalSize/100),x&&this.applyTextPropertiesToMatrix(e,o,s[i].line,k,_),C=createSizedArray(d-1);var F=0;for(m=0;m<d;m+=1)if(p[m].ty==="sh"){for(f=p[m].ks.k.i.length,b=p[m].ks.k,y=[],c=1;c<f;c+=1)c===1&&y.push(o.applyToX(b.v[0][0],b.v[0][1],0),o.applyToY(b.v[0][0],b.v[0][1],0)),y.push(o.applyToX(b.o[c-1][0],b.o[c-1][1],0),o.applyToY(b.o[c-1][0],b.o[c-1][1],0),o.applyToX(b.i[c][0],b.i[c][1],0),o.applyToY(b.i[c][0],b.i[c][1],0),o.applyToX(b.v[c][0],b.v[c][1],0),o.applyToY(b.v[c][0],b.v[c][1],0));y.push(o.applyToX(b.o[c-1][0],b.o[c-1][1],0),o.applyToY(b.o[c-1][0],b.o[c-1][1],0),o.applyToX(b.i[0][0],b.i[0][1],0),o.applyToY(b.i[0][0],b.i[0][1],0),o.applyToX(b.v[0][0],b.v[0][1],0),o.applyToY(b.v[0][0],b.v[0][1],0)),C[F]=y,F+=1}x&&(k+=s[i].l,k+=g),this.textSpans[I]?this.textSpans[I].elem=C:this.textSpans[I]={elem:C},I+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var e=this.canvasContext;e.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var t,r,n,i,a,s,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;r=l.length;var u,c=null,f=null,p=null,m,d,b=this.globalData.renderer;for(t=0;t<r;t+=1)if(!l[t].n){if(u=o[t],u&&(b.save(),b.ctxTransform(u.p),b.ctxOpacity(u.o)),this.fill){for(u&&u.fc?c!==u.fc&&(b.ctxFillStyle(u.fc),c=u.fc):c!==this.values.fill&&(c=this.values.fill,b.ctxFillStyle(this.values.fill)),m=this.textSpans[t].elem,i=m.length,this.globalData.canvasContext.beginPath(),n=0;n<i;n+=1)for(d=m[n],s=d.length,this.globalData.canvasContext.moveTo(d[0],d[1]),a=2;a<s;a+=6)this.globalData.canvasContext.bezierCurveTo(d[a],d[a+1],d[a+2],d[a+3],d[a+4],d[a+5]);this.globalData.canvasContext.closePath(),b.ctxFill()}if(this.stroke){for(u&&u.sw?p!==u.sw&&(p=u.sw,b.ctxLineWidth(u.sw)):p!==this.values.sWidth&&(p=this.values.sWidth,b.ctxLineWidth(this.values.sWidth)),u&&u.sc?f!==u.sc&&(f=u.sc,b.ctxStrokeStyle(u.sc)):f!==this.values.stroke&&(f=this.values.stroke,b.ctxStrokeStyle(this.values.stroke)),m=this.textSpans[t].elem,i=m.length,this.globalData.canvasContext.beginPath(),n=0;n<i;n+=1)for(d=m[n],s=d.length,this.globalData.canvasContext.moveTo(d[0],d[1]),a=2;a<s;a+=6)this.globalData.canvasContext.bezierCurveTo(d[a],d[a+1],d[a+2],d[a+3],d[a+4],d[a+5]);this.globalData.canvasContext.closePath(),b.ctxStroke()}u&&this.globalData.renderer.restore()}};function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t=e.getContext("2d"),r=this.img.width,n=this.img.height,i=r/n,a=this.assetData.w/this.assetData.h,s,o,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;i>a&&l==="xMidYMid slice"||i<a&&l!=="xMidYMid slice"?(o=n,s=o*a):(s=r,o=s/a),t.drawImage(this.img,(r-s)/2,(n-o)/2,s,o,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(e,t,r){this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){e[0]===1&&e[1]===0&&e[4]===0&&e[5]===1&&e[12]===0&&e[13]===0||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,t,r,n){this.canvasContext.fillRect(e,t,r,n)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){this.reset();var r,n;e?(r=e,n=t,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr);var i,a;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var s=this.renderConfig.preserveAspectRatio.split(" "),o=s[1]||"meet",l=s[0]||"xMidYMid",u=l.substr(0,4),c=l.substr(4);i=r/n,a=this.transformCanvas.w/this.transformCanvas.h,a>i&&o==="meet"||a<i&&o==="slice"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),u==="xMid"&&(a<i&&o==="meet"||a>i&&o==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:u==="xMax"&&(a<i&&o==="meet"||a>i&&o==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,c==="YMid"&&(a>i&&o==="meet"||a<i&&o==="slice")?this.transformCanvas.ty=(n-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:c==="YMax"&&(a>i&&o==="meet"||a<i&&o==="slice")?this.transformCanvas.ty=(n-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var e,t=this.layers?this.layers.length:0;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if(!(this.renderedFrame===e&&this.renderConfig.clearCanvas===!0&&!t||this.destroyed||e===-1)){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var r,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!(t[e]||this.layers[e].ty===99)){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var e,t=15;for(e=0;e<t;e+=1){var r=new CanvasContext;this.stack[e]=r}this._length=t,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var e=this._length*2,t=0;for(t=this._length;t<e;t+=1)this.stack[t]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var t=this.stack[this.cArrPos],r=t.transform,n,i=this.cTr.props;for(n=0;n<16;n+=1)i[n]=r[n];if(e){this.nativeContext.restore();var a=this.stack[this.cArrPos+1];this.appliedFillStyle=a.fillStyle,this.appliedStrokeStyle=a.strokeStyle,this.appliedLineWidth=a.lineWidth,this.appliedLineCap=a.lineCap,this.appliedLineJoin=a.lineJoin,this.appliedMiterLimit=a.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(e||t.opacity!==-1&&this.currentOpacity!==t.opacity)&&(this.nativeContext.globalAlpha=t.opacity,this.currentOpacity=t.opacity),this.currentFillStyle=t.fillStyle,this.currentStrokeStyle=t.strokeStyle,this.currentLineWidth=t.lineWidth,this.currentLineCap=t.lineCap,this.currentLineJoin=t.lineJoin,this.currentMiterLimit=t.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r=this.stack[this.cArrPos],n;for(n=0;n<16;n+=1)r.transform[n]=t[n];this.cArrPos+=1;var i=this.stack[this.cArrPos];i.opacity=r.opacity,i.fillStyle=r.fillStyle,i.strokeStyle=r.strokeStyle,i.lineWidth=r.lineWidth,i.lineCap=r.lineCap,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var r=t.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(e){var t=this.stack[this.cArrPos].opacity;t*=e<0?0:e,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,t,r,n){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,t,r,n)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip();var t,r=this.layers.length;for(t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var e,t=this.layers.length;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:t&&t.clearCanvas!==void 0?t.clearCanvas:!0,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var r=this.finalTransform.mat.toCSS();t.transform=r,t.webkitTransform=r}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(e,t,r){this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?(e=createNS("rect"),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(e=createTag("div"),e.style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)};function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r=e.sh.v,n=e.transformers,i,a=r._length,s,o,l,u;if(!(a<=1)){for(i=0;i<a-1;i+=1)s=this.getTransformedPoint(n,r.v[i]),o=this.getTransformedPoint(n,r.o[i]),l=this.getTransformedPoint(n,r.i[i+1]),u=this.getTransformedPoint(n,r.v[i+1]),this.checkBounds(s,o,l,u,t);r.c&&(s=this.getTransformedPoint(n,r.v[i]),o=this.getTransformedPoint(n,r.o[i]),l=this.getTransformedPoint(n,r.i[0]),u=this.getTransformedPoint(n,r.v[0]),this.checkBounds(s,o,l,u,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,n,i){this.getBoundsOfCurve(e,t,r,n);var a=this.shapeBoundingBox;i.x=bmMin(a.left,i.x),i.xMax=bmMax(a.right,i.xMax),i.y=bmMin(a.top,i.y),i.yMax=bmMax(a.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,n){for(var i=[[e[0],n[0]],[e[1],n[1]]],a,s,o,l,u,c,f,p=0;p<2;++p)s=6*e[p]-12*t[p]+6*r[p],a=-3*e[p]+9*t[p]-9*r[p]+3*n[p],o=3*t[p]-3*e[p],s|=0,a|=0,o|=0,a===0&&s===0||(a===0?(l=-o/s,l>0&&l<1&&i[p].push(this.calculateF(l,e,t,r,n,p))):(u=s*s-4*o*a,u>=0&&(c=(-s+bmSqrt(u))/(2*a),c>0&&c<1&&i[p].push(this.calculateF(c,e,t,r,n,p)),f=(-s-bmSqrt(u))/(2*a),f>0&&f<1&&i[p].push(this.calculateF(f,e,t,r,n,p)))));this.shapeBoundingBox.left=bmMin.apply(null,i[0]),this.shapeBoundingBox.top=bmMin.apply(null,i[1]),this.shapeBoundingBox.right=bmMax.apply(null,i[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,i[1])},HShapeElement.prototype.calculateF=function(e,t,r,n,i,a){return bmPow(1-e,3)*t[a]+3*bmPow(1-e,2)*e*r[a]+3*(1-e)*bmPow(e,2)*n[a]+bmPow(e,3)*i[a]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var n=0;n<e.keyframes.length;n+=1){var i=e.keyframes[n].s;i>r&&(r=i)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,i="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=i,n.webkitTransform=i}}};function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var n=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",n.fClass)this.innerElem.className=n.fClass;else{t.fontFamily=n.fFamily;var i=e.fWeight,a=e.fStyle;t.fontStyle=a,t.fontWeight=i}var s,o,l=e.l;o=l.length;var u,c,f,p=this.mHelper,m,d="",b=0;for(s=0;s<o;s+=1){if(this.globalData.fontManager.chars?(this.textPaths[b]?u=this.textPaths[b]:(u=createNS("path"),u.setAttribute("stroke-linecap",lineCapEnum[1]),u.setAttribute("stroke-linejoin",lineJoinEnum[2]),u.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[b]?(c=this.textSpans[b],f=c.children[0]):(c=createTag("div"),c.style.lineHeight=0,f=createNS("svg"),f.appendChild(u),styleDiv(c)))):this.isMasked?u=this.textPaths[b]?this.textPaths[b]:createNS("text"):this.textSpans[b]?(c=this.textSpans[b],u=this.textPaths[b]):(c=createTag("span"),styleDiv(c),u=createTag("span"),styleDiv(u),c.appendChild(u)),this.globalData.fontManager.chars){var C=this.globalData.fontManager.getCharData(e.finalText[s],n.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),y;if(C?y=C.data:y=null,p.reset(),y&&y.shapes&&y.shapes.length&&(m=y.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),d=this.createPathShape(p,m),u.setAttribute("d",d)),this.isMasked)this.innerElem.appendChild(u);else{if(this.innerElem.appendChild(c),y&&y.shapes){document.body.appendChild(f);var x=f.getBBox();f.setAttribute("width",x.width+2),f.setAttribute("height",x.height+2),f.setAttribute("viewBox",x.x-1+" "+(x.y-1)+" "+(x.width+2)+" "+(x.height+2));var g=f.style,k="translate("+(x.x-1)+"px,"+(x.y-1)+"px)";g.transform=k,g.webkitTransform=k,l[s].yOffset=x.y-1}else f.setAttribute("width",1),f.setAttribute("height",1);c.appendChild(f)}}else if(u.textContent=l[s].val,u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(u);else{this.innerElem.appendChild(c);var _=u.style,E="translate3d(0,"+-e.finalSize/1.2+"px,0)";_.transform=E,_.webkitTransform=E}this.isMasked?this.textSpans[b]=u:this.textSpans[b]=c,this.textSpans[b].style.display="block",this.textPaths[b]=u,b+=1}for(;b<this.textSpans.length;)this.textSpans[b].style.display="none",b+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var r,n,i=0,a=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;n=s.length;var o,l,u;for(r=0;r<n;r+=1)s[r].n?i+=1:(l=this.textSpans[r],u=this.textPaths[r],o=a[i],i+=1,o._mdf.m&&(this.isMasked?l.setAttribute("transform",o.m):(l.style.webkitTransform=o.m,l.style.transform=o.m)),l.style.opacity=o.o,o.sw&&o._mdf.sw&&u.setAttribute("stroke-width",o.sw),o.sc&&o._mdf.sc&&u.setAttribute("stroke",o.sc),o.fc&&o._mdf.fc&&(u.setAttribute("fill",o.fc),u.style.color=o.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var c=this.innerElem.getBBox();this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.svgElement.setAttribute("width",c.width)),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.svgElement.setAttribute("height",c.height));var f=1;if(this.currentBBox.w!==c.width+f*2||this.currentBBox.h!==c.height+f*2||this.currentBBox.x!==c.x-f||this.currentBBox.y!==c.y-f){this.currentBBox.w=c.width+f*2,this.currentBBox.h=c.height+f*2,this.currentBBox.x=c.x-f,this.currentBBox.y=c.y-f,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var p="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=p,e.webkitTransform=p}}}};function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var i,a=e.ks.or.k.length;for(i=0;i<a;i+=1)e.ks.or.k[i].to=null,e.ks.or.k[i].ti=null}this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t=this.comp.threeDElements.length,r,n,i;for(e=0;e<t;e+=1)if(r=this.comp.threeDElements[e],r.type==="3d"){n=r.perspectiveElem.style,i=r.container.style;var a=this.pe.v+"px",s="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=a,n.webkitPerspective=a,i.transformOrigin=s,i.mozTransformOrigin=s,i.webkitTransformOrigin=s,n.transform=o,n.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e=this._isFirstFrame,t,r;if(this.hierarchy)for(r=this.hierarchy.length,t=0;t<r;t+=1)e=this.hierarchy[t].finalTransform.mProp._mdf||e;if(e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=this.hierarchy.length-1,t=r;t>=0;t-=1){var n=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;this.p?i=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:i=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var a=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),s=[i[0]/a,i[1]/a,i[2]/a],o=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],o),u=Math.atan2(s[0],-s[2]);this.mat.rotateY(u).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var c=!this._prevMat.equals(this.mat);if((c||this.pe._mdf)&&this.comp.threeDElements){r=this.comp.threeDElements.length;var f,p,m;for(t=0;t<r;t+=1)if(f=this.comp.threeDElements[t],f.type==="3d"){if(c){var d=this.mat.toCSS();m=f.container.style,m.transform=d,m.webkitTransform=d}this.pe._mdf&&(p=f.perspectiveElem.style,p.perspective=this.pe.v+"px",p.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var n=this.layers[t];if(!n.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var i=0,a,s,o;i<t;)this.elements[i]&&this.elements[i]!==!0&&this.elements[i].getBaseElement&&(s=this.elements[i],o=this.layers[i].ddd?this.getThreeDContainerByPos(i):s.getBaseElement(),a=o||a),i+=1;a?(!n.ddd||!this.supports3d)&&this.layerElement.insertBefore(r,a):(!n.ddd||!this.supports3d)&&this.layerElement.appendChild(r)}else this.addTo3dContainer(r,t)}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r=createTag("div"),n,i;styleDiv(r);var a=createTag("div");if(styleDiv(a),t==="3d"){n=r.style,n.width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var s="50% 50%";n.webkitTransformOrigin=s,n.mozTransformOrigin=s,n.transformOrigin=s,i=a.style;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";i.transform=o,i.webkitTransform=o}r.appendChild(a);var l={container:a,perspectiveElem:r,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t=this.layers.length,r,n="";for(e=0;e<t;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(n!=="3d"&&(n="3d",r=this.createThreeDContainer(e,"3d")),r.endPos=Math.max(r.endPos,e)):(n!=="2d"&&(n="2d",r=this.createThreeDContainer(e,"2d")),r.endPos=Math.max(r.endPos,e));for(t=this.threeDElements.length,e=t-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,n=this.threeDElements.length;r<n;){if(t<=this.threeDElements[r].endPos){for(var i=this.threeDElements[r].startPos,a;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(a=this.elements[i].getBaseElement()),i+=1;a?this.threeDElements[r].container.insertBefore(e,a):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,n=t.style;n.width=e.w+"px",n.height=e.h+"px",this.resizerElem=t,styleDiv(t),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),n.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var a=createNS("defs");i.appendChild(a),this.data=e,this.setupGlobalData(e,i),this.globalData.defs=a,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,r=e/t,n=this.globalData.compSize.w/this.globalData.compSize.h,i,a,s,o;n>r?(i=e/this.globalData.compSize.w,a=e/this.globalData.compSize.w,s=0,o=(t-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(i=t/this.globalData.compSize.h,a=t/this.globalData.compSize.h,s=(e-this.globalData.compSize.w*(t/this.globalData.compSize.h))/2,o=0);var l=this.resizerElem.style;l.webkitTransform="matrix3d("+i+",0,0,0,0,"+a+",0,0,0,0,1,0,"+s+","+o+",0,1)",l.transform=l.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e=this.globalData.compSize.w,t=this.globalData.compSize.h,r,n=this.threeDElements.length;for(r=0;r<n;r+=1){var i=this.threeDElements[r].perspectiveElem.style;i.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))+"px",i.perspective=i.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,n=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var i=this.createComp(e[t],n,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}};function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r=0,n;r<t;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(e,n):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(){return function(e){function t(r){for(var n=0,i=e.layers.length;n<i;){if(e.layers[n].nm===r||e.layers[n].ind===r)return e.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t}}();function _typeof$2(e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(e)}function seedRandom(e,t){var r=this,n=256,i=6,a=52,s="random",o=t.pow(n,i),l=t.pow(2,a),u=l*2,c=n-1,f;function p(g,k,_){var E=[];k=k===!0?{entropy:!0}:k||{};var I=C(b(k.entropy?[g,x(e)]:g===null?y():g,3),E),F=new m(E),z=function(){for(var N=F.g(i),V=o,H=0;N<l;)N=(N+H)*n,V*=n,H=F.g(1);for(;N>=u;)N/=2,V/=2,H>>>=1;return(N+H)/V};return z.int32=function(){return F.g(4)|0},z.quick=function(){return F.g(4)/4294967296},z.double=z,C(x(F.S),e),(k.pass||_||function(O,N,V,H){return H&&(H.S&&d(H,F),O.state=function(){return d(F,{})}),V?(t[s]=O,N):O})(z,I,"global"in k?k.global:this==t,k.state)}t["seed"+s]=p;function m(g){var k,_=g.length,E=this,I=0,F=E.i=E.j=0,z=E.S=[];for(_||(g=[_++]);I<n;)z[I]=I++;for(I=0;I<n;I++)z[I]=z[F=c&F+g[I%_]+(k=z[I])],z[F]=k;E.g=function(O){for(var N,V=0,H=E.i,G=E.j,B=E.S;O--;)N=B[H=c&H+1],V=V*n+B[c&(B[H]=B[G=c&G+N])+(B[G]=N)];return E.i=H,E.j=G,V}}function d(g,k){return k.i=g.i,k.j=g.j,k.S=g.S.slice(),k}function b(g,k){var _=[],E=_typeof$2(g),I;if(k&&E=="object")for(I in g)try{_.push(b(g[I],k-1))}catch{}return _.length?_:E=="string"?g:g+"\0"}function C(g,k){for(var _=g+"",E,I=0;I<_.length;)k[c&I]=c&(E^=k[c&I]*19)+_.charCodeAt(I++);return x(k)}function y(){try{var g=new Uint8Array(n);return(r.crypto||r.msCrypto).getRandomValues(g),x(g)}catch{var k=r.navigator,_=k&&k.plugins;return[+new Date,r,_,r.screen,x(e)]}}function x(g){return String.fromCharCode.apply(0,g)}C(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return e==="number"||t instanceof Number||e==="boolean"||e==="string"}function $bm_neg(e){var t=_typeof$1(e);if(t==="number"||e instanceof Number||t==="boolean")return-e;if($bm_isInstanceOfArray(e)){var r,n=e.length,i=[];for(r=0;r<n;r+=1)i[r]=-e[r];return i}return e.propType?e.v:-e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof$1(e),n=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(n,t)||r==="string"||n==="string")return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return e=e.slice(0),e[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var i=0,a=e.length,s=t.length,o=[];i<a||i<s;)(typeof e[i]=="number"||e[i]instanceof Number)&&(typeof t[i]=="number"||t[i]instanceof Number)?o[i]=e[i]+t[i]:o[i]=t[i]===void 0?e[i]:e[i]||t[i],i+=1;return o}return 0}var add=sum;function sub(e,t){var r=_typeof$1(e),n=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(n,t))return r==="string"&&(e=parseInt(e,10)),n==="string"&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return e=e.slice(0),e[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var i=0,a=e.length,s=t.length,o=[];i<a||i<s;)(typeof e[i]=="number"||e[i]instanceof Number)&&(typeof t[i]=="number"||t[i]instanceof Number)?o[i]=e[i]-t[i]:o[i]=t[i]===void 0?e[i]:e[i]||t[i],i+=1;return o}return 0}function mul(e,t){var r=_typeof$1(e),n=_typeof$1(t),i;if(isNumerable(r,e)&&isNumerable(n,t))return e*t;var a,s;if($bm_isInstanceOfArray(e)&&isNumerable(n,t)){for(s=e.length,i=createTypedArray("float32",s),a=0;a<s;a+=1)i[a]=e[a]*t;return i}if(isNumerable(r,e)&&$bm_isInstanceOfArray(t)){for(s=t.length,i=createTypedArray("float32",s),a=0;a<s;a+=1)i[a]=e*t[a];return i}return 0}function div(e,t){var r=_typeof$1(e),n=_typeof$1(t),i;if(isNumerable(r,e)&&isNumerable(n,t))return e/t;var a,s;if($bm_isInstanceOfArray(e)&&isNumerable(n,t)){for(s=e.length,i=createTypedArray("float32",s),a=0;a<s;a+=1)i[a]=e[a]/t;return i}if(isNumerable(r,e)&&$bm_isInstanceOfArray(t)){for(s=t.length,i=createTypedArray("float32",s),a=0;a<s;a+=1)i[a]=e/t[a];return i}return 0}function mod(e,t){return typeof e=="string"&&(e=parseInt(e,10)),typeof t=="string"&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var n=r;r=t,t=n}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if(typeof e=="number"||e instanceof Number)return t=t||0,Math.abs(e-t);t||(t=helperLengthArray);var r,n=Math.min(e.length,t.length),i=0;for(r=0;r<n;r+=1)i+=Math.pow(t[r]-e[r],2);return Math.sqrt(i)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t=e[0],r=e[1],n=e[2],i=Math.max(t,r,n),a=Math.min(t,r,n),s,o,l=(i+a)/2;if(i===a)s=0,o=0;else{var u=i-a;switch(o=l>.5?u/(2-i-a):u/(i+a),i){case t:s=(r-n)/u+(r<n?6:0);break;case r:s=(n-t)/u+2;break;case n:s=(t-r)/u+4;break}s/=6}return[s,o,l,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t=e[0],r=e[1],n=e[2],i,a,s;if(r===0)i=n,s=n,a=n;else{var o=n<.5?n*(1+r):n+r-n*r,l=2*n-o;i=hue2rgb(l,o,t+1/3),a=hue2rgb(l,o,t),s=hue2rgb(l,o,t-1/3)}return[i,a,s,e[3]]}function linear(e,t,r,n,i){if((n===void 0||i===void 0)&&(n=t,i=r,t=0,r=1),r<t){var a=r;r=t,t=a}if(e<=t)return n;if(e>=r)return i;var s=r===t?0:(e-t)/(r-t);if(!n.length)return n+(i-n)*s;var o,l=n.length,u=createTypedArray("float32",l);for(o=0;o<l;o+=1)u[o]=n[o]+(i[o]-n[o])*s;return u}function random(e,t){if(t===void 0&&(e===void 0?(e=0,t=1):(t=e,e=void 0)),t.length){var r,n=t.length;e||(e=createTypedArray("float32",n));var i=createTypedArray("float32",n),a=BMMath.random();for(r=0;r<n;r+=1)i[r]=e[r]+a*(t[r]-e[r]);return i}e===void 0&&(e=0);var s=BMMath.random();return e+s*(t-e)}function createPath(e,t,r,n){var i,a=e.length,s=shapePool.newElement();s.setPathData(!!n,a);var o=[0,0],l,u;for(i=0;i<a;i+=1)l=t&&t[i]?t[i]:o,u=r&&r[i]?r[i]:o,s.setTripleAt(e[i][0],e[i][1],u[0]+e[i][0],u[1]+e[i][1],l[0]+e[i][0],l[1]+e[i][1],i,!0);return s}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function e(t,r){var n,i,a=this.pv.length?this.pv.length:1,s=createTypedArray("float32",a);t=5;var o=Math.floor(time*t);for(n=0,i=0;n<o;){for(i=0;i<a;i+=1)s[i]+=-r+r*2*BMMath.random();n+=1}var l=time*t,u=l-Math.floor(l),c=createTypedArray("float32",a);if(a>1){for(i=0;i<a;i+=1)c[i]=this.pv[i]+s[i]+(-r+r*2*BMMath.random())*u;return c}return this.pv+s[0]+(-r+r*2*BMMath.random())*u}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads,i=-Math.atan2(r[1],r[2])/degToRads;return[i,n,0]}function easeOut(e,t,r,n,i){return applyEase(easeOutBez,e,t,r,n,i)}function easeIn(e,t,r,n,i){return applyEase(easeInBez,e,t,r,n,i)}function ease(e,t,r,n,i){return applyEase(easeInOutBez,e,t,r,n,i)}function applyEase(e,t,r,n,i,a){i===void 0?(i=r,a=n):t=(t-r)/(n-r),t>1?t=1:t<0&&(t=0);var s=e(t);if($bm_isInstanceOfArray(i)){var o,l=i.length,u=createTypedArray("float32",l);for(o=0;o<l;o+=1)u[o]=(a[o]-i[o])*s+i[o];return u}return(a-i)*s+i}function nearestKey(e){var t,r=data.k.length,n,i;if(!data.k.length||typeof data.k[0]=="number")n=0,i=0;else if(n=-1,e*=elem.comp.globalData.frameRate,e<data.k[0].t)n=1,i=data.k[0].t;else{for(t=0;t<r-1;t+=1)if(e===data.k[t].t){n=t+1,i=data.k[t].t;break}else if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(n=t+2,i=data.k[t+1].t):(n=t+1,i=data.k[t].t);break}n===-1&&(n=t+1,i=data.k[t].t)}var a={};return a.index=n,a.time=i/elem.comp.globalData.frameRate,a}function key(e){var t,r,n;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var i=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(n=i.length,r=0;r<n;r+=1)t[r]=i[r],t.value[r]=i[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return!e&&e!==0&&(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return typeof value=="string"?t===void 0?value.substring(e):value.substring(e,t):""}function substr(e,t){return typeof value=="string"?t===void 0?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=e===0?0:Math.floor(time*e)/e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={};e.initExpressions=t,e.resetFrame=ExpressionManager.resetFrame;function t(r){var n=0,i=[];function a(){n+=1}function s(){n-=1,n===0&&l()}function o(u){i.indexOf(u)===-1&&i.push(u)}function l(){var u,c=i.length;for(u=0;u<c;u+=1)i[u].release();i.length=0}r.renderer.compInterface=CompExpressionInterface(r.renderer),r.renderer.globalData.projectInterface.registerComposition(r.renderer),r.renderer.globalData.pushExpression=a,r.renderer.globalData.popExpression=s,r.renderer.globalData.registerExpressionProperty=o}return e}(),MaskManagerInterface=function(){function e(r,n){this._mask=r,this._data=n}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var t=function(n){var i=createSizedArray(n.viewData.length),a,s=n.viewData.length;for(a=0;a<s;a+=1)i[a]=new e(n.viewData[a],n.masksProperties[a]);var o=function(u){for(a=0;a<s;){if(n.masksProperties[a].nm===u)return i[a];a+=1}return null};return o};return t}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(s,o,l){Object.defineProperty(s,"velocity",{get:function(){return o.getVelocityAtTime(o.comp.currentFrame)}}),s.numKeys=o.keyframes?o.keyframes.length:0,s.key=function(u){if(!s.numKeys)return 0;var c="";"s"in o.keyframes[u-1]?c=o.keyframes[u-1].s:"e"in o.keyframes[u-2]?c=o.keyframes[u-2].e:c=o.keyframes[u-2].s;var f=l==="unidimensional"?new Number(c):Object.assign({},c);return f.time=o.keyframes[u-1].t/o.elem.comp.globalData.frameRate,f.value=l==="unidimensional"?c[0]:c,f},s.valueAtTime=o.getValueAtTime,s.speedAtTime=o.getSpeedAtTime,s.velocityAtTime=o.getVelocityAtTime,s.propertyGroup=o.propertyGroup}function n(s){(!s||!("pv"in s))&&(s=e);var o=1/s.mult,l=s.pv*o,u=new Number(l);return u.value=l,r(u,s,"unidimensional"),function(){return s.k&&s.getValue(),l=s.v*o,u.value!==l&&(u=new Number(l),u.value=l,u[0]=l,r(u,s,"unidimensional")),u}}function i(s){(!s||!("pv"in s))&&(s=t);var o=1/s.mult,l=s.data&&s.data.l||s.pv.length,u=createTypedArray("float32",l),c=createTypedArray("float32",l);return u.value=c,r(u,s,"multidimensional"),function(){s.k&&s.getValue();for(var f=0;f<l;f+=1)c[f]=s.v[f]*o,u[f]=c[f];return u}}function a(){return e}return function(s){return s?s.propType==="unidimensional"?n(s):i(s):a}}(),TransformExpressionInterface=function(){return function(e){function t(s){switch(s){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)});var r,n,i,a;return e.p?a=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),n=ExpressionPropertyInterface(e.py),e.pz&&(i=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?a():[r(),n(),i?i():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t}}(),LayerExpressionInterface=function(){function e(u){var c=new Matrix;if(u!==void 0){var f=this._elem.finalTransform.mProp.getValueAtTime(u);f.clone(c)}else{var p=this._elem.finalTransform.mProp;p.applyToMatrix(c)}return c}function t(u,c){var f=this.getMatrix(c);return f.props[12]=0,f.props[13]=0,f.props[14]=0,this.applyPoint(f,u)}function r(u,c){var f=this.getMatrix(c);return this.applyPoint(f,u)}function n(u,c){var f=this.getMatrix(c);return f.props[12]=0,f.props[13]=0,f.props[14]=0,this.invertPoint(f,u)}function i(u,c){var f=this.getMatrix(c);return this.invertPoint(f,u)}function a(u,c){if(this._elem.hierarchy&&this._elem.hierarchy.length){var f,p=this._elem.hierarchy.length;for(f=0;f<p;f+=1)this._elem.hierarchy[f].finalTransform.mProp.applyToMatrix(u)}return u.applyToPointArray(c[0],c[1],c[2]||0)}function s(u,c){if(this._elem.hierarchy&&this._elem.hierarchy.length){var f,p=this._elem.hierarchy.length;for(f=0;f<p;f+=1)this._elem.hierarchy[f].finalTransform.mProp.applyToMatrix(u)}return u.inversePoint(c)}function o(u){var c=new Matrix;if(c.reset(),this._elem.finalTransform.mProp.applyToMatrix(c),this._elem.hierarchy&&this._elem.hierarchy.length){var f,p=this._elem.hierarchy.length;for(f=0;f<p;f+=1)this._elem.hierarchy[f].finalTransform.mProp.applyToMatrix(c);return c.inversePoint(u)}return c.inversePoint(u)}function l(){return[1,1,1,1]}return function(u){var c;function f(b){m.mask=new MaskManagerInterface(b,u)}function p(b){m.effect=b}function m(b){switch(b){case"ADBE Root Vectors Group":case"Contents":case 2:return m.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return c;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return m.effect;case"ADBE Text Properties":return m.textInterface;default:return null}}m.getMatrix=e,m.invertPoint=s,m.applyPoint=a,m.toWorld=r,m.toWorldVec=t,m.fromWorld=i,m.fromWorldVec=n,m.toComp=r,m.fromComp=o,m.sampleImage=l,m.sourceRectAtTime=u.sourceRectAtTime.bind(u),m._elem=u,c=TransformExpressionInterface(u.finalTransform.mProp);var d=getDescriptor(c,"anchorPoint");return Object.defineProperties(m,{hasParent:{get:function(){return u.hierarchy.length}},parent:{get:function(){return u.hierarchy[0].layerInterface}},rotation:getDescriptor(c,"rotation"),scale:getDescriptor(c,"scale"),position:getDescriptor(c,"position"),opacity:getDescriptor(c,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return c}},active:{get:function(){return u.isInRange}}}),m.startTime=u.data.st,m.index=u.data.ind,m.source=u.data.refId,m.height=u.data.ty===0?u.data.h:100,m.width=u.data.ty===0?u.data.w:100,m.inPoint=u.data.ip/u.comp.globalData.frameRate,m.outPoint=u.data.op/u.comp.globalData.frameRate,m._name=u.data.nm,m.registerMaskInterface=f,m.registerEffectsInterface=p,m}}(),propertyGroupFactory=function(){return function(e,t){return function(r){return r=r===void 0?1:r,r<=0?e:t(r-1)}}}(),PropertyInterface=function(){return function(e,t){var r={_name:e};function n(i){return i=i===void 0?1:i,i<=0?r:t(i-1)}return n}}(),EffectsExpressionInterface=function(){var e={createEffectsInterface:t};function t(i,a){if(i.effectsManager){var s=[],o=i.data.ef,l,u=i.effectsManager.effectElements.length;for(l=0;l<u;l+=1)s.push(r(o[l],i.effectsManager.effectElements[l],a,i));var c=i.data.ef||[],f=function(m){for(l=0,u=c.length;l<u;){if(m===c[l].nm||m===c[l].mn||m===c[l].ix)return s[l];l+=1}return null};return Object.defineProperty(f,"numProperties",{get:function(){return c.length}}),f}return null}function r(i,a,s,o){function l(m){for(var d=i.ef,b=0,C=d.length;b<C;){if(m===d[b].nm||m===d[b].mn||m===d[b].ix)return d[b].ty===5?c[b]:c[b]();b+=1}throw new Error}var u=propertyGroupFactory(l,s),c=[],f,p=i.ef.length;for(f=0;f<p;f+=1)i.ef[f].ty===5?c.push(r(i.ef[f],a.effectElements[f],a.effectElements[f].propertyGroup,o)):c.push(n(a.effectElements[f],i.ef[f].ty,o,u));return i.mn==="ADBE Color Control"&&Object.defineProperty(l,"color",{get:function(){return c[0]()}}),Object.defineProperties(l,{numProperties:{get:function(){return i.np}},_name:{value:i.nm},propertyGroup:{value:u}}),l.enabled=i.en!==0,l.active=l.enabled,l}function n(i,a,s,o){var l=ExpressionPropertyInterface(i.p);function u(){return a===10?s.comp.compInterface(i.p.v):l()}return i.p.setGroupProperty&&i.p.setGroupProperty(PropertyInterface("",o)),u}return e}(),ShapePathInterface=function(){return function(t,r,n){var i=r.sh;function a(o){return o==="Shape"||o==="shape"||o==="Path"||o==="path"||o==="ADBE Vector Shape"||o===2?a.path:null}var s=propertyGroupFactory(a,n);return i.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(a,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),a}}(),ShapeExpressionInterface=function(){function e(d,b,C){var y=[],x,g=d?d.length:0;for(x=0;x<g;x+=1)d[x].ty==="gr"?y.push(r(d[x],b[x],C)):d[x].ty==="fl"?y.push(n(d[x],b[x],C)):d[x].ty==="st"?y.push(s(d[x],b[x],C)):d[x].ty==="tm"?y.push(o(d[x],b[x],C)):d[x].ty==="tr"||(d[x].ty==="el"?y.push(u(d[x],b[x],C)):d[x].ty==="sr"?y.push(c(d[x],b[x],C)):d[x].ty==="sh"?y.push(ShapePathInterface(d[x],b[x],C)):d[x].ty==="rc"?y.push(f(d[x],b[x],C)):d[x].ty==="rd"?y.push(p(d[x],b[x],C)):d[x].ty==="rp"?y.push(m(d[x],b[x],C)):d[x].ty==="gf"?y.push(i(d[x],b[x],C)):y.push(a(d[x],b[x])));return y}function t(d,b,C){var y,x=function(_){for(var E=0,I=y.length;E<I;){if(y[E]._name===_||y[E].mn===_||y[E].propertyIndex===_||y[E].ix===_||y[E].ind===_)return y[E];E+=1}return typeof _=="number"?y[_-1]:null};x.propertyGroup=propertyGroupFactory(x,C),y=e(d.it,b.it,x.propertyGroup),x.numProperties=y.length;var g=l(d.it[d.it.length-1],b.it[b.it.length-1],x.propertyGroup);return x.transform=g,x.propertyIndex=d.cix,x._name=d.nm,x}function r(d,b,C){var y=function(_){switch(_){case"ADBE Vectors Group":case"Contents":case 2:return y.content;default:return y.transform}};y.propertyGroup=propertyGroupFactory(y,C);var x=t(d,b,y.propertyGroup),g=l(d.it[d.it.length-1],b.it[b.it.length-1],y.propertyGroup);return y.content=x,y.transform=g,Object.defineProperty(y,"_name",{get:function(){return d.nm}}),y.numProperties=d.np,y.propertyIndex=d.ix,y.nm=d.nm,y.mn=d.mn,y}function n(d,b,C){function y(x){return x==="Color"||x==="color"?y.color:x==="Opacity"||x==="opacity"?y.opacity:null}return Object.defineProperties(y,{color:{get:ExpressionPropertyInterface(b.c)},opacity:{get:ExpressionPropertyInterface(b.o)},_name:{value:d.nm},mn:{value:d.mn}}),b.c.setGroupProperty(PropertyInterface("Color",C)),b.o.setGroupProperty(PropertyInterface("Opacity",C)),y}function i(d,b,C){function y(x){return x==="Start Point"||x==="start point"?y.startPoint:x==="End Point"||x==="end point"?y.endPoint:x==="Opacity"||x==="opacity"?y.opacity:null}return Object.defineProperties(y,{startPoint:{get:ExpressionPropertyInterface(b.s)},endPoint:{get:ExpressionPropertyInterface(b.e)},opacity:{get:ExpressionPropertyInterface(b.o)},type:{get:function(){return"a"}},_name:{value:d.nm},mn:{value:d.mn}}),b.s.setGroupProperty(PropertyInterface("Start Point",C)),b.e.setGroupProperty(PropertyInterface("End Point",C)),b.o.setGroupProperty(PropertyInterface("Opacity",C)),y}function a(){function d(){return null}return d}function s(d,b,C){var y=propertyGroupFactory(I,C),x=propertyGroupFactory(E,y);function g(F){Object.defineProperty(E,d.d[F].nm,{get:ExpressionPropertyInterface(b.d.dataProps[F].p)})}var k,_=d.d?d.d.length:0,E={};for(k=0;k<_;k+=1)g(k),b.d.dataProps[k].p.setGroupProperty(x);function I(F){return F==="Color"||F==="color"?I.color:F==="Opacity"||F==="opacity"?I.opacity:F==="Stroke Width"||F==="stroke width"?I.strokeWidth:null}return Object.defineProperties(I,{color:{get:ExpressionPropertyInterface(b.c)},opacity:{get:ExpressionPropertyInterface(b.o)},strokeWidth:{get:ExpressionPropertyInterface(b.w)},dash:{get:function(){return E}},_name:{value:d.nm},mn:{value:d.mn}}),b.c.setGroupProperty(PropertyInterface("Color",y)),b.o.setGroupProperty(PropertyInterface("Opacity",y)),b.w.setGroupProperty(PropertyInterface("Stroke Width",y)),I}function o(d,b,C){function y(g){return g===d.e.ix||g==="End"||g==="end"?y.end:g===d.s.ix?y.start:g===d.o.ix?y.offset:null}var x=propertyGroupFactory(y,C);return y.propertyIndex=d.ix,b.s.setGroupProperty(PropertyInterface("Start",x)),b.e.setGroupProperty(PropertyInterface("End",x)),b.o.setGroupProperty(PropertyInterface("Offset",x)),y.propertyIndex=d.ix,y.propertyGroup=C,Object.defineProperties(y,{start:{get:ExpressionPropertyInterface(b.s)},end:{get:ExpressionPropertyInterface(b.e)},offset:{get:ExpressionPropertyInterface(b.o)},_name:{value:d.nm}}),y.mn=d.mn,y}function l(d,b,C){function y(g){return d.a.ix===g||g==="Anchor Point"?y.anchorPoint:d.o.ix===g||g==="Opacity"?y.opacity:d.p.ix===g||g==="Position"?y.position:d.r.ix===g||g==="Rotation"||g==="ADBE Vector Rotation"?y.rotation:d.s.ix===g||g==="Scale"?y.scale:d.sk&&d.sk.ix===g||g==="Skew"?y.skew:d.sa&&d.sa.ix===g||g==="Skew Axis"?y.skewAxis:null}var x=propertyGroupFactory(y,C);return b.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",x)),b.transform.mProps.p.setGroupProperty(PropertyInterface("Position",x)),b.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",x)),b.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",x)),b.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",x)),b.transform.mProps.sk&&(b.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",x)),b.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",x))),b.transform.op.setGroupProperty(PropertyInterface("Opacity",x)),Object.defineProperties(y,{opacity:{get:ExpressionPropertyInterface(b.transform.mProps.o)},position:{get:ExpressionPropertyInterface(b.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(b.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(b.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(b.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(b.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(b.transform.mProps.sa)},_name:{value:d.nm}}),y.ty="tr",y.mn=d.mn,y.propertyGroup=C,y}function u(d,b,C){function y(k){return d.p.ix===k?y.position:d.s.ix===k?y.size:null}var x=propertyGroupFactory(y,C);y.propertyIndex=d.ix;var g=b.sh.ty==="tm"?b.sh.prop:b.sh;return g.s.setGroupProperty(PropertyInterface("Size",x)),g.p.setGroupProperty(PropertyInterface("Position",x)),Object.defineProperties(y,{size:{get:ExpressionPropertyInterface(g.s)},position:{get:ExpressionPropertyInterface(g.p)},_name:{value:d.nm}}),y.mn=d.mn,y}function c(d,b,C){function y(k){return d.p.ix===k?y.position:d.r.ix===k?y.rotation:d.pt.ix===k?y.points:d.or.ix===k||k==="ADBE Vector Star Outer Radius"?y.outerRadius:d.os.ix===k?y.outerRoundness:d.ir&&(d.ir.ix===k||k==="ADBE Vector Star Inner Radius")?y.innerRadius:d.is&&d.is.ix===k?y.innerRoundness:null}var x=propertyGroupFactory(y,C),g=b.sh.ty==="tm"?b.sh.prop:b.sh;return y.propertyIndex=d.ix,g.or.setGroupProperty(PropertyInterface("Outer Radius",x)),g.os.setGroupProperty(PropertyInterface("Outer Roundness",x)),g.pt.setGroupProperty(PropertyInterface("Points",x)),g.p.setGroupProperty(PropertyInterface("Position",x)),g.r.setGroupProperty(PropertyInterface("Rotation",x)),d.ir&&(g.ir.setGroupProperty(PropertyInterface("Inner Radius",x)),g.is.setGroupProperty(PropertyInterface("Inner Roundness",x))),Object.defineProperties(y,{position:{get:ExpressionPropertyInterface(g.p)},rotation:{get:ExpressionPropertyInterface(g.r)},points:{get:ExpressionPropertyInterface(g.pt)},outerRadius:{get:ExpressionPropertyInterface(g.or)},outerRoundness:{get:ExpressionPropertyInterface(g.os)},innerRadius:{get:ExpressionPropertyInterface(g.ir)},innerRoundness:{get:ExpressionPropertyInterface(g.is)},_name:{value:d.nm}}),y.mn=d.mn,y}function f(d,b,C){function y(k){return d.p.ix===k?y.position:d.r.ix===k?y.roundness:d.s.ix===k||k==="Size"||k==="ADBE Vector Rect Size"?y.size:null}var x=propertyGroupFactory(y,C),g=b.sh.ty==="tm"?b.sh.prop:b.sh;return y.propertyIndex=d.ix,g.p.setGroupProperty(PropertyInterface("Position",x)),g.s.setGroupProperty(PropertyInterface("Size",x)),g.r.setGroupProperty(PropertyInterface("Rotation",x)),Object.defineProperties(y,{position:{get:ExpressionPropertyInterface(g.p)},roundness:{get:ExpressionPropertyInterface(g.r)},size:{get:ExpressionPropertyInterface(g.s)},_name:{value:d.nm}}),y.mn=d.mn,y}function p(d,b,C){function y(k){return d.r.ix===k||k==="Round Corners 1"?y.radius:null}var x=propertyGroupFactory(y,C),g=b;return y.propertyIndex=d.ix,g.rd.setGroupProperty(PropertyInterface("Radius",x)),Object.defineProperties(y,{radius:{get:ExpressionPropertyInterface(g.rd)},_name:{value:d.nm}}),y.mn=d.mn,y}function m(d,b,C){function y(k){return d.c.ix===k||k==="Copies"?y.copies:d.o.ix===k||k==="Offset"?y.offset:null}var x=propertyGroupFactory(y,C),g=b;return y.propertyIndex=d.ix,g.c.setGroupProperty(PropertyInterface("Copies",x)),g.o.setGroupProperty(PropertyInterface("Offset",x)),Object.defineProperties(y,{copies:{get:ExpressionPropertyInterface(g.c)},offset:{get:ExpressionPropertyInterface(g.o)},_name:{value:d.nm}}),y.mn=d.mn,y}return function(d,b,C){var y;function x(k){if(typeof k=="number")return k=k===void 0?1:k,k===0?C:y[k-1];for(var _=0,E=y.length;_<E;){if(y[_]._name===k)return y[_];_+=1}return null}function g(){return C}return x.propertyGroup=propertyGroupFactory(x,g),y=e(d,b,x.propertyGroup),x.numProperties=y.length,x._name="Contents",x}}(),TextExpressionInterface=function(){return function(e){var t;function r(n){switch(n){case"ADBE Text Document":return r.sourceText;default:return null}}return Object.defineProperty(r,"sourceText",{get:function(){e.textProperty.getValue();var i=e.textProperty.currentData.t;return(!t||i!==t.value)&&(t=new String(i),t.value=i||new String(i),Object.defineProperty(t,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),t}}),r}}();function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}var FootageInterface=function(){var e=function(n){var i="",a=n.getFootageData();function s(){return i="",a=n.getFootageData(),o}function o(l){if(a[l])return i=l,a=a[l],_typeof(a)==="object"?o:a;var u=l.indexOf(i);if(u!==-1){var c=parseInt(l.substr(u+i.length),10);return a=a[c],_typeof(a)==="object"?o:a}return""}return s},t=function(n){function i(a){return a==="Outline"?i.outlineInterface():null}return i._name="Outline",i.outlineInterface=e(n),i};return function(r){function n(i){return i==="Data"?n.dataInterface:null}return n._name="Data",n.dataInterface=t(r),n}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers=function(){function e(s,o,l){o.x&&(l.k=!0,l.x=!0,l.initiateExpression=ExpressionManager.initiateExpression,l.effectsSequence.push(l.initiateExpression(s,o,l).bind(l)))}function t(s){return s*=this.elem.globalData.frameRate,s-=this.offsetTime,s!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<s?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(s,this._cachingAtTime),this._cachingAtTime.lastFrame=s),this._cachingAtTime.value}function r(s){var o=-.01,l=this.getValueAtTime(s),u=this.getValueAtTime(s+o),c=0;if(l.length){var f;for(f=0;f<l.length;f+=1)c+=Math.pow(u[f]-l[f],2);c=Math.sqrt(c)*100}else c=0;return c}function n(s){if(this.vel!==void 0)return this.vel;var o=-.001,l=this.getValueAtTime(s),u=this.getValueAtTime(s+o),c;if(l.length){c=createTypedArray("float32",l.length);var f;for(f=0;f<l.length;f+=1)c[f]=(u[f]-l[f])/o}else c=(u-l)/o;return c}function i(){return this.pv}function a(s){this.propertyGroup=s}return{searchExpressions:e,getSpeedAtTime:r,getVelocityAtTime:n,getValueAtTime:t,getStaticValueAtTime:i,setGroupProperty:a}}();function addPropertyDecorator(){function e(p,m,d){if(!this.k||!this.keyframes)return this.pv;p=p?p.toLowerCase():"";var b=this.comp.renderedFrame,C=this.keyframes,y=C[C.length-1].t;if(b<=y)return this.pv;var x,g;d?(m?x=Math.abs(y-this.elem.comp.globalData.frameRate*m):x=Math.max(0,y-this.elem.data.ip),g=y-x):((!m||m>C.length-1)&&(m=C.length-1),g=C[C.length-1-m].t,x=y-g);var k,_,E;if(p==="pingpong"){var I=Math.floor((b-g)/x);if(I%2!==0)return this.getValueAtTime((x-(b-g)%x+g)/this.comp.globalData.frameRate,0)}else if(p==="offset"){var F=this.getValueAtTime(g/this.comp.globalData.frameRate,0),z=this.getValueAtTime(y/this.comp.globalData.frameRate,0),O=this.getValueAtTime(((b-g)%x+g)/this.comp.globalData.frameRate,0),N=Math.floor((b-g)/x);if(this.pv.length){for(E=new Array(F.length),_=E.length,k=0;k<_;k+=1)E[k]=(z[k]-F[k])*N+O[k];return E}return(z-F)*N+O}else if(p==="continue"){var V=this.getValueAtTime(y/this.comp.globalData.frameRate,0),H=this.getValueAtTime((y-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(E=new Array(V.length),_=E.length,k=0;k<_;k+=1)E[k]=V[k]+(V[k]-H[k])*((b-y)/this.comp.globalData.frameRate)/5e-4;return E}return V+(V-H)*((b-y)/.001)}return this.getValueAtTime(((b-g)%x+g)/this.comp.globalData.frameRate,0)}function t(p,m,d){if(!this.k)return this.pv;p=p?p.toLowerCase():"";var b=this.comp.renderedFrame,C=this.keyframes,y=C[0].t;if(b>=y)return this.pv;var x,g;d?(m?x=Math.abs(this.elem.comp.globalData.frameRate*m):x=Math.max(0,this.elem.data.op-y),g=y+x):((!m||m>C.length-1)&&(m=C.length-1),g=C[m].t,x=g-y);var k,_,E;if(p==="pingpong"){var I=Math.floor((y-b)/x);if(I%2===0)return this.getValueAtTime(((y-b)%x+y)/this.comp.globalData.frameRate,0)}else if(p==="offset"){var F=this.getValueAtTime(y/this.comp.globalData.frameRate,0),z=this.getValueAtTime(g/this.comp.globalData.frameRate,0),O=this.getValueAtTime((x-(y-b)%x+y)/this.comp.globalData.frameRate,0),N=Math.floor((y-b)/x)+1;if(this.pv.length){for(E=new Array(F.length),_=E.length,k=0;k<_;k+=1)E[k]=O[k]-(z[k]-F[k])*N;return E}return O-(z-F)*N}else if(p==="continue"){var V=this.getValueAtTime(y/this.comp.globalData.frameRate,0),H=this.getValueAtTime((y+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(E=new Array(V.length),_=E.length,k=0;k<_;k+=1)E[k]=V[k]+(V[k]-H[k])*(y-b)/.001;return E}return V+(V-H)*(y-b)/.001}return this.getValueAtTime((x-((y-b)%x+y))/this.comp.globalData.frameRate,0)}function r(p,m){if(!this.k)return this.pv;if(p=(p||.4)*.5,m=Math.floor(m||5),m<=1)return this.pv;var d=this.comp.renderedFrame/this.comp.globalData.frameRate,b=d-p,C=d+p,y=m>1?(C-b)/(m-1):1,x=0,g=0,k;this.pv.length?k=createTypedArray("float32",this.pv.length):k=0;for(var _;x<m;){if(_=this.getValueAtTime(b+x*y),this.pv.length)for(g=0;g<this.pv.length;g+=1)k[g]+=_[g];else k+=_;x+=1}if(this.pv.length)for(g=0;g<this.pv.length;g+=1)k[g]/=m;else k/=m;return k}function n(p){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var m=this._transformCachingAtTime.v;if(m.cloneFromProps(this.pre.props),this.appliedTransformations<1){var d=this.a.getValueAtTime(p);m.translate(-d[0]*this.a.mult,-d[1]*this.a.mult,d[2]*this.a.mult)}if(this.appliedTransformations<2){var b=this.s.getValueAtTime(p);m.scale(b[0]*this.s.mult,b[1]*this.s.mult,b[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var C=this.sk.getValueAtTime(p),y=this.sa.getValueAtTime(p);m.skewFromAxis(-C*this.sk.mult,y*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var x=this.r.getValueAtTime(p);m.rotate(-x*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var g=this.rz.getValueAtTime(p),k=this.ry.getValueAtTime(p),_=this.rx.getValueAtTime(p),E=this.or.getValueAtTime(p);m.rotateZ(-g*this.rz.mult).rotateY(k*this.ry.mult).rotateX(_*this.rx.mult).rotateZ(-E[2]*this.or.mult).rotateY(E[1]*this.or.mult).rotateX(E[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var I=this.px.getValueAtTime(p),F=this.py.getValueAtTime(p);if(this.data.p.z){var z=this.pz.getValueAtTime(p);m.translate(I*this.px.mult,F*this.py.mult,-z*this.pz.mult)}else m.translate(I*this.px.mult,F*this.py.mult,0)}else{var O=this.p.getValueAtTime(p);m.translate(O[0]*this.p.mult,O[1]*this.p.mult,-O[2]*this.p.mult)}return m}function i(){return this.v.clone(new Matrix)}var a=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(p,m,d){var b=a(p,m,d);return b.dynamicProperties.length?b.getValueAtTime=n.bind(b):b.getValueAtTime=i.bind(b),b.setGroupProperty=expressionHelpers.setGroupProperty,b};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(p,m,d,b,C){var y=s(p,m,d,b,C);y.kf?y.getValueAtTime=expressionHelpers.getValueAtTime.bind(y):y.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(y),y.setGroupProperty=expressionHelpers.setGroupProperty,y.loopOut=e,y.loopIn=t,y.smooth=r,y.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(y),y.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(y),y.numKeys=m.a===1?m.k.length:0,y.propertyIndex=m.ix;var x=0;return d!==0&&(x=createTypedArray("float32",m.a===1?m.k[0].s.length:m.k.length)),y._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:x},expressionHelpers.searchExpressions(p,m,y),y.k&&C.addDynamicProperty(y),y};function o(p){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),p*=this.elem.globalData.frameRate,p-=this.offsetTime,p!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<p?this._caching.lastIndex:0,this._cachingAtTime.lastTime=p,this.interpolateShape(p,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var l=ShapePropertyFactory.getConstructorFunction(),u=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(m,d){this.k&&this.getValue();var b=this.v;d!==void 0&&(b=this.getValueAtTime(d,0));var C,y=b._length,x=b[m],g=b.v,k=createSizedArray(y);for(C=0;C<y;C+=1)m==="i"||m==="o"?k[C]=[x[C][0]-g[C][0],x[C][1]-g[C][1]]:k[C]=[x[C][0],x[C][1]];return k},points:function(m){return this.vertices("v",m)},inTangents:function(m){return this.vertices("i",m)},outTangents:function(m){return this.vertices("o",m)},isClosed:function(){return this.v.c},pointOnPath:function(m,d){var b=this.v;d!==void 0&&(b=this.getValueAtTime(d,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(b));for(var C=this._segmentsLength,y=C.lengths,x=C.totalLength*m,g=0,k=y.length,_=0,E;g<k;){if(_+y[g].addedLength>x){var I=g,F=b.c&&g===k-1?0:g+1,z=(x-_)/y[g].addedLength;E=bez.getPointInSegment(b.v[I],b.v[F],b.o[I],b.i[F],z,y[g]);break}else _+=y[g].addedLength;g+=1}return E||(E=b.c?[b.v[0][0],b.v[0][1]]:[b.v[b._length-1][0],b.v[b._length-1][1]]),E},vectorOnPath:function(m,d,b){m==1?m=this.v.c:m==0&&(m=.999);var C=this.pointOnPath(m,d),y=this.pointOnPath(m+.001,d),x=y[0]-C[0],g=y[1]-C[1],k=Math.sqrt(Math.pow(x,2)+Math.pow(g,2));if(k===0)return[0,0];var _=b==="tangent"?[x/k,g/k]:[-g/k,x/k];return _},tangentOnPath:function(m,d){return this.vectorOnPath(m,d,"tangent")},normalOnPath:function(m,d){return this.vectorOnPath(m,d,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],l),extendPrototype([c],u),u.prototype.getValueAtTime=o,u.prototype.initiateExpression=ExpressionManager.initiateExpression;var f=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(p,m,d,b,C){var y=f(p,m,d,b,C);return y.propertyIndex=m.ix,y.lock=!1,d===3?expressionHelpers.searchExpressions(p,m.pt,y):d===4&&expressionHelpers.searchExpressions(p,m.ks,y),y.k&&p.addDynamicProperty(y),y}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(t,r){var n=this.calculateExpression(r);if(t.t!==n){var i={};return this.copyData(i,t),i.t=n.toString(),i.__complete=!1,i}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),r=this.searchExpressions();return this.kf=t||r,this.kf},TextProperty.prototype.searchExpressions=e}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function e(t,r){var n=createNS("feMerge");n.setAttribute("result",t);var i,a;for(a=0;a<r.length;a+=1)i=createNS("feMergeNode"),i.setAttribute("in",r[a]),n.appendChild(i),n.appendChild(i);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,r,n,i){this.filterManager=t;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","linearRGB"),a.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=a,a.setAttribute("result",n+"_tint_1"),e.appendChild(a),a=createNS("feColorMatrix"),a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.setAttribute("result",n+"_tint_2"),e.appendChild(a),this.matrixFilter=a;var s=this.createMergeNode(n,[i,n+"_tint_1",n+"_tint_2"]);e.appendChild(s)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+n+" 0"),this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}};function SVGFillFilter(e,t,r,n){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",n),e.appendChild(i),this.matrixFilter=i}SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}};function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var e=this.elem.layerElement.children||this.elem.layerElement.childNodes,t,r,n,i;for(this.filterManager.effectElements[1].p.v===1?(i=this.elem.maskManager.masksProperties.length,n=0):(n=this.filterManager.effectElements[0].p.v-1,i=n+1),r=createNS("g"),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),r.setAttribute("stroke-dashoffset",1),n;n<i;n+=1)t=createNS("path"),r.appendChild(t),this.paths.push({p:t,m:n});if(this.filterManager.effectElements[10].p.v===3){var a=createNS("mask"),s=createElementID();a.setAttribute("id",s),a.setAttribute("mask-type","alpha"),a.appendChild(r),this.elem.globalData.defs.appendChild(a);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+s+")");e[0];)o.appendChild(e[0]);this.elem.layerElement.appendChild(o),this.masker=a,r.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(e=this.elem.layerElement.children||this.elem.layerElement.childNodes;e.length;)this.elem.layerElement.removeChild(e[0]);this.elem.layerElement.appendChild(r),this.elem.layerElement.removeAttribute("mask"),r.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=r},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,r=this.paths.length,n,i;for(t=0;t<r;t+=1)if(this.paths[t].m!==-1&&(n=this.elem.maskManager.viewData[this.paths[t].m],i=this.paths[t].p,(e||this.filterManager._mdf||n.prop._mdf)&&i.setAttribute("d",n.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var a;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,l=i.getTotalLength();a="0 0 0 "+l*s+" ";var u=l*(o-s),c=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,f=Math.floor(u/c),p;for(p=0;p<f;p+=1)a+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";a+="0 "+l*10+" 0 0"}else a="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;i.setAttribute("stroke-dasharray",a)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var m=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(m[0]*255)+","+bmFloor(m[1]*255)+","+bmFloor(m[2]*255)+")")}};function SVGTritoneFilter(e,t,r,n){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(i);var a=createNS("feComponentTransfer");a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",n),this.matrixFilter=a;var s=createNS("feFuncR");s.setAttribute("type","table"),a.appendChild(s),this.feFuncR=s;var o=createNS("feFuncG");o.setAttribute("type","table"),a.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),a.appendChild(l),this.feFuncB=l,e.appendChild(a)}SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,i=n[0]+" "+r[0]+" "+t[0],a=n[1]+" "+r[1]+" "+t[1],s=n[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",s)}};function SVGProLevelsFilter(e,t,r,n){this.filterManager=t;var i=this.filterManager.effectElements,a=createNS("feComponentTransfer");(i[10].p.k||i[10].p.v!==0||i[11].p.k||i[11].p.v!==1||i[12].p.k||i[12].p.v!==1||i[13].p.k||i[13].p.v!==0||i[14].p.k||i[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",a)),(i[17].p.k||i[17].p.v!==0||i[18].p.k||i[18].p.v!==1||i[19].p.k||i[19].p.v!==1||i[20].p.k||i[20].p.v!==0||i[21].p.k||i[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",a)),(i[24].p.k||i[24].p.v!==0||i[25].p.k||i[25].p.v!==1||i[26].p.k||i[26].p.v!==1||i[27].p.k||i[27].p.v!==0||i[28].p.k||i[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",a)),(i[31].p.k||i[31].p.v!==0||i[32].p.k||i[32].p.v!==1||i[33].p.k||i[33].p.v!==1||i[34].p.k||i[34].p.v!==0||i[35].p.k||i[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",a)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(a.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(a)),(i[3].p.k||i[3].p.v!==0||i[4].p.k||i[4].p.v!==1||i[5].p.k||i[5].p.v!==1||i[6].p.k||i[6].p.v!==0||i[7].p.k||i[7].p.v!==1)&&(a=createNS("feComponentTransfer"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",n),e.appendChild(a),this.feFuncRComposed=this.createFeFunc("feFuncR",a),this.feFuncGComposed=this.createFeFunc("feFuncG",a),this.feFuncBComposed=this.createFeFunc("feFuncB",a))}SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,n,i){for(var a=0,s=256,o,l=Math.min(e,t),u=Math.max(e,t),c=Array.call(null,{length:s}),f,p=0,m=i-n,d=t-e;a<=256;)o=a/256,o<=l?f=d<0?i:n:o>=u?f=d<0?n:i:f=n+m*Math.pow((o-e)/d,1/r),c[p]=f,p+=1,a+=256/(s-1);return c.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}};function SVGDropShadowEffect(e,t,r,n,i){var a=t.container.globalData.renderConfig.filterSize,s=t.data.fs||a;e.setAttribute("x",s.x||a.x),e.setAttribute("y",s.y||a.y),e.setAttribute("width",s.width||a.width),e.setAttribute("height",s.height||a.height),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",n+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,e.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",n+"_drop_shadow_1"),l.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var u=createNS("feFlood");u.setAttribute("flood-color","#00ff00"),u.setAttribute("flood-opacity","1"),u.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=u,e.appendChild(u);var c=createNS("feComposite");c.setAttribute("in",n+"_drop_shadow_3"),c.setAttribute("in2",n+"_drop_shadow_2"),c.setAttribute("operator","in"),c.setAttribute("result",n+"_drop_shadow_4"),e.appendChild(c);var f=this.createMergeNode(n,[n+"_drop_shadow_4",i]);e.appendChild(f)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(t[0]*255),Math.round(t[1]*255),Math.round(t[2]*255)))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=r*Math.cos(n),a=r*Math.sin(n);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",a)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var n=r.children,i=0,a=n.length;i<a&&n[i]!==e.layerElement;)i+=1;var s;i<=a-2&&(s=n[i+1]);var o=createNS("use");o.setAttribute("href","#"+t),s?r.insertBefore(o,s):r.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var i=e.globalData.defs;i.appendChild(n);var a=createNS("symbol");a.setAttribute("id",r),this.replaceInParent(t,r),a.appendChild(t.layerElement),i.appendChild(a);var s=createNS("use");s.setAttribute("href","#"+r),n.appendChild(s),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,n=t.length;r<n;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(e,t,r,n){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var i=createNS("feGaussianBlur");i.setAttribute("result",n),e.appendChild(i),this.feGaussianBlur=i}SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3,r=this.filterManager.effectElements[0].p.v*t,n=this.filterManager.effectElements[1].p.v,i=n==3?0:r,a=n==2?0:r;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+a);var s=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}};function TransformEffect(){}TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var t=this.effectsManager.effectElements,r=t[0].p.v,n=t[1].p.v,i=t[2].p.v===1,a=t[3].p.v,s=i?a:t[4].p.v,o=t[5].p.v,l=t[6].p.v,u=t[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(s*.01,a*.01,1),this.matrix.rotate(-u*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(n[0],n[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(e,t){this.init(t)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(e){this.init(e)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _iterableToArrayLimit(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(n){_defineProperty(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _objectWithoutProperties(e,t){if(e==null)return{};var r,n,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toPrimitive(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t=="symbol"?t:t+""}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function e(t,r){var n=t.animationData,i=t.loop,a=t.autoplay,s=t.initialSegment,o=t.onComplete,l=t.onLoopComplete,u=t.onEnterFrame,c=t.onSegmentStart,f=t.onConfigReady,p=t.onDataReady,m=t.onDataFailed,d=t.onLoadedImages,b=t.onDOMLoaded,C=t.onDestroy;t.lottieRef,t.renderer,t.name,t.assetsPath,t.rendererSettings;var y=_objectWithoutProperties(t,_excluded$1),x=React.useState(!1),g=_slicedToArray(x,2),k=g[0],_=g[1],E=React.useRef(),I=React.useRef(null),F=function(){var j;(j=E.current)===null||j===void 0||j.play()},z=function(){var j;(j=E.current)===null||j===void 0||j.stop()},O=function(){var j;(j=E.current)===null||j===void 0||j.pause()},N=function(j){var L;(L=E.current)===null||L===void 0||L.setSpeed(j)},V=function(j,L){var W;(W=E.current)===null||W===void 0||W.goToAndPlay(j,L)},H=function(j,L){var W;(W=E.current)===null||W===void 0||W.goToAndStop(j,L)},G=function(j){var L;(L=E.current)===null||L===void 0||L.setDirection(j)},B=function(j,L){var W;(W=E.current)===null||W===void 0||W.playSegments(j,L)},T=function(j){var L;(L=E.current)===null||L===void 0||L.setSubframe(j)},R=function(j){var L;return(L=E.current)===null||L===void 0?void 0:L.getDuration(j)},S=function(){var j;(j=E.current)===null||j===void 0||j.destroy(),E.current=void 0},P=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L;if(I.current){(L=E.current)===null||L===void 0||L.destroy();var W=_objectSpread2(_objectSpread2(_objectSpread2({},t),j),{},{container:I.current});return E.current=lottie.loadAnimation(W),_(!!E.current),function(){var Y;(Y=E.current)===null||Y===void 0||Y.destroy(),E.current=void 0}}};React.useEffect(function(){var D=P();return function(){return D==null?void 0:D()}},[n,i]),React.useEffect(function(){E.current&&(E.current.autoplay=!!a)},[a]),React.useEffect(function(){if(E.current){if(!s){E.current.resetSegments(!0);return}!Array.isArray(s)||!s.length||((E.current.currentRawFrame<s[0]||E.current.currentRawFrame>s[1])&&(E.current.currentRawFrame=s[0]),E.current.setSegment(s[0],s[1]))}},[s]),React.useEffect(function(){var D=[{name:"complete",handler:o},{name:"loopComplete",handler:l},{name:"enterFrame",handler:u},{name:"segmentStart",handler:c},{name:"config_ready",handler:f},{name:"data_ready",handler:p},{name:"data_failed",handler:m},{name:"loaded_images",handler:d},{name:"DOMLoaded",handler:b},{name:"destroy",handler:C}],j=D.filter(function(W){return W.handler!=null});if(j.length){var L=j.map(function(W){var Y;return(Y=E.current)===null||Y===void 0||Y.addEventListener(W.name,W.handler),function(){var q;(q=E.current)===null||q===void 0||q.removeEventListener(W.name,W.handler)}});return function(){L.forEach(function(W){return W()})}}},[o,l,u,c,f,p,m,d,b,C]);var A=React.createElement("div",_objectSpread2({style:r,ref:I},y));return{View:A,play:F,stop:z,pause:O,setSpeed:N,goToAndStop:H,goToAndPlay:V,setDirection:G,playSegments:B,setSubframe:T,getDuration:R,destroy:S,animationContainerRef:I,animationLoaded:k,animationItem:E.current}};function getContainerVisibility(e){var t=e.getBoundingClientRect(),r=t.top,n=t.height,i=window.innerHeight-r,a=window.innerHeight+n;return i/a}function getContainerCursorPosition(e,t,r){var n=e.getBoundingClientRect(),i=n.top,a=n.left,s=n.width,o=n.height,l=(t-a)/s,u=(r-i)/o;return{x:l,y:u}}var useInitInteractivity=function e(t){var r=t.wrapperRef,n=t.animationItem,i=t.mode,a=t.actions;React.useEffect(function(){var s=r.current;if(!(!s||!n||!a.length)){n.stop();var o=function(){var c=null,f=function(){var m=getContainerVisibility(s),d=a.find(function(C){var y=C.visibility;return y&&m>=y[0]&&m<=y[1]});if(d){if(d.type==="seek"&&d.visibility&&d.frames.length===2){var b=d.frames[0]+Math.ceil((m-d.visibility[0])/(d.visibility[1]-d.visibility[0])*d.frames[1]);//! goToAndStop must be relative to the start of the current segment
n.goToAndStop(b-n.firstFrame-1,!0)}d.type==="loop"&&(c===null||c!==d.frames||n.isPaused)&&(n.playSegments(d.frames,!0),c=d.frames),d.type==="play"&&n.isPaused&&(n.resetSegments(!0),n.play()),d.type==="stop"&&n.goToAndStop(d.frames[0]-n.firstFrame-1,!0)}};return document.addEventListener("scroll",f),function(){document.removeEventListener("scroll",f)}},l=function(){var c=function(d,b){var C=d,y=b;if(C!==-1&&y!==-1){var x=getContainerCursorPosition(s,C,y);C=x.x,y=x.y}var g=a.find(function(E){var I=E.position;return I&&Array.isArray(I.x)&&Array.isArray(I.y)?C>=I.x[0]&&C<=I.x[1]&&y>=I.y[0]&&y<=I.y[1]:I&&!Number.isNaN(I.x)&&!Number.isNaN(I.y)?C===I.x&&y===I.y:!1});if(g){if(g.type==="seek"&&g.position&&Array.isArray(g.position.x)&&Array.isArray(g.position.y)&&g.frames.length===2){var k=(C-g.position.x[0])/(g.position.x[1]-g.position.x[0]),_=(y-g.position.y[0])/(g.position.y[1]-g.position.y[0]);n.playSegments(g.frames,!0),n.goToAndStop(Math.ceil((k+_)/2*(g.frames[1]-g.frames[0])),!0)}g.type==="loop"&&n.playSegments(g.frames,!0),g.type==="play"&&(n.isPaused&&n.resetSegments(!1),n.playSegments(g.frames)),g.type==="stop"&&n.goToAndStop(g.frames[0],!0)}},f=function(d){c(d.clientX,d.clientY)},p=function(){c(-1,-1)};return s.addEventListener("mousemove",f),s.addEventListener("mouseout",p),function(){s.removeEventListener("mousemove",f),s.removeEventListener("mouseout",p)}};switch(i){case"scroll":return o();case"cursor":return l()}}},[i,n])},useLottieInteractivity=function e(t){var r=t.actions,n=t.mode,i=t.lottieObj,a=i.animationItem,s=i.View,o=i.animationContainerRef;return useInitInteractivity({actions:r,animationItem:a,mode:n,wrapperRef:o}),s},_excluded=["style","interactivity"],Lottie=function e(t){var r,n,i,a=t.style,s=t.interactivity,o=_objectWithoutProperties(t,_excluded),l=useLottie(o,a),u=l.View,c=l.play,f=l.stop,p=l.pause,m=l.setSpeed,d=l.goToAndStop,b=l.goToAndPlay,C=l.setDirection,y=l.playSegments,x=l.setSubframe,g=l.getDuration,k=l.destroy,_=l.animationContainerRef,E=l.animationLoaded,I=l.animationItem;return React.useEffect(function(){t.lottieRef&&(t.lottieRef.current={play:c,stop:f,pause:p,setSpeed:m,goToAndPlay:b,goToAndStop:d,setDirection:C,playSegments:y,setSubframe:x,getDuration:g,destroy:k,animationContainerRef:_,animationLoaded:E,animationItem:I})},[(r=t.lottieRef)===null||r===void 0?void 0:r.current]),useLottieInteractivity({lottieObj:{View:u,play:c,stop:f,pause:p,setSpeed:m,goToAndStop:d,goToAndPlay:b,setDirection:C,playSegments:y,setSubframe:x,getDuration:g,destroy:k,animationContainerRef:_,animationLoaded:E,animationItem:I},actions:(n=s==null?void 0:s.actions)!==null&&n!==void 0?n:[],mode:(i=s==null?void 0:s.mode)!==null&&i!==void 0?i:"scroll"})};const v$1="5.9.6",fr$1=25,ip$1=0,op$1=80,w$1=800,h$1=800,nm$1="LoadingIcon_1",ddd$1=0,assets$1=[],layers$1=[{ddd:0,ind:1,ty:4,nm:"? 5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[375.9,615.791,0],ix:2,l:2},a:{a:0,k:[181.623,59.536,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:52,s:[702,702,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:54,s:[875.7,875.7,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:56,s:[702,702,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:58,s:[875.7,875.7,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:60,s:[702,702,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:62,s:[785.7,785.7,100]},{t:64,s:[702,702,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-3.067],[3.065,0],[0,3.064],[-3.068,0]],o:[[0,3.064],[-3.068,0],[0,-3.067],[3.065,0]],v:[[5.553,.001],[.001,5.551],[-5.553,.001],[.001,-5.551]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745098039,.109803921569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[181.623,59.536],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:7211,st:-20,ct:1,bm:0},{ddd:0,ind:2,ty:4,nm:"? 4",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:70,s:[100]},{t:80,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[397.632,421.144,0],ix:2,l:2},a:{a:0,k:[184.615,32.737,0],ix:1,l:2},s:{a:0,k:[702,702,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.185,3.206],[12.15,.138],[11.14,-7.06],[-4.59,-6.249],[-7.706,2.019],[.308,5.013],[3.49,-.297],[-4.62,3.084],[3.623,-15.075],[4.185,-2.377],[.772,-4.543],[-1.718,-1.782],[-1.817,-.087],[-2.09,2.698],[-9.001,1.028],[-2.679,4.874]],o:[[-10.563,-6.528],[-12.899,-.147],[-4.773,3.026],[5.369,7.312],[3.912,-1.02],[-.293,-4.726],[-5.526,.466],[7.72,-5.145],[-1.229,5.104],[-4.097,2.33],[-.36,2.121],[1.192,1.237],[4.213,.198],[5.636,-7.284],[5.486,-.623],[3.401,-6.19]],v:[[37.287,-13.498],[1.534,-22.722],[-36.51,-13.199],[-45.512,3.137],[-20.644,7.437],[-6.088,-1.5],[-18.896,-5.65],[-22.94,-11.859],[15.955,-6.075],[1.103,3.826],[-9.048,14.024],[-6.781,20.486],[-2.195,22.671],[7.233,16.507],[30.278,8.599],[46.701,2.044]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tr",p:{a:0,k:[181.322,59.349],ix:2},a:{a:0,k:[-2.979,36.23],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[.57]},o:{x:[.691],y:[0]},t:0,s:[100]},{i:{x:[.391],y:[.775]},o:{x:[.702],y:[.256]},t:19.444,s:[85]},{t:50.5556640625,s:[0]}],ix:1},e:{a:1,k:[{i:{x:[.298],y:[.511]},o:{x:[.609],y:[.421]},t:19.444,s:[100]},{i:{x:[.309],y:[1]},o:{x:[.333],y:[.837]},t:50.426,s:[15]},{t:70,s:[.1]}],ix:2},o:{a:0,k:-80,ix:3},m:1,ix:3,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745098039,.109803921569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1}],ip:0,op:7211,st:-20,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"? 3",sr:1,ks:{o:{a:0,k:30,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[397.632,421.144,0],ix:2,l:2},a:{a:0,k:[184.615,32.737,0],ix:1,l:2},s:{a:0,k:[702,702,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.185,3.206],[12.15,.138],[11.14,-7.06],[-4.59,-6.249],[-7.706,2.019],[.308,5.013],[3.49,-.297],[-4.62,3.084],[3.623,-15.075],[4.185,-2.377],[.772,-4.543],[-1.718,-1.782],[-1.817,-.087],[-2.09,2.698],[-9.001,1.028],[-2.679,4.874]],o:[[-10.563,-6.528],[-12.899,-.147],[-4.773,3.026],[5.369,7.312],[3.912,-1.02],[-.293,-4.726],[-5.526,.466],[7.72,-5.145],[-1.229,5.104],[-4.097,2.33],[-.36,2.121],[1.192,1.237],[4.213,.198],[5.636,-7.284],[5.486,-.623],[3.401,-6.19]],v:[[37.287,-13.498],[1.534,-22.722],[-36.51,-13.199],[-45.512,3.137],[-20.644,7.437],[-6.088,-1.5],[-18.896,-5.65],[-22.94,-11.859],[15.955,-6.075],[1.103,3.826],[-9.048,14.024],[-6.781,20.486],[-2.195,22.671],[7.233,16.507],[30.278,8.599],[46.701,2.044]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tr",p:{a:0,k:[181.322,59.349],ix:2},a:{a:0,k:[-2.979,36.23],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745098039,.109803921569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:4,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1}],ip:0,op:7211,st:-20,ct:1,bm:0}],markers$1=[],WSLoaderAnimation$1={v:v$1,fr:fr$1,ip:ip$1,op:op$1,w:w$1,h:h$1,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1},WSLoader=()=>JsxRuntime.jsx("div",{className:"wsLoader",children:JsxRuntime.jsx(Lottie,{animationData:WSLoaderAnimation$1,autoplay:!0,loop:!0})}),streamStatus="_streamStatus_lwy1j_1",loader="_loader_lwy1j_12",styles$5={streamStatus,loader},AGENT_THINKING_TIMEOUT=2e3,AGENT_TAKING_LONGER_TIMEOUT=8e3,StreamStatus=()=>{const{loading:e,localisations:t,streamStatus:r}=React.useContext(AiChatbotContext),n=s=>{const o=getLocalisations(t)(s);return o.charAt(0).toUpperCase()+o.slice(1)},[i,a]=React.useState(()=>n("agent_thinking"));return React.useEffect(()=>{let s,o;return r&&(a(()=>n(r)),(async()=>(s=setTimeout(()=>{a(()=>n("agent_thinking"))},AGENT_THINKING_TIMEOUT),o=setTimeout(()=>{a(()=>n("agent_taking_longer"))},AGENT_TAKING_LONGER_TIMEOUT)))()),()=>{clearTimeout(s),clearTimeout(o),a(()=>n("agent_thinking"))}},[r]),JsxRuntime.jsx("div",{className:styles$5.streamStatus,children:e&&JsxRuntime.jsxs(JsxRuntime.Fragment,{children:[JsxRuntime.jsx("div",{className:styles$5.loader,children:JsxRuntime.jsx(WSLoader,{})}),JsxRuntime.jsx("span",{children:i})]})})},messages$1="_messages_1ak9b_8",message="_message_1ak9b_8",promptsLoader="_promptsLoader_1ak9b_25",wsLogo="_wsLogo_1ak9b_30",styles$4={messages:messages$1,message,promptsLoader,wsLogo},Messages=e=>{const{canSendMessage:t,expandChatWindow:r,followupQuestions:n,isFollowupLoading:i,isLoggedIn:a,isSessionHistoryLoading:s,localisations:o,messages:l}=React.useContext(AiChatbotContext),u=l.length===1,c=React.useRef(null),f=React.useMemo(()=>({position:e.smoothScroll?"start":"end",smoothScroll:e.smoothScroll}),[l]);useAutoScroll(c,l,f);const p=getLocalisations(o);return JsxRuntime.jsxs("div",{className:styles$4.messages,children:[JsxRuntime.jsx("div",{children:l.map((m,d)=>JsxRuntime.jsxs("div",{className:styles$4.message,ref:d===l.length-1?c:null,children:[JsxRuntime.jsx(Message,{isChatWindowExpanded:r,message:m}),JsxRuntime.jsx("div",{className:styles$4.feedback,children:m.role==="model"&&m.id&&JsxRuntime.jsx(ChatFeedbackControls,{messageId:m.id})})]},`${m.role}-${m.timestamp}`))}),JsxRuntime.jsx(StreamStatus,{}),JsxRuntime.jsxs("div",{children:[!i&&!e.isLoading&&n&&t&&JsxRuntime.jsx(Chips,{onClick:e.handleChipPromptClick,prompts:n}),s&&JsxRuntime.jsx("span",{className:styles$4.promptsLoader,children:p("loading_session_history")}),i&&!localStorage.getItem(chatLoadingStorage.interruptedKey)&&JsxRuntime.jsx("span",{className:styles$4.promptsLoader,children:p(u?"loading_initial_prompts":"loading_followup_questions")})]}),!a&&!t&&JsxRuntime.jsx(SignInMessage,{})]})},SendPromptIcon=()=>JsxRuntime.jsxs("svg",{"aria-label":"send-prompt",fill:"none",height:"18",role:"img",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg",children:[JsxRuntime.jsx("g",{clipPath:"url(#clip0_23856_1612)",children:JsxRuntime.jsx("path",{d:"M18 0L13.5 16.5L7.40325 11.0707L13.2548 4.89525L5.41125 10.3155L0 9L18 0ZM6.75 12.501V18L9.1935 14.6768L6.75 12.501Z",fill:"#A8A8A8"})}),JsxRuntime.jsx("defs",{children:JsxRuntime.jsx("clipPath",{id:"clip0_23856_1612",children:JsxRuntime.jsx("rect",{fill:"white",height:"18",width:"18"})})})]}),promptInput="_promptInput_zk87n_1",inputGroup="_inputGroup_zk87n_9",inputGroup_disabled="_inputGroup_disabled_zk87n_9",chatInterrupted="_chatInterrupted_zk87n_33",styles$3={promptInput,inputGroup,inputGroup_disabled,chatInterrupted},PromptInput=React.forwardRef(({canSendMessage:e,newSessionLoading:t,sendPrompt:r,setError:n},i)=>{const[a,s]=React.useState(""),{chat:o,loading:l,localisations:u,maxPromptLength:c,messages:f}=React.useContext(AiChatbotContext);React.useEffect(()=>{a.length>(c||300)?n(new Error(`Prompt exceeds maximum length of ${c} characters`)):n(null)},[a,c,n]);const p=t||!e,m=p||a.length===0||a.length>(c||300)||l,d=()=>{r(),s(""),trackEvent("chatbot_enter_prompt")},b=x=>{m||x.code==="Enter"&&(x.preventDefault(),d())},C=()=>{var g;const x=(g=f.slice().reverse().find(k=>k.role==="user"))==null?void 0:g.text;x&&(o(x),chatLoadingStorage.removeInterrupted())},y=getLocalisations(u);return JsxRuntime.jsxs("div",{className:styles$3.promptInput,children:[localStorage.getItem(chatLoadingStorage.interruptedKey)&&JsxRuntime.jsxs("div",{className:styles$3.chatInterrupted,children:[JsxRuntime.jsx("span",{children:y("response_interrupted")}),JsxRuntime.jsx("button",{onClick:C,children:"⟳"})]}),JsxRuntime.jsxs("div",{className:e?styles$3.inputGroup:styles$3.inputGroup_disabled,children:[e&&JsxRuntime.jsx("input",{disabled:p,name:"promptInput",onChange:x=>{s(x.target.value)},onKeyDown:b,placeholder:t?"Fetching new session...":"Ask Teammate",ref:i,type:"text",value:a}),JsxRuntime.jsx("button",{disabled:m,onClick:d,children:JsxRuntime.jsx(SendPromptIcon,{})})]})]})}),usageTracker="_usageTracker_1ygfl_1",signUp="_signUp_1ygfl_12",hidden="_hidden_1ygfl_16",styles$2={usageTracker,signUp,hidden},UsageTracker=()=>{const{canSendMessage:e,tokensRemaining:t}=React.useContext(AiChatbotContext),r=t||localStorage.getItem("TM_tokens");return JsxRuntime.jsx("div",{className:e?styles$2.usageTracker:styles$2.hidden,children:(e||r)&&JsxRuntime.jsxs(JsxRuntime.Fragment,{children:[JsxRuntime.jsx("span",{children:`You have ${r} ${r===1?"message":"messages"} left. `}),JsxRuntime.jsx("a",{className:styles$2.signUp,href:"/accounts/register",children:"Sign Up"})," ",JsxRuntime.jsx("span",{children:"for unlimited access"})]})})},chatWindow="_chatWindow_1j5kz_8",header="_header_1j5kz_8",title="_title_1j5kz_16",logoWrapper="_logoWrapper_1j5kz_22",wsText="_wsText_1j5kz_28",betaTag="_betaTag_1j5kz_33",arrow="_arrow_1j5kz_42",closeButton="_closeButton_1j5kz_48",expandButton="_expandButton_1j5kz_53",messages="_messages_1j5kz_62",styles$1={chatWindow,header,title,logoWrapper,wsText,betaTag,arrow,closeButton,expandButton,messages},ChatWindow=()=>{const[e,t]=React.useState(!1),[r,n]=React.useState(!!localStorage.getItem("TM_tokens")),{canSendMessage:i,chat:a,isLoggedIn:s,loading:o,messages:l,newSessionError:u,newSessionLoading:c,sessionId:f,setExpandChatWindow:p,setShowChatWindow:m}=React.useContext(AiChatbotContext),d=React.useRef(null),[b,C]=React.useState(null),y=()=>{var k;(k=d==null?void 0:d.current)!=null&&k.value&&(a(d.current.value),d.current.value="",t(!0))},x=k=>{i&&(a(k),t(!0))};React.useEffect(()=>{var k;(k=d==null?void 0:d.current)==null||k.focus()},[]),React.useEffect(()=>{var k;!s&&((k=l[l.length-1])==null?void 0:k.role)==="model"&&n(!0)},[l]);const g=()=>{m(!1),trackEvent("chatbot_close_button")};return JsxRuntime.jsxs("div",{className:styles$1.chatWindow,children:[JsxRuntime.jsxs("div",{className:styles$1.header,children:[JsxRuntime.jsxs("div",{className:styles$1.title,children:[JsxRuntime.jsx("div",{className:styles$1.logoWrapper,children:JsxRuntime.jsx(WhoScoredLogo,{})}),JsxRuntime.jsxs("span",{children:[JsxRuntime.jsx("span",{className:styles$1.wsText,children:"WhoScored"})," ",JsxRuntime.jsx(TeammateLogo,{fontSize:14})]}),JsxRuntime.jsx("div",{className:styles$1.betaTag,children:"Beta"})]}),JsxRuntime.jsxs("div",{style:{alignItems:"center",display:"flex",gap:10},children:[JsxRuntime.jsx("div",{className:styles$1.expandButton,onClick:()=>p(k=>!k),children:JsxRuntime.jsx(ExpandIcon,{})}),JsxRuntime.jsx("div",{className:styles$1.closeButton,onClick:g,children:JsxRuntime.jsx(CloseIcon,{})})]})]}),JsxRuntime.jsx("div",{className:styles$1.messages,children:JsxRuntime.jsx(Messages,{handleChipPromptClick:x,isLoading:o,smoothScroll:e})}),JsxRuntime.jsx(PromptInput,{canSendMessage:i,newSessionError:u,newSessionLoading:c,ref:d,sendPrompt:y,sessionId:f,setError:C}),b&&JsxRuntime.jsx(Alert,{message:b.message,type:"error"}),r&&!api.get("ui")&&JsxRuntime.jsx(UsageTracker,{})]})},v="5.9.6",fr=25,ip=0,op=90,w=250,h=250,nm="WS_ClickMe_3",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"? 12",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:50,s:[0]},{t:82,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[123.832,129.201,0],ix:2,l:2},a:{a:0,k:[184.615,32.737,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:0,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:4,s:[170.096,170.096,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:8,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:40,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:45,s:[170.096,170.096,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:50,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:90,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:95,s:[170.096,170.096,100]},{t:100,s:[150.545,150.545,100]}],ix:6,l:2,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.185,3.206],[12.15,.138],[11.14,-7.06],[-4.59,-6.249],[-7.706,2.019],[.308,5.013],[3.49,-.297],[-4.62,3.084],[3.623,-15.075],[4.185,-2.377],[.772,-4.543],[-1.718,-1.782],[-1.817,-.087],[-2.09,2.698],[-9.001,1.028],[-2.679,4.874]],o:[[-10.563,-6.528],[-12.899,-.147],[-4.773,3.026],[5.369,7.312],[3.912,-1.02],[-.293,-4.726],[-5.526,.466],[7.72,-5.145],[-1.229,5.104],[-4.097,2.33],[-.36,2.121],[1.192,1.237],[4.213,.198],[5.636,-7.284],[5.486,-.623],[3.401,-6.19]],v:[[37.287,-13.498],[1.534,-22.722],[-36.51,-13.199],[-45.512,3.137],[-20.644,7.437],[-6.088,-1.5],[-18.896,-5.65],[-22.94,-11.859],[15.955,-6.075],[1.103,3.826],[-9.048,14.024],[-6.781,20.486],[-2.195,22.671],[7.233,16.507],[30.278,8.599],[46.701,2.044]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[181.322,59.349],ix:2},a:{a:0,k:[-2.979,36.23],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-3.067],[3.065,0],[0,3.064],[-3.068,0]],o:[[0,3.064],[-3.068,0],[0,-3.067],[3.065,0]],v:[[5.553,.001],[.001,5.551],[-5.553,.001],[.001,-5.551]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[181.623,59.536],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:50,op:185,st:-21,ct:1,bm:0},{ddd:0,ind:2,ty:4,nm:"? 11",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:8,s:[0]},{t:40,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[123.832,129.201,0],ix:2,l:2},a:{a:0,k:[184.615,32.737,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:0,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:4,s:[170.096,170.096,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:8,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:40,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:45,s:[170.096,170.096,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:50,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:90,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:95,s:[170.096,170.096,100]},{t:100,s:[150.545,150.545,100]}],ix:6,l:2,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.185,3.206],[12.15,.138],[11.14,-7.06],[-4.59,-6.249],[-7.706,2.019],[.308,5.013],[3.49,-.297],[-4.62,3.084],[3.623,-15.075],[4.185,-2.377],[.772,-4.543],[-1.718,-1.782],[-1.817,-.087],[-2.09,2.698],[-9.001,1.028],[-2.679,4.874]],o:[[-10.563,-6.528],[-12.899,-.147],[-4.773,3.026],[5.369,7.312],[3.912,-1.02],[-.293,-4.726],[-5.526,.466],[7.72,-5.145],[-1.229,5.104],[-4.097,2.33],[-.36,2.121],[1.192,1.237],[4.213,.198],[5.636,-7.284],[5.486,-.623],[3.401,-6.19]],v:[[37.287,-13.498],[1.534,-22.722],[-36.51,-13.199],[-45.512,3.137],[-20.644,7.437],[-6.088,-1.5],[-18.896,-5.65],[-22.94,-11.859],[15.955,-6.075],[1.103,3.826],[-9.048,14.024],[-6.781,20.486],[-2.195,22.671],[7.233,16.507],[30.278,8.599],[46.701,2.044]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[181.322,59.349],ix:2},a:{a:0,k:[-2.979,36.23],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-3.067],[3.065,0],[0,3.064],[-3.068,0]],o:[[0,3.064],[-3.068,0],[0,-3.067],[3.065,0]],v:[[5.553,.001],[.001,5.551],[-5.553,.001],[.001,-5.551]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[181.623,59.536],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:8,op:185,st:-21,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"? 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[123.832,129.201,0],ix:2,l:2},a:{a:0,k:[184.615,32.737,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:0,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:4,s:[170.096,170.096,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:8,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:40,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:45,s:[170.096,170.096,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:50,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:90,s:[150.545,150.545,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:95,s:[170.096,170.096,100]},{t:100,s:[150.545,150.545,100]}],ix:6,l:2,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.185,3.206],[12.15,.138],[11.14,-7.06],[-4.59,-6.249],[-7.706,2.019],[.308,5.013],[3.49,-.297],[-4.62,3.084],[3.623,-15.075],[4.185,-2.377],[.772,-4.543],[-1.718,-1.782],[-1.817,-.087],[-2.09,2.698],[-9.001,1.028],[-2.679,4.874]],o:[[-10.563,-6.528],[-12.899,-.147],[-4.773,3.026],[5.369,7.312],[3.912,-1.02],[-.293,-4.726],[-5.526,.466],[7.72,-5.145],[-1.229,5.104],[-4.097,2.33],[-.36,2.121],[1.192,1.237],[4.213,.198],[5.636,-7.284],[5.486,-.623],[3.401,-6.19]],v:[[37.287,-13.498],[1.534,-22.722],[-36.51,-13.199],[-45.512,3.137],[-20.644,7.437],[-6.088,-1.5],[-18.896,-5.65],[-22.94,-11.859],[15.955,-6.075],[1.103,3.826],[-9.048,14.024],[-6.781,20.486],[-2.195,22.671],[7.233,16.507],[30.278,8.599],[46.701,2.044]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[181.322,59.349],ix:2},a:{a:0,k:[-2.979,36.23],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-3.067],[3.065,0],[0,3.064],[-3.068,0]],o:[[0,3.064],[-3.068,0],[0,-3.067],[3.065,0]],v:[[5.553,.001],[.001,5.551],[-5.553,.001],[.001,-5.551]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[181.623,59.536],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:185,st:-21,ct:1,bm:0},{ddd:0,ind:4,ty:4,nm:"? 10",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:50,s:[20]},{t:82,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[123.832,129.201,0],ix:2,l:2},a:{a:0,k:[184.615,32.737,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:50,s:[150.545,150.545,100]},{t:129,s:[1745.929,1745.929,100]}],ix:6,l:2,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`}},ao:0,ef:[{ty:28,nm:"Set Matte",np:8,mn:"ADBE Set Matte3",ix:1,en:1,ef:[{ty:10,nm:"Take Matte From Layer",mn:"ADBE Set Matte3-0001",ix:1,v:{a:0,k:6,ix:1}},{ty:7,nm:"Use For Matte",mn:"ADBE Set Matte3-0002",ix:2,v:{a:0,k:4,ix:2}},{ty:7,nm:"Invert Matte",mn:"ADBE Set Matte3-0003",ix:3,v:{a:0,k:0,ix:3}},{ty:7,nm:"If Layer Sizes Differ",mn:"ADBE Set Matte3-0004",ix:4,v:{a:0,k:1,ix:4}},{ty:7,nm:"Composite Matte with Original",mn:"ADBE Set Matte3-0005",ix:5,v:{a:0,k:1,ix:5}},{ty:7,nm:"Premultiply Matte Layer",mn:"ADBE Set Matte3-0006",ix:6,v:{a:0,k:1,ix:6}}]}],shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.185,3.206],[12.15,.138],[11.14,-7.06],[-4.59,-6.249],[-7.706,2.019],[.308,5.013],[3.49,-.297],[-4.62,3.084],[3.623,-15.075],[4.185,-2.377],[.772,-4.543],[-1.718,-1.782],[-1.817,-.087],[-2.09,2.698],[-9.001,1.028],[-2.679,4.874]],o:[[-10.563,-6.528],[-12.899,-.147],[-4.773,3.026],[5.369,7.312],[3.912,-1.02],[-.293,-4.726],[-5.526,.466],[7.72,-5.145],[-1.229,5.104],[-4.097,2.33],[-.36,2.121],[1.192,1.237],[4.213,.198],[5.636,-7.284],[5.486,-.623],[3.401,-6.19]],v:[[37.287,-13.498],[1.534,-22.722],[-36.51,-13.199],[-45.512,3.137],[-20.644,7.437],[-6.088,-1.5],[-18.896,-5.65],[-22.94,-11.859],[15.955,-6.075],[1.103,3.826],[-9.048,14.024],[-6.781,20.486],[-2.195,22.671],[7.233,16.507],[30.278,8.599],[46.701,2.044]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:50,s:[1]},{t:82,s:[.1]}],ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[181.322,59.349],ix:2},a:{a:0,k:[-2.979,36.23],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-3.067],[3.065,0],[0,3.064],[-3.068,0]],o:[[0,3.064],[-3.068,0],[0,-3.067],[3.065,0]],v:[[5.553,.001],[.001,5.551],[-5.553,.001],[.001,-5.551]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:50,s:[1]},{t:82,s:[.1]}],ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[181.623,59.536],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:50,op:82,st:19,ct:1,bm:0},{ddd:0,ind:5,ty:4,nm:"? 8",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:8,s:[20]},{t:40,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[123.832,129.201,0],ix:2,l:2},a:{a:0,k:[184.615,32.737,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:8,s:[150.545,150.545,100]},{t:87,s:[1745.929,1745.929,100]}],ix:6,l:2,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`}},ao:0,ef:[{ty:28,nm:"Set Matte",np:8,mn:"ADBE Set Matte3",ix:1,en:1,ef:[{ty:10,nm:"Take Matte From Layer",mn:"ADBE Set Matte3-0001",ix:1,v:{a:0,k:6,ix:1}},{ty:7,nm:"Use For Matte",mn:"ADBE Set Matte3-0002",ix:2,v:{a:0,k:4,ix:2}},{ty:7,nm:"Invert Matte",mn:"ADBE Set Matte3-0003",ix:3,v:{a:0,k:0,ix:3}},{ty:7,nm:"If Layer Sizes Differ",mn:"ADBE Set Matte3-0004",ix:4,v:{a:0,k:1,ix:4}},{ty:7,nm:"Composite Matte with Original",mn:"ADBE Set Matte3-0005",ix:5,v:{a:0,k:1,ix:5}},{ty:7,nm:"Premultiply Matte Layer",mn:"ADBE Set Matte3-0006",ix:6,v:{a:0,k:1,ix:6}}]}],shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.185,3.206],[12.15,.138],[11.14,-7.06],[-4.59,-6.249],[-7.706,2.019],[.308,5.013],[3.49,-.297],[-4.62,3.084],[3.623,-15.075],[4.185,-2.377],[.772,-4.543],[-1.718,-1.782],[-1.817,-.087],[-2.09,2.698],[-9.001,1.028],[-2.679,4.874]],o:[[-10.563,-6.528],[-12.899,-.147],[-4.773,3.026],[5.369,7.312],[3.912,-1.02],[-.293,-4.726],[-5.526,.466],[7.72,-5.145],[-1.229,5.104],[-4.097,2.33],[-.36,2.121],[1.192,1.237],[4.213,.198],[5.636,-7.284],[5.486,-.623],[3.401,-6.19]],v:[[37.287,-13.498],[1.534,-22.722],[-36.51,-13.199],[-45.512,3.137],[-20.644,7.437],[-6.088,-1.5],[-18.896,-5.65],[-22.94,-11.859],[15.955,-6.075],[1.103,3.826],[-9.048,14.024],[-6.781,20.486],[-2.195,22.671],[7.233,16.507],[30.278,8.599],[46.701,2.044]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:8,s:[1]},{t:40,s:[.1]}],ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[181.322,59.349],ix:2},a:{a:0,k:[-2.979,36.23],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6,x:`var $bm_rt;
var freq, decay, n, n, t, amp, w;
freq = 3;
decay = 5;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time)
        n--;
}
if (n > 0) {
    t = $bm_sub(time, key(n).time);
    amp = velocityAtTime($bm_sub(key(n).time, 0.001));
    w = $bm_mul($bm_mul(freq, Math.PI), 2);
    $bm_rt = $bm_sum(value, $bm_mul(amp, $bm_div($bm_div(Math.sin($bm_mul(t, w)), Math.exp($bm_mul(decay, t))), w)));
} else
    $bm_rt = value;`},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-3.067],[3.065,0],[0,3.064],[-3.068,0]],o:[[0,3.064],[-3.068,0],[0,-3.067],[3.065,0]],v:[[5.553,.001],[.001,5.551],[-5.553,.001],[.001,-5.551]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.341176470588,.862745157878,.109803929048,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:8,s:[1]},{t:40,s:[.1]}],ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[181.623,59.536],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:8,op:40,st:-23,ct:1,bm:0},{ddd:0,ind:6,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[118.201,119.541,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[61,61,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[377.297,377.297],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:.1,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.117647058824,.117647058824,.117647058824,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[10.148,8.148],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:450,st:0,ct:1,bm:0}],markers=[],WSLoaderAnimation={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers},WSAnimatedLogo=()=>JsxRuntime.jsx("div",{"aria-label":"wsAnimatedLogo",role:"img",children:JsxRuntime.jsx(Lottie,{animationData:WSLoaderAnimation,autoplay:!0,loop:!0})}),useCloseOnClickOutside=(e,t)=>{React.useEffect(()=>{const r=function(n){n.composedPath().includes(e.current)||t()};return document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}},[e,t])},aiChatBot_open="_aiChatBot_open_1bqtt_8",aiChatBot_expand="_aiChatBot_expand_1bqtt_8",aiChatBot_closed="_aiChatBot_closed_1bqtt_42",popupMessage="_popupMessage_1bqtt_51",tip="_tip_1bqtt_59",showChatWindowToggle="_showChatWindowToggle_1bqtt_70",styles={aiChatBot_open,aiChatBot_expand,aiChatBot_closed,popupMessage,tip,showChatWindowToggle},AiChatbot=()=>{const{expandChatWindow:e,setShowChatWindow:t,showChatWindow:r}=React.useContext(AiChatbotContext),n=React.useRef(null),i=a=>{a.stopPropagation(),t(!0),trackEvent("chatbot_open_button")};return useCloseOnClickOutside(n,()=>t(!1)),JsxRuntime.jsx("div",{className:r?e?styles.aiChatBot_expand:styles.aiChatBot_open:styles.aiChatBot_closed,children:r?JsxRuntime.jsx("div",{ref:n,children:JsxRuntime.jsx(ChatWindow,{})}):JsxRuntime.jsxs(JsxRuntime.Fragment,{children:[JsxRuntime.jsx("button",{"aria-label":"open-chatbot",className:styles.showChatWindowToggle,onClick:a=>i(a),style:{background:"none",border:"none",height:70,padding:0,width:70},children:JsxRuntime.jsx(WSAnimatedLogo,{})}),JsxRuntime.jsxs("div",{className:styles.popupMessage,children:[JsxRuntime.jsx(TeammateLogo,{fontSize:17}),JsxRuntime.jsx("div",{className:styles.tip})]})]})})},queryClient=new ReactQuery.QueryClient({defaultOptions:{queries:{staleTime:1/0}}});function AiChatbotWithQuery({dehydratedState:e,...t}){return ReactQuery.hydrate(queryClient,e),JsxRuntime.jsx(ReactQuery.QueryClientProvider,{client:queryClient,children:JsxRuntime.jsx(React.Suspense,{fallback:JsxRuntime.jsx("div",{children:"Loading..."}),children:JsxRuntime.jsx(AiChatbotContextProvider,{...t,children:JsxRuntime.jsx(AiChatbot,{})})})})}return AiChatbotWithQuery});
